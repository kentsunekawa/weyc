/*! For license information please see script.js.LICENSE.txt */
(()=>{var t={99:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,o=n(655),a=n(589),s=n(909),u=n(594),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",p=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Yd("@firebase/app"),v=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(t),this.container=new s.H0(e.name),this._addComponent(new s.wA("app",(function(){return u}),"PUBLIC"));try{for(var c=(0,o.XA)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new s.wA(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!(0,a.r3)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&(0,a.ZB)(f,s.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,s.multipleInstances?t:[])}}try{for(var p=(0,o.XA)(Object.keys(e)),v=p.next();!v.done;v=p.next()){var g=v.value;e[g]._addComponent(s)}}catch(t){u={error:t}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(v);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.ZB)(e,t)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if((0,a.jU)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.UG)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=g;!function(t,e){t.INTERNAL.registerComponent(new s.wA("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w);const _=w},909:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u,zt:()=>s});var r=n(655),i=n(589),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=a);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=(0,r.pi)({identifier:a,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(a)}catch(t){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService(l);c.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.fl)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===a?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:a:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},446:(t,e,n)=>{"use strict";var r=n(99),i=n(655),o=n(589),a=n(594),s=n(909);t=n.hmd(t);var u,c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.Pz)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.cI)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),l=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.r3)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),h=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(t){}return new l},f=h("localStorage"),p=h("sessionStorage"),d=new a.Yd("@firebase/database"),v=(u=1,function(){return u++}),g=function(t){var e=(0,o.dS)(t),n=new o.gQ;n.update(e);var r=n.digest();return o.US.encodeByteArray(r)},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=y.apply(null,i):n+="object"==typeof i?(0,o.Pz)(i):i,n+=" "}return n},m=null,b=!0,w=function(t,e){(0,o.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(d.logLevel=a.in.VERBOSE,m=d.log.bind(d),e&&p.set("logging_enabled",!0)):"function"==typeof t?m=t:(m=null,p.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===m&&!0===p.get("logging_enabled")&&w(!0)),m){var n=y.apply(null,t);m(n)}},E=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,(0,i.fl)([t],e))}},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,(0,i.fl)(t));d.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,(0,i.fl)(t));throw d.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,(0,i.fl)(t));d.warn(n)},k=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},C="[MIN_NAME]",x="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===C||e===x)return-1;if(e===C||t===x)return 1;var n=K(t),r=K(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.Pz)(e))},O=function(t){if("object"!=typeof t||null===t)return(0,o.Pz)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(e[i]),r+=":",r+=O(t[e[i]]);return r+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function D(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L,M,F,j,U,V,q,z,B,G,W=function(t){(0,o.hu)(!k(t),"Invalid JSON number");var e,n,r,i,a;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},H=new RegExp("^-?(0*)\\d{1,10}$"),K=function(t){if(H.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},J=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw S("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Q=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},$=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Y=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=(0,o.ug)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=(0,o.ug)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),X="firebaseio.com",Z="websocket",tt="long_polling",et=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if((0,o.hu)("string"==typeof t,"typeof type must == string"),(0,o.hu)("object"==typeof e,"typeof params must == object"),t===Z)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==tt)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return D(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),nt=function(t,e){var n=rt(t),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new et(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new $(n.pathString)}},rt=function(t){var e="",n="",r="",o="",a="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(h,f)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=(0,i.XA)(t.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var d=e.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=r}"ns"in p&&(a=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},it=/[\[\].#$\/\u0000-\u001F\u007F]/,ot=/[\[\].#$\u0000-\u001F\u007F]/,at=10485760,st=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},ut=function(t){return"string"==typeof t&&0!==t.length&&!ot.test(t)},ct=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!k(t)||t&&"object"==typeof t&&(0,o.r3)(t,".sv")},lt=function(t,e,n,r,i){i&&void 0===n||ht((0,o.gK)(t,e,i),n,r)},ht=function(t,e,n){var r=n instanceof $?new Y(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(k(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>at/3&&(0,o.ug)(e)>at)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,a=!1;if(D(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(a=!0,!st(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),ht(t,n,r),r.pop()})),i&&a)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ft=function(t,e,n,r,i){if(!i||void 0!==n){var a=(0,o.gK)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];D(n,(function(t,e){var n=new $(t);if(ht(a,e,r.child(n)),".priority"===n.getBack()&&!ct(e))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!st(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort($.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},pt=function(t,e,n,r){if(!r||void 0!==n){if(k(n))throw new Error((0,o.gK)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ct(n))throw new Error((0,o.gK)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},vt=function(t,e,n,r){if(!(r&&void 0===n||st(n)))throw new Error((0,o.gK)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gt=function(t,e,n,r){if(!(r&&void 0===n||ut(n)))throw new Error((0,o.gK)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},yt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gt(t,e,n,r)},mt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},bt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!st(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ut(t)}(r))throw new Error((0,o.gK)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},wt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(t,e,r)+"must be a boolean.")},_t=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel",1,t,!0);var e=new o.BH;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),mt("OnDisconnect.remove",this.path_),(0,o.Wj)("OnDisconnect.remove",1,t,!0);var e=new o.BH;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),mt("OnDisconnect.set",this.path_),lt("OnDisconnect.set",1,t,this.path_,!1),(0,o.Wj)("OnDisconnect.set",2,e,!0);var n=new o.BH;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),mt("OnDisconnect.setWithPriority",this.path_),lt("OnDisconnect.setWithPriority",1,t,this.path_,!1),pt("OnDisconnect.setWithPriority",2,e,!1),(0,o.Wj)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.BH;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),mt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ft("OnDisconnect.update",1,t,this.path_,!1),(0,o.Wj)("OnDisconnect.update",2,e,!0);var i=new o.BH;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),Et=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),It=(L="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",M=0,F=[],function(t){var e,n=t===M;M=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=L.charAt(t%64),t=Math.floor(t/64);(0,o.hu)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===F[e];e--)F[e]=0;F[e]++}else for(e=0;e<12;e++)F[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=L.charAt(F[e]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i}),Tt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),St=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Tt(C,t),r=new Tt(C,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Tt.MIN},t}(),kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return j},set:function(t){j=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return new Tt(x,j)},e.prototype.makePost=function(t,e){return(0,o.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Tt(t,j)},e.prototype.toString=function(){return".key"},e}(St),Ct=new kt,xt=function(t){return"number"==typeof t?"number:"+W(t):"string:"+t},At=function(t){if(t.isLeafNode()){var e=t.val();(0,o.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,o.r3)(e,".sv"),"Priority must be a string or number.")}else(0,o.hu)(t===U||t.isEmpty(),"priority of unexpected type.");(0,o.hu)(t===U||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Nt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),At(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return V},set:function(t){V=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+xt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?W(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Pt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return new Tt(x,new Nt("[PRIORITY-POST]",z))},e.prototype.makePost=function(t,e){var n=q(t);return new Tt(e,new Nt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(St)),Ot=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Rt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Lt.EMPTY_NODE,this.right=null!=o?o:Lt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Lt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Lt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Dt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Rt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Lt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ot(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ot(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Dt,t}(),Mt=Math.log(2),Ft=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Mt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),jt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new Rt(a,o.node,Rt.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new Rt(a,o.node,Rt.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Rt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Rt.BLACK):(s(h,Rt.BLACK),s(h,Rt.RED))}return o}(new Ft(t.length));return new Lt(r||e,o)},Ut={},Vt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.hu)(Ut&&Pt,"ChildrenNode.ts has not been loaded"),B=B||new t({".priority":Ut},{".priority":Pt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Lt?e:null},t.prototype.hasIndex=function(t){return(0,o.r3)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.hu)(e!==Ct,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(Tt.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?jt(a,e.getCompare()):Ut;var l=e.toString(),h=(0,i.pi)({},this.indexSet_);h[l]=e;var f=(0,i.pi)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t((0,o.UI)(this.indexes_,(function(t,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),t===Ut){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(Tt.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),jt(s,a.getCompare())}return Ut}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Tt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,o.UI)(this.indexes_,(function(t){if(t===Ut)return t;var r=n.get(e.name);return r?t.remove(new Tt(e.name,r)):t})),this.indexSet_)},t}();function qt(t,e){return A(t.name,e.name)}function zt(t,e){return A(t,e)}var Bt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&At(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return G||(G=new t(new Lt(zt),null,Vt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||G},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?G:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Tt(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?G:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;(0,o.hu)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Pt,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+xt(this.getPriority().val())+":"),this.forEachChild(Pt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Tt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Tt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Tt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Tt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Tt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Gt?-1:0},t.prototype.withIndex=function(e){if(e===Ct||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ct||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Pt),r=e.getIterator(Pt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ct?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Gt=new(function(t){function e(){return t.call(this,new Lt(zt),Bt.EMPTY_NODE,Vt.Default)||this}return(0,i.ZT)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Bt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Bt));function Wt(t,e){if(void 0===e&&(e=null),null===t)return Bt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Nt(t,Wt(e));if(t instanceof Array){var n=Bt.EMPTY_NODE;return D(t,(function(e,r){if((0,o.r3)(t,e)&&"."!==e.substring(0,1)){var i=Wt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Wt(e))}var r=[],i=!1;if(D(t,(function(t,e){if("."!==t.substring(0,1)){var n=Wt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Tt(t,n)))}})),0===r.length)return Bt.EMPTY_NODE;var a=jt(r,qt,(function(t){return t.name}),zt);if(i){var s=jt(r,Pt.getCompare());return new Bt(a,Wt(e),new Vt({".priority":s},{".priority":Pt}))}return new Bt(a,Wt(e),Vt.Default)}Object.defineProperties(Tt,{MIN:{value:new Tt(C,Bt.EMPTY_NODE)},MAX:{value:new Tt(x,Gt)}}),kt.__EMPTY_NODE=Bt.EMPTY_NODE,Nt.__childrenNodeConstructor=Bt,U=Gt,z=Gt,function(t){q=t}(Wt);var Ht,Kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return Tt.MAX},e.prototype.makePost=function(t,e){var n=Wt(t);return new Tt(e,n)},e.prototype.toString=function(){return".value"},e}(St)),Jt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.hu)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return(0,i.ZT)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Wt(t),r=Bt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Tt(e,r)},e.prototype.maxPost=function(){var t=Bt.EMPTY_NODE.updateChild(this.indexPath_,Gt);return new Tt(x,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(St),Qt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),gt("DataSnapshot.child",1,e,!1);var n=new $(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Pt)},t.prototype.hasChild=function(t){(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),gt("DataSnapshot.hasChild",1,t,!1);var e=new $(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if((0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Pt))}))},t.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),$t=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},t}(),Yt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Xt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new $t("value",this,new Qt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){(0,o.hu)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Zt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,(0,o.r3)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.hu)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new $t(t.type,this,new Qt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){(0,o.hu)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),te=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return(0,o.hu)(Ht,"Reference.ts has not been loaded"),Ht},set:function(t){Ht=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ct){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==C)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==x)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Pt){if(null!=e&&!ct(e)||null!=n&&!ct(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(t.getIndex()instanceof Jt||t.getIndex()===Kt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return(0,o.Dv)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){(0,o.Dv)("Query.on",2,4,arguments.length),dt("Query.on",1,e,!1),(0,o.Wj)("Query.on",2,n,!1);var a=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[e]=n,this.onChildEvent(s,a.cancel,a.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Xt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Zt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){(0,o.Dv)("Query.off",0,3,arguments.length),dt("Query.off",1,t,!0),(0,o.Wj)("Query.off",2,e,!0),(0,o.lb)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var a=e||null;r=new Xt(a,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Zt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),dt("Query.once",1,e,!1),(0,o.Wj)("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.BH;c.promise.catch((function(){}));var l=function(t){u&&(u=!1,a.off(e,l),n&&n.bind(s.context)(t),c.resolve(t))};return this.on(e,l,(function(t){a.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if((0,o.Dv)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if((0,o.Dv)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if((0,o.Dv)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');gt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new $(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Jt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){(0,o.Dv)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Ct);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Pt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){(0,o.Dv)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),lt("Query.startAt",1,e,this.path,!0),vt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),lt("Query.endAt",1,e,this.path,!0),vt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if((0,o.Dv)("Query.equalTo",1,2,arguments.length),lt("Query.equalTo",1,t,this.path,!1),vt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=O(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),a=this.queryIdentifier()===e.queryIdentifier();return r&&i&&a},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,(0,o.Wj)(t,3,r.cancel,!0),r.context=n,(0,o.lb)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,o.gK)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),ee=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ne=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),re=function(t,e,n){return t&&"object"==typeof t?((0,o.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ie(t[".sv"],e,n):"object"==typeof t[".sv"]?oe(t[".sv"],e):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ie=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,o.hu)(!1,"Unexpected server value: "+t)}},oe=function(t,e,n){t.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},ae=function(t,e,n,r){return ue(e,new ne(n,t),r)},se=function(t,e,n){return ue(t,new ee(e),n)};function ue(t,e,n){var r,i=t.getPriority().val(),o=re(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=re(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Nt(s,Wt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Nt(o))),u.forEachChild(Pt,(function(t,i){var o=ue(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var ce,le=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Pt,(function(t,e){n.remember(new $(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new $(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ce||(ce={}));var he,fe,pe=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,(0,o.hu)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),de=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ce.ACK_USER_WRITE,this.source=pe.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new $(e));return new t($.Empty,n,this.revert)}return(0,o.hu)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ve=function(){function t(t,e){void 0===e&&(he||(he=new Lt(N)),e=he),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return D(e,(function(t,e){n=n.set(new $(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:$.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new $(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_($.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,$.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,$.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_($.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),ge=function(){function t(t,e){this.source=t,this.path=e,this.type=ce.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,$.Empty):new t(this.source,this.path.popFront())},t}(),ye=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ce.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,$.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),me=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ce.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new $(e));return n.isEmpty()?null:n.value?new ye(this.source,$.Empty,n.value):new t(this.source,$.Empty,n)}return(0,o.hu)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),be=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),we=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new be(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new be(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new be(Bt.EMPTY_NODE,!1,!1),new be(Bt.EMPTY_NODE,!1,!1)),t}(),_e=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Ee=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){(0,o.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(_e.childRemovedChange(e,s)):(0,o.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(_e.childAddedChange(e,n)):a.trackChildChange(_e.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Pt,(function(t,r){e.hasChild(t)||n.trackChildChange(_e.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Pt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(_e.childChangedChange(e,r,i))}else n.trackChildChange(_e.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Bt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ie=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.hu)(e===_e.CHILD_ADDED||e===_e.CHILD_CHANGED||e===_e.CHILD_REMOVED,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===_e.CHILD_ADDED&&i===_e.CHILD_REMOVED)this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_ADDED)this.changeMap.delete(n);else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_CHANGED)this.changeMap.set(n,_e.childRemovedChange(n,r.oldSnap));else if(e===_e.CHILD_CHANGED&&i===_e.CHILD_ADDED)this.changeMap.set(n,_e.childAddedChange(n,t.snapshotNode));else{if(e!==_e.CHILD_CHANGED||i!==_e.CHILD_CHANGED)throw(0,o.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Te=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Se=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new be(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),ke=function(t,e){this.viewCache=t,this.changes=e},Ce=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){(0,o.hu)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),(0,o.hu)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var a,s,u=new Ie;if(n.type===ce.OVERWRITE){var c=n;c.source.fromUser?a=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),a=this.applyServerOverwrite_(e,c.path,c.snap,r,i,s,u))}else if(n.type===ce.MERGE){var l=n;l.source.fromUser?a=this.applyUserMerge_(e,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,l.path,l.children,r,i,s,u))}else if(n.type===ce.ACK_USER_WRITE){var h=n;a=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ce.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,a,f),new ke(a,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_e.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if((0,o.hu)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=c instanceof Bt?c:Bt.EMPTY_NODE,h=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),f,i)}else{var p=e.getFront();if(".priority"===p){(0,o.hu)(1===e.getLength(),"Can't have a priority with additional path components");var d=a.getNode();u=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,d,u);s=null!=v?this.filter_.updatePriority(d,v):a.getNode()}else{var g=e.popFront(),y=void 0;if(a.isCompleteForChild(p)){u=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),u);y=null!=m?a.getNode().getImmediateChild(p).updateChild(g,m):a.getNode().getImmediateChild(p)}else y=n.calcCompleteChild(p,t.getServerCache());s=null!=y?this.filter_.updateChild(a.getNode(),p,y,g,r,i):a.getNode()}}return t.updateEventSnap(s,a.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,Te,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new Se(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new Se(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Bt.EMPTY_NODE}if(f.equals(p))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,p,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:ve.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new $(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new $(e),f,r,i,o,a)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=ve.Empty;return s.getNode().forEachChild(Ct,(function(t,e){u=u.set(new $(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=ve.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Te,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var a;if(null!=n.shadowingWrite(e))return t;var s=new Se(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();(0,o.hu)(h instanceof Bt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}l=l,c=this.filter_.updateFullNode(u,l,i)}else{var f=e.getFront(),p=n.calcCompleteChild(f,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(c=null!=p?this.filter_.updateChild(u,f,p,e.popFront(),s,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Bt.EMPTY_NODE,e.popFront(),s,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,a,i))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite($.Empty),t.updateEventSnap(c,a,this.filter_.filtersNodes())},t}(),xe=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===_e.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(_e.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,_e.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,_e.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,_e.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,_e.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,_e.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw(0,o.g5)("Should only compare child_ events.");var n=new Tt(t.childName,t.snapshotNode),r=new Tt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ae=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Ee(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ce(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Bt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Bt.EMPTY_NODE,a.getNode(),null),c=new be(s,o.isFullyInitialized(),r.filtersNodes()),l=new be(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new we(l,c),this.eventGenerator_=new xe(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(a+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ce.MERGE&&null!==t.source.queryId&&((0,o.hu)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),(0,o.hu)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),(0,o.hu)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Pt,(function(t,e){n.push(_e.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(_e.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Ne=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return(0,o.hu)(fe,"Reference.ts has not been loaded"),fe},set:function(t){(0,o.hu)(!fe,"__referenceConstructor has already been defined"),fe=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,a,s=t.source.queryId;if(null!==s){var u=this.views.get(s);return(0,o.hu)(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var c=[];try{for(var l=(0,i.XA)(this.views.values()),h=l.next();!h.done;h=l.next())u=h.value,c=c.concat(u.applyOperation(t,e,n))}catch(t){r={error:t}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return c},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Bt?(s=n.calcCompleteEventChildren(r),u=!1):(s=Bt.EMPTY_NODE,u=!1);var c=new we(new be(s,u,!1),new be(r,i,!1));a=new Ae(t,c),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,a,s=e.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var h=(0,i.XA)(this.views.entries()),f=h.next();!f.done;f=h.next()){var p=(0,i.CR)(f.value,2),d=p[0],v=p[1];c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(d),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery()))}}catch(t){o={error:t}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}else(v=this.views.get(s))&&(c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(s),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery())));return l&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=(0,i.XA)(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=(0,i.XA)(this.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r||s.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=(0,i.XA)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Pe=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ve(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=$.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new ve(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return D(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ve.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild($.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Pt,(function(e,n){t.push(new Tt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Tt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ve(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return Oe($.Empty,this.writeTree_,t)},t.Empty=new t(new ve(null)),t}();function Oe(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Oe(t.child(e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(t.child(".priority"),r)),n}var Re=function(){function t(){this.visibleWrites_=Pe.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new De(t,this)},t.prototype.addOverwrite=function(t,e,n,r){(0,o.hu)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){(0,o.hu)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,a=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(a=!0)),s--}return!!i&&(a?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):D(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite($.Empty)){var a=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);return c=n||Bt.EMPTY_NODE,a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite($.Empty)){var c=n||Bt.EMPTY_NODE;return u.apply(c)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Bt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Pt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Pt,(function(t,e){var r=i.childCompoundWrite(new $(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){(0,o.hu)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(e):a.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode($.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,$.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Pe.Empty,i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)n.contains(s)?(u=$.relativePath(n,s),r=r.addWrite(u,a.snap)):s.contains(n)&&(u=$.relativePath(s,n),r=r.addWrite($.Empty,a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(n.contains(s))u=$.relativePath(n,s),r=r.addWrites(u,a.children);else if(s.contains(n))if((u=$.relativePath(s,n)).isEmpty())r=r.addWrites($.Empty,a.children);else{var c=(0,o.DV)(a.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite($.Empty,l)}}}}}return r},t}(),De=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Le=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ve.Empty,this.pendingWriteTree_=new Re,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new ye(pe.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ve.fromObject(e);return this.applyOperationToSyncPoints_(new me(pe.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ve.Empty;return null!=n.snap?r=r.set($.Empty,!0):D(n.children,(function(t,e){r=r.set(new $(t),e)})),this.applyOperationToSyncPoints_(new de(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ye(pe.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ve.fromObject(e);return this.applyOperationToSyncPoints_(new me(pe.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ge(pe.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=$.relativePath(a,e),c=new ye(pe.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=$.relativePath(a,e),c=ve.fromObject(n),l=new me(pe.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=$.relativePath(o,e),u=new ge(pe.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=$.relativePath(t,r);i=i||e.getCompleteServerCache(n),a=a||e.hasCompleteView()}));var s,u=this.syncPointTree_.get(r);u?(a=a||u.hasCompleteView(),i=i||u.getCompleteServerCache($.Empty)):(u=new Ne,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=Bt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache($.Empty);n&&(i=i.updateImmediateChild(t,n))})));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);(0,o.hu)(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),p=u.addEventRegistration(e,n,f,i,s);if(!c&&!a){var d=u.viewForQuery(e);p=p.concat(this.setupListener_(e,d))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],g=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=$.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),D(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(i)(0,o.hu)(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),D(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Bt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return(0,o.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);(0,o.hu)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites($.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get($.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache($.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get($.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache($.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Me=function(){function t(){this.rootNode_=Bt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Fe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.p$)(this.counters_)},t}(),je=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Fe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ue=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,i.pi)({},t);return this.last_&&D(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Ve=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ue(t);var n=1e4+2e4*Math.random();Q(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;D(e,(function(e,i){i>0&&(0,o.r3)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),qe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new ze(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),ze=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();m&&_("event: "+e.toString()),J(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Be=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=(0,i.fl)(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,o.hu)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Ge=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return(0,i.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Be),We=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return(0,i.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Be),He=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&J((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),Ke="start",Je="close",Qe=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=je.getCollection(e),this.urlFn=function(t){return e.connectionURL(tt,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new He(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if((0,o.Yr)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new $e((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,i.CR)(t,5),o=r[0],a=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Ke)n.id=a,n.password=s;else{if(o!==Je)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,i.CR)(t,2),o=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(X)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!((0,o.Yr)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.h$)(e),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),$e=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){_("frame writing exception"),t.stack&&_(t.stack),_(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;(0,o.Yr)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),Ye="";function Xe(t){Ye=t}var Ze=null;"undefined"!=typeof MozWebSocket?Ze=MozWebSocket:"undefined"!=typeof WebSocket&&(Ze=WebSocket);var tn=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=je.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(X)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(Z,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+Ye+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},a=process.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new Ze(this.connURL,[],i)}else i={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new Ze(this.connURL,[],i)}catch(t){this.log_("Error instantiating WebSocket.");var u=t.message||t.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ze&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.cI)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),en=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Qe,tn]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=tn&&tn.isAvailable(),a=o&&!tn.previouslyFailed();if(e.webSocketOnly&&(o||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[tn];else{var s=this.transports_=[];try{for(var u=(0,i.XA)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),nn=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new en(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Q((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?I("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Q((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Q((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),rn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),on=1e3,an=function(t){function e(n,r,i,a,s,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=E("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=on,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Ge.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&We.getInstance().on("online",l.onOnline_,l),l}return(0,i.ZT)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r,a:t,b:e};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.BH,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),a=t.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,o.r3)(t,"w")){var n=(0,o.DV)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,o.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.Pz)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):I("Unrecognized action received from server: "+(0,o.Pz)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=on),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){(0,o.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,l=new nn(a,s.repoInfo_,s.applicationId_,n,r,i,(function(t){S(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(e){s.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&S(e),h())}))}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return O(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new $(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=(0,i.XA)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,(0,i.XA)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.Yr)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Ye.replace(/\./g,"-")]=1,(0,o.uI)()?t["framework.cordova"]=1:(0,o.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=We.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(rn),sn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return(0,i.ZT)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.hu)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=t.getQueryParams().toRestQueryStringParameters(),r=t.path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(e.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,o.xO)(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=(0,o.cI)(u.responseText)}catch(t){S("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&S("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},e}(rn),un="repo_interrupt",cn=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new le,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=je.getCollection(this.repoInfo_),this.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new sn(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(e)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new an(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=je.getOrCreateReporter(this.repoInfo_,(function(){return new Ve(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Me,this.infoSyncTree_=new Le({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Le({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new $(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new $(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var a=[];if(r)if(n){var s=(0,o.UI)(e,(function(t){return Wt(t)}));a=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=Wt(e);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=(0,o.UI)(e,(function(t){return Wt(t)}));a=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Wt(e);a=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;a.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,a)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;D(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new $("/.info/"+t),r=Wt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this;return this.server_.get(t).then((function(n){var r=Wt(n),i=e.serverSyncTree_.applyServerOverwrite(t.path,r);return e.eventQueue_.raiseEventsAtPath(t.path,i),Promise.resolve(new Qt(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){e.log_("get for query "+(0,o.Pz)(t)+" falling back to cache after error: "+n);var r=e.serverSyncTree_.calcCompleteEventCache(t.path);return r.isEmpty()?Promise.reject(new Error(n)):Promise.resolve(new Qt(r,t.getRef(),t.getQueryParams().getIndex()))}))},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Wt(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),u=se(a,s,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||S("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(D(e,(function(e,n){i=!1,a[e]=ae(t.child(e),Wt(n),r.serverSyncTree_,o)})),i)_("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||S("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),D(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new le;this.onDisconnect_.forEachTree($.Empty,(function(r,i){var o=ae(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree($.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new le,this.eventQueue_.raiseEventsForChangedPath($.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Wt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Wt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if((0,o.xb)(e))return _("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&D(e,(function(e,n){var i=Wt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(un)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(un)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ue(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);D(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),_.apply(void 0,(0,i.fl)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&J((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new _n(this))},enumerable:!1,configurable:!0}),t}(),ln=function(){function t(e){this.indexedFilter_=new Ee(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Tt(e,n))||(n=Bt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Bt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Bt.EMPTY_NODE);var i=this;return e.forEachChild(Pt,(function(t,e){i.matches(new Tt(t,e))||(r=r.updateImmediateChild(t,Bt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),hn=function(){function t(t){this.rangedFilter_=new ln(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Tt(e,n))||(n=Bt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Bt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Bt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Bt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new Tt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===e||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:a(p,c);if(h&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(_e.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(_e.childRemovedChange(e,f));var v=u.updateImmediateChild(e,Bt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(_e.childAddedChange(p.name,p.node)),v.updateImmediateChild(p.name,p.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(_e.childRemovedChange(l.name,l.node)),i.trackChildChange(_e.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Bt.EMPTY_NODE)):t},t}(),fn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:C},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:x},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Pt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Pt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ee(this.getIndex()):this.hasLimit()?new hn(this):new ln(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Pt?e=n.PRIORITY_INDEX:this.index_===Kt?e=n.VALUE_INDEX:this.index_===Ct?e=n.KEY_INDEX:((0,o.hu)(this.index_ instanceof Jt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=(0,o.Pz)(e),this.startSet_&&(r[n.START_AT]=(0,o.Pz)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+(0,o.Pz)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=(0,o.Pz)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+(0,o.Pz)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),pn=function(t){function e(e,n){if(!(e instanceof cn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,fn.DEFAULT,!1)||this}return(0,i.ZT)(e,t),e.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof $||(null===this.path.getFront()?yt("Reference.child",1,t,!1):gt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){(0,o.Dv)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){(0,o.Dv)("Reference.set",1,2,arguments.length),mt("Reference.set",this.path),lt("Reference.set",1,t,this.path,!1),(0,o.Wj)("Reference.set",2,e,!0);var n=new o.BH;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if((0,o.Dv)("Reference.update",1,2,arguments.length),mt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ft("Reference.update",1,t,this.path,!1),(0,o.Wj)("Reference.update",2,e,!0);var i=new o.BH;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if((0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),mt("Reference.setWithPriority",this.path),lt("Reference.setWithPriority",1,t,this.path,!1),pt("Reference.setWithPriority",2,e,!1),(0,o.Wj)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.BH;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return(0,o.Dv)("Reference.remove",0,1,arguments.length),mt("Reference.remove",this.path),(0,o.Wj)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if((0,o.Dv)("Reference.transaction",1,3,arguments.length),mt("Reference.transaction",this.path),(0,o.Wj)("Reference.transaction",1,t,!1),(0,o.Wj)("Reference.transaction",2,e,!0),wt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.BH;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new Et(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),mt("Reference.setPriority",this.path),pt("Reference.setPriority",1,t,!1),(0,o.Wj)("Reference.setPriority",2,e,!0);var n=new o.BH;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){(0,o.Dv)("Reference.push",0,2,arguments.length),mt("Reference.push",this.path),lt("Reference.push",1,t,this.path,!0),(0,o.Wj)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=It(r),a=this.child(i),s=this.child(i);return n=null!=t?a.set(t,e).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),a},e.prototype.onDisconnect=function(){return mt("Reference.onDisconnect",this.path),new _t(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(te);te.__referenceConstructor=pn,Ne.__referenceConstructor=pn;var dn,vn=function(){this.children={},this.childCount=0,this.value=null},gn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new vn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof $?e:new $(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,(0,o.DV)(r.node_.children,i)||new vn),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){(0,o.hu)(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;D(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new $(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=(0,o.r3)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(dn||(dn={})),cn.MAX_TRANSACTION_RETRIES_=25,cn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new gn},cn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},a=new pn(this,t);a.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:v(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new Qt(s.currentInputSnapshot,new pn(this,s.path),Pt);s.onComplete(null,!1,l)}}else{ht("transaction failed: Data returned ",c,s.path),s.status=dn.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(s),h.setValue(f);var p=void 0;"object"==typeof c&&null!==c&&(0,o.r3)(c,".priority")?(p=(0,o.DV)(c,".priority"),(0,o.hu)(ct(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||Bt.EMPTY_NODE).getPriority().val(),p=p;var d=this.generateServerValues(),g=Wt(c,p),y=se(g,u,d);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},cn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Bt.EMPTY_NODE},cn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===dn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},cn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),a=i,s=i.hash(),u=0;u<e.length;u++){var c=e[u];(0,o.hu)(c.status===dn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=dn.SENT,c.retryCount++;var l=$.relativePath(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=dn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new pn(n,e[a].path),c=new Qt(s,u,Pt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),a=0;a<o.length;a++)J(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status===dn.SENT_NEEDS_ABORT?e[a].status=dn.NEEDS_ABORT:e[a].status=dn.RUN;else for(S("transaction at "+f.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=dn.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}}),s)},cn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},cn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],a=t.filter((function(t){return t.status===dn.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var u=t[s],c=$.relativePath(e,u.path),l=!1,h=void 0;if((0,o.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===dn.NEEDS_ABORT)l=!0,h=u.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===dn.RUN)if(u.retryCount>=cn.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var f=this.getLatestState_(u.path,a);u.currentInputSnapshot=f;var p=t[s].update(f.val());if(void 0!==p){ht("transaction failed: Data returned ",p,u.path);var d=Wt(p);"object"==typeof p&&null!=p&&(0,o.r3)(p,".priority")||(d=d.updatePriority(f.getPriority()));var v=u.currentWriteId,g=this.generateServerValues(),y=se(d,f,g);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=y,u.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(v),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(u.path,y,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else l=!0,h="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],l&&(t[s].status=dn.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if("nodata"===h){var m=new pn(this,t[s].path),b=t[s].currentInputSnapshot,w=new Qt(b,m,Pt);r.push(t[s].onComplete.bind(null,null,!1,w))}else r.push(t[s].onComplete.bind(null,new Error(h),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),s=0;s<r.length;s++)J(r[s]);this.sendReadyTransactions_()}},cn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},cn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},cn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},cn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==dn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},cn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},cn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,a=0;a<e.length;a++)e[a].status===dn.SENT_NEEDS_ABORT||(e[a].status===dn.SENT?((0,o.hu)(i===a-1,"All SENT items should be at beginning of queue."),i=a,e[a].status=dn.SENT_NEEDS_ABORT,e[a].abortReason="set"):((0,o.hu)(e[a].status===dn.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete&&n.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),a=0;a<n.length;a++)J(n[a])}};var yn,mn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(t)},t}(),bn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),wn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return yn||(yn=new t),yn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=(0,i.XA)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,(0,i.XA)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].interrupt()}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=(0,i.XA)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,(0,i.XA)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].resume()}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new et(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new bn)},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,a=nt(i,r),s=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,i="http://"+u+"?ns="+s.namespace,s=(a=nt(i,r)).repoInfo):o=!a.repoInfo.secure;var c=r&&o?new bn:new mn(t,e);return bt("Invalid Firebase Database URL",1,a),a.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,t,c).database},t.prototype.deleteRepo=function(t){var e=(0,o.DV)(this.repos_,t.app.name);e&&(0,o.DV)(e,t.key)===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},t.prototype.createRepo=function(t,e,n){var r=(0,o.DV)(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=(0,o.DV)(r,t.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new cn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),_n=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return(0,i.mG)(e,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return this.checkDeleted_("delete"),wn.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof cn||T("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new pn(this.repo_,$.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?T("Cannot call useEmulator() after instance has already been initialized."):wn.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),(0,o.Dv)("database.ref",0,1,arguments.length),t instanceof pn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),(0,o.Dv)(e,1,1,arguments.length);var n=nt(t,this.repo_.repoInfo_.nodeAdmin);bt(e,1,n);var r=n.repoInfo;return r.isCustomHost()||r.host===this.repo_.repoInfo_.host||T(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&T("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){(0,o.Dv)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){(0,o.Dv)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),En=Object.freeze({__proto__:null,forceLongPolling:function(){tn.forceDisallow(),Qe.forceAllow()},forceWebSockets:function(){Qe.forceDisallow()},isWebSocketsAvailable:function(){return tn.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,u=void 0!==a&&a;Xe(r);var c=new s.zt("auth-internal",new s.H0("database-standalone"));return c.setComponent(new s.wA("auth-internal",(function(){return i}),"PRIVATE")),{instance:wn.getInstance().databaseFromApp(e,c,n,u),namespace:o}}}),In=an;an.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},an.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Tn=nn,Sn=et,kn=Object.freeze({__proto__:null,DataConnection:In,RealTimeConnection:Tn,hijackHash:function(t){var e=an.prototype.put;return an.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){an.prototype.put=e}},ConnectionTarget:Sn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){wn.getInstance().forceRestClient(t)}}),Cn=_n.ServerValue;!function(e){Xe(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new s.wA("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return wn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:pn,Query:te,Database:_n,DataSnapshot:Qt,enableLogging:w,INTERNAL:En,ServerValue:Cn,TEST_ACCESS:kn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.8.1"),(0,o.Yr)()&&(t.exports=n)}(r.Z)},594:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,{in:()=>o,Yd:()=>h,Ub:()=>f,Am:()=>p});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},589:(t,e,n)=>{"use strict";n.d(e,{BH:()=>f,LL:()=>C,ZR:()=>k,gQ:()=>V,zI:()=>S,hu:()=>i,g5:()=>o,US:()=>s,h$:()=>u,$s:()=>$,r3:()=>L,ne:()=>q,p$:()=>l,ZB:()=>h,gK:()=>W,z$:()=>p,GJ:()=>D,jU:()=>g,ru:()=>y,d:()=>b,xb:()=>F,w1:()=>w,hl:()=>I,uI:()=>d,UG:()=>v,Yr:()=>E,b$:()=>m,Mn:()=>_,w9:()=>R,cI:()=>N,UI:()=>j,xO:()=>U,DV:()=>M,ug:()=>Q,dS:()=>J,Pz:()=>P,Dv:()=>G,Wj:()=>H,lb:()=>K,eu:()=>T});var r=n(655),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return s.encodeByteArray(e,!0)},c=function(t){try{return s.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function v(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function g(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return p().indexOf("Electron/")>=0}function w(){var t=p();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _(){return p().indexOf("MSAppHost/")>=0}function E(){return!1}function I(){return"indexedDB"in self&&null!=indexedDB}function T(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function S(){return!(!navigator||!navigator.cookieEnabled)}var k=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,C.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),C=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?x(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new k(i,s,r);return u},t}();function x(t,e){return t.replace(A,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var A=/\{\$([^}]+)}/g;function N(t){return JSON.parse(t)}function P(t){return JSON.stringify(t)}var O=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=N(c(o[0])||""),n=N(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},R=function(t){var e=O(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},D=function(t){var e=O(t).claims;return"object"==typeof e&&!0===e.admin};function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function F(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function j(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function U(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var V=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function q(t,e){var n=new z(t,e);return n.subscribe.bind(n)}var z=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function B(){}var G=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function W(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+(r+" argument ")}function H(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(W(t,e,r)+"must be a valid function.")}function K(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(W(t,e,r)+"must be a valid context object.")}var J=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},Q=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function $(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},679:(t,e,n)=>{"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(e),v=u(n),g=0;g<a.length;++g){var y=a[g];if(!(o[y]||r&&r[y]||v&&v[y]||s&&s[y])){var m=f(n,y);try{c(e,y,m)}catch(t){}}}}return e}},676:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,a){n(i=t[e].apply(t,r)).then(o,a)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},486:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,c=128,l=1/0,h=9007199254740991,f=NaN,p=4294967295,d=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],v="[object Arguments]",g="[object Array]",y="[object Boolean]",m="[object Date]",b="[object Error]",w="[object Function]",_="[object GeneratorFunction]",E="[object Map]",I="[object Number]",T="[object Object]",S="[object Promise]",k="[object RegExp]",C="[object Set]",x="[object String]",A="[object Symbol]",N="[object WeakMap]",P="[object ArrayBuffer]",O="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",L="[object Int8Array]",M="[object Int16Array]",F="[object Int32Array]",j="[object Uint8Array]",U="[object Uint8ClampedArray]",V="[object Uint16Array]",q="[object Uint32Array]",z=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,K=RegExp(W.source),J=RegExp(H.source),Q=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+|\s+$/g,it=/^\s+/,ot=/\s+$/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,pt=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bt=/($^)/,wt=/['\n\r\u2028\u2029\\]/g,_t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Et="a-z\\xdf-\\xf6\\xf8-\\xff",It="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",St="["+Tt+"]",kt="["+_t+"]",Ct="\\d+",xt="["+Et+"]",At="[^\\ud800-\\udfff"+Tt+Ct+"\\u2700-\\u27bf"+Et+It+"]",Nt="\\ud83c[\\udffb-\\udfff]",Pt="[^\\ud800-\\udfff]",Ot="(?:\\ud83c[\\udde6-\\uddff]){2}",Rt="[\\ud800-\\udbff][\\udc00-\\udfff]",Dt="["+It+"]",Lt="(?:"+xt+"|"+At+")",Mt="(?:"+Dt+"|"+At+")",Ft="(?:['](?:d|ll|m|re|s|t|ve))?",jt="(?:['](?:D|LL|M|RE|S|T|VE))?",Ut="(?:"+kt+"|"+Nt+")?",Vt="[\\ufe0e\\ufe0f]?",qt=Vt+Ut+"(?:\\u200d(?:"+[Pt,Ot,Rt].join("|")+")"+Vt+Ut+")*",zt="(?:"+["[\\u2700-\\u27bf]",Ot,Rt].join("|")+")"+qt,Bt="(?:"+[Pt+kt+"?",kt,Ot,Rt,"[\\ud800-\\udfff]"].join("|")+")",Gt=RegExp("[']","g"),Wt=RegExp(kt,"g"),Ht=RegExp(Nt+"(?="+Nt+")|"+Bt+qt,"g"),Kt=RegExp([Dt+"?"+xt+"+"+Ft+"(?="+[St,Dt,"$"].join("|")+")",Mt+"+"+jt+"(?="+[St,Dt+Lt,"$"].join("|")+")",Dt+"?"+Lt+"+"+Ft,Dt+"+"+jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ct,zt].join("|"),"g"),Jt=RegExp("[\\u200d\\ud800-\\udfff"+_t+"\\ufe0e\\ufe0f]"),Qt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yt=-1,Xt={};Xt[R]=Xt[D]=Xt[L]=Xt[M]=Xt[F]=Xt[j]=Xt[U]=Xt[V]=Xt[q]=!0,Xt[v]=Xt[g]=Xt[P]=Xt[y]=Xt[O]=Xt[m]=Xt[b]=Xt[w]=Xt[E]=Xt[I]=Xt[T]=Xt[k]=Xt[C]=Xt[x]=Xt[N]=!1;var Zt={};Zt[v]=Zt[g]=Zt[P]=Zt[O]=Zt[y]=Zt[m]=Zt[R]=Zt[D]=Zt[L]=Zt[M]=Zt[F]=Zt[E]=Zt[I]=Zt[T]=Zt[k]=Zt[C]=Zt[x]=Zt[A]=Zt[j]=Zt[U]=Zt[V]=Zt[q]=!0,Zt[b]=Zt[w]=Zt[N]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,re="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ie="object"==typeof self&&self&&self.Object===Object&&self,oe=re||ie||Function("return this")(),ae=e&&!e.nodeType&&e,se=ae&&t&&!t.nodeType&&t,ue=se&&se.exports===ae,ce=ue&&re.process,le=function(){try{return se&&se.require&&se.require("util").types||ce&&ce.binding&&ce.binding("util")}catch(t){}}(),he=le&&le.isArrayBuffer,fe=le&&le.isDate,pe=le&&le.isMap,de=le&&le.isRegExp,ve=le&&le.isSet,ge=le&&le.isTypedArray;function ye(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function me(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function be(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function _e(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ee(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Ie(t,e){return!(null==t||!t.length)&&Re(t,e,0)>-1}function Te(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Se(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function ke(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ce(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function xe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ne=Fe("length");function Pe(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Oe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Re(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Oe(t,Le,n)}function De(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Le(t){return t!=t}function Me(t,e){var n=null==t?0:t.length;return n?Ve(t,e)/n:f}function Fe(t){return function(e){return null==e?i:e[t]}}function je(t){return function(e){return null==t?i:t[e]}}function Ue(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ve(t,e){for(var n,r=-1,o=t.length;++r<o;){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function qe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function ze(t){return function(e){return t(e)}}function Be(t,e){return Se(e,(function(e){return t[e]}))}function Ge(t,e){return t.has(e)}function We(t,e){for(var n=-1,r=t.length;++n<r&&Re(e,t[n],0)>-1;);return n}function He(t,e){for(var n=t.length;n--&&Re(e,t[n],0)>-1;);return n}function Ke(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Je=je({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Qe=je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function $e(t){return"\\"+te[t]}function Ye(t){return Jt.test(t)}function Xe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Ze(t,e){return function(n){return t(e(n))}}function tn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[i++]=n)}return o}function en(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function nn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function rn(t){return Ye(t)?function(t){for(var e=Ht.lastIndex=0;Ht.test(t);)++e;return e}(t):Ne(t)}function on(t){return Ye(t)?function(t){return t.match(Ht)||[]}(t):function(t){return t.split("")}(t)}var an=je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),sn=function t(e){var n,r=(e=null==e?oe:sn.defaults(oe.Object(),e,sn.pick(oe,$t))).Array,_t=e.Date,Et=e.Error,It=e.Function,Tt=e.Math,St=e.Object,kt=e.RegExp,Ct=e.String,xt=e.TypeError,At=r.prototype,Nt=It.prototype,Pt=St.prototype,Ot=e["__core-js_shared__"],Rt=Nt.toString,Dt=Pt.hasOwnProperty,Lt=0,Mt=(n=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ft=Pt.toString,jt=Rt.call(St),Ut=oe._,Vt=kt("^"+Rt.call(Dt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=ue?e.Buffer:i,zt=e.Symbol,Bt=e.Uint8Array,Ht=qt?qt.allocUnsafe:i,Jt=Ze(St.getPrototypeOf,St),te=St.create,re=Pt.propertyIsEnumerable,ie=At.splice,ae=zt?zt.isConcatSpreadable:i,se=zt?zt.iterator:i,ce=zt?zt.toStringTag:i,le=function(){try{var t=uo(St,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ne=e.clearTimeout!==oe.clearTimeout&&e.clearTimeout,je=_t&&_t.now!==oe.Date.now&&_t.now,un=e.setTimeout!==oe.setTimeout&&e.setTimeout,cn=Tt.ceil,ln=Tt.floor,hn=St.getOwnPropertySymbols,fn=qt?qt.isBuffer:i,pn=e.isFinite,dn=At.join,vn=Ze(St.keys,St),gn=Tt.max,yn=Tt.min,mn=_t.now,bn=e.parseInt,wn=Tt.random,_n=At.reverse,En=uo(e,"DataView"),In=uo(e,"Map"),Tn=uo(e,"Promise"),Sn=uo(e,"Set"),kn=uo(e,"WeakMap"),Cn=uo(St,"create"),xn=kn&&new kn,An={},Nn=jo(En),Pn=jo(In),On=jo(Tn),Rn=jo(Sn),Dn=jo(kn),Ln=zt?zt.prototype:i,Mn=Ln?Ln.valueOf:i,Fn=Ln?Ln.toString:i;function jn(t){if(es(t)&&!Ga(t)&&!(t instanceof zn)){if(t instanceof qn)return t;if(Dt.call(t,"__wrapped__"))return Uo(t)}return new qn(t)}var Un=function(){function t(){}return function(e){if(!ts(e))return{};if(te)return te(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Vn(){}function qn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function zn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Bn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Wn;++e<n;)this.add(t[e])}function Kn(t){var e=this.__data__=new Gn(t);this.size=e.size}function Jn(t,e){var n=Ga(t),r=!n&&Ba(t),i=!n&&!r&&Ja(t),o=!n&&!r&&!i&&cs(t),a=n||r||i||o,s=a?qe(t.length,Ct):[],u=s.length;for(var c in t)!e&&!Dt.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||go(c,u))||s.push(c);return s}function Qn(t){var e=t.length;return e?t[Wr(0,e-1)]:i}function $n(t,e){return Ro(ki(t),or(e,0,t.length))}function Yn(t){return Ro(ki(t))}function Xn(t,e,n){(n!==i&&!Va(t[e],n)||n===i&&!(e in t))&&rr(t,e,n)}function Zn(t,e,n){var r=t[e];Dt.call(t,e)&&Va(r,n)&&(n!==i||e in t)||rr(t,e,n)}function tr(t,e){for(var n=t.length;n--;)if(Va(t[n][0],e))return n;return-1}function er(t,e,n,r){return lr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function nr(t,e){return t&&Ci(e,Ps(e),t)}function rr(t,e,n){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ir(t,e){for(var n=-1,o=e.length,a=r(o),s=null==t;++n<o;)a[n]=s?i:ks(t,e[n]);return a}function or(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function ar(t,e,n,r,o,a){var s,u=1&e,c=2&e,l=4&e;if(n&&(s=o?n(t,r,o,a):n(t)),s!==i)return s;if(!ts(t))return t;var h=Ga(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return ki(t,s)}else{var f=ho(t),p=f==w||f==_;if(Ja(t))return wi(t,u);if(f==T||f==v||p&&!o){if(s=c||p?{}:po(t),!u)return c?function(t,e){return Ci(t,lo(t),e)}(t,function(t,e){return t&&Ci(e,Os(e),t)}(s,t)):function(t,e){return Ci(t,co(t),e)}(t,nr(s,t))}else{if(!Zt[f])return o?t:{};s=function(t,e,n){var r,i=t.constructor;switch(e){case P:return _i(t);case y:case m:return new i(+t);case O:return function(t,e){var n=e?_i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case R:case D:case L:case M:case F:case j:case U:case V:case q:return Ei(t,n);case E:return new i;case I:case x:return new i(t);case k:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case C:return new i;case A:return r=t,Mn?St(Mn.call(r)):{}}}(t,f,u)}}a||(a=new Kn);var d=a.get(t);if(d)return d;a.set(t,s),as(t)?t.forEach((function(r){s.add(ar(r,e,n,r,t,a))})):ns(t)&&t.forEach((function(r,i){s.set(i,ar(r,e,n,i,t,a))}));var g=h?i:(l?c?eo:to:c?Os:Ps)(t);return be(g||t,(function(r,i){g&&(r=t[i=r]),Zn(s,i,ar(r,e,n,i,t,a))})),s}function sr(t,e,n){var r=n.length;if(null==t)return!r;for(t=St(t);r--;){var o=n[r],a=e[o],s=t[o];if(s===i&&!(o in t)||!a(s))return!1}return!0}function ur(t,e,n){if("function"!=typeof t)throw new xt(o);return Ao((function(){t.apply(i,n)}),e)}function cr(t,e,n,r){var i=-1,o=Ie,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=Se(e,ze(n))),r?(o=Te,a=!1):e.length>=200&&(o=Ge,a=!1,e=new Hn(e));t:for(;++i<s;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,a&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else o(e,h,r)||u.push(l)}return u}jn.templateSettings={escape:Q,evaluate:$,interpolate:Y,variable:"",imports:{_:jn}},jn.prototype=Vn.prototype,jn.prototype.constructor=jn,qn.prototype=Un(Vn.prototype),qn.prototype.constructor=qn,zn.prototype=Un(Vn.prototype),zn.prototype.constructor=zn,Bn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Bn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Bn.prototype.get=function(t){var e=this.__data__;if(Cn){var n=e[t];return n===a?i:n}return Dt.call(e,t)?e[t]:i},Bn.prototype.has=function(t){var e=this.__data__;return Cn?e[t]!==i:Dt.call(e,t)},Bn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cn&&e===i?a:e,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=tr(e,t);return!(n<0||(n==e.length-1?e.pop():ie.call(e,n,1),--this.size,0))},Gn.prototype.get=function(t){var e=this.__data__,n=tr(e,t);return n<0?i:e[n][1]},Gn.prototype.has=function(t){return tr(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Wn.prototype.clear=function(){this.size=0,this.__data__={hash:new Bn,map:new(In||Gn),string:new Bn}},Wn.prototype.delete=function(t){var e=ao(this,t).delete(t);return this.size-=e?1:0,e},Wn.prototype.get=function(t){return ao(this,t).get(t)},Wn.prototype.has=function(t){return ao(this,t).has(t)},Wn.prototype.set=function(t,e){var n=ao(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Hn.prototype.add=Hn.prototype.push=function(t){return this.__data__.set(t,a),this},Hn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Kn.prototype.get=function(t){return this.__data__.get(t)},Kn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!In||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Wn(r)}return n.set(t,e),this.size=n.size,this};var lr=Ni(mr),hr=Ni(br,!0);function fr(t,e){var n=!0;return lr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function pr(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(u===i?s==s&&!us(s):n(s,u)))var u=s,c=a}return c}function dr(t,e){var n=[];return lr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function vr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=vo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?vr(s,e-1,n,r,i):ke(i,s):r||(i[i.length]=s)}return i}var gr=Pi(),yr=Pi(!0);function mr(t,e){return t&&gr(t,e,Ps)}function br(t,e){return t&&yr(t,e,Ps)}function wr(t,e){return Ee(e,(function(e){return Ya(t[e])}))}function _r(t,e){for(var n=0,r=(e=gi(e,t)).length;null!=t&&n<r;)t=t[Fo(e[n++])];return n&&n==r?t:i}function Er(t,e,n){var r=e(t);return Ga(t)?r:ke(r,n(t))}function Ir(t){return null==t?t===i?"[object Undefined]":"[object Null]":ce&&ce in St(t)?function(t){var e=Dt.call(t,ce),n=t[ce];try{t[ce]=i;var r=!0}catch(t){}var o=Ft.call(t);return r&&(e?t[ce]=n:delete t[ce]),o}(t):function(t){return Ft.call(t)}(t)}function Tr(t,e){return t>e}function Sr(t,e){return null!=t&&Dt.call(t,e)}function kr(t,e){return null!=t&&e in St(t)}function Cr(t,e,n){for(var o=n?Te:Ie,a=t[0].length,s=t.length,u=s,c=r(s),l=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Se(f,ze(e))),l=yn(f.length,l),c[u]=!n&&(e||a>=120&&f.length>=120)?new Hn(u&&f):i}f=t[0];var p=-1,d=c[0];t:for(;++p<a&&h.length<l;){var v=f[p],g=e?e(v):v;if(v=n||0!==v?v:0,!(d?Ge(d,g):o(h,g,n))){for(u=s;--u;){var y=c[u];if(!(y?Ge(y,g):o(t[u],g,n)))continue t}d&&d.push(g),h.push(v)}}return h}function xr(t,e,n){var r=null==(t=So(t,e=gi(e,t)))?t:t[Fo($o(e))];return null==r?i:ye(r,t,n)}function Ar(t){return es(t)&&Ir(t)==v}function Nr(t,e,n,r,o){return t===e||(null==t||null==e||!es(t)&&!es(e)?t!=t&&e!=e:function(t,e,n,r,o,a){var s=Ga(t),u=Ga(e),c=s?g:ho(t),l=u?g:ho(e),h=(c=c==v?T:c)==T,f=(l=l==v?T:l)==T,p=c==l;if(p&&Ja(t)){if(!Ja(e))return!1;s=!0,h=!1}if(p&&!h)return a||(a=new Kn),s||cs(t)?Xi(t,e,n,r,o,a):function(t,e,n,r,i,o,a){switch(n){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case P:return!(t.byteLength!=e.byteLength||!o(new Bt(t),new Bt(e)));case y:case m:case I:return Va(+t,+e);case b:return t.name==e.name&&t.message==e.message;case k:case x:return t==e+"";case E:var s=Xe;case C:var u=1&r;if(s||(s=en),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=Xi(s(t),s(e),r,i,o,a);return a.delete(t),l;case A:if(Mn)return Mn.call(t)==Mn.call(e)}return!1}(t,e,c,n,r,o,a);if(!(1&n)){var d=h&&Dt.call(t,"__wrapped__"),w=f&&Dt.call(e,"__wrapped__");if(d||w){var _=d?t.value():t,S=w?e.value():e;return a||(a=new Kn),o(_,S,n,r,a)}}return!!p&&(a||(a=new Kn),function(t,e,n,r,o,a){var s=1&n,u=to(t),c=u.length;if(c!=to(e).length&&!s)return!1;for(var l=c;l--;){var h=u[l];if(!(s?h in e:Dt.call(e,h)))return!1}var f=a.get(t),p=a.get(e);if(f&&p)return f==e&&p==t;var d=!0;a.set(t,e),a.set(e,t);for(var v=s;++l<c;){var g=t[h=u[l]],y=e[h];if(r)var m=s?r(y,g,h,e,t,a):r(g,y,h,t,e,a);if(!(m===i?g===y||o(g,y,n,r,a):m)){d=!1;break}v||(v="constructor"==h)}if(d&&!v){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(d=!1)}return a.delete(t),a.delete(e),d}(t,e,n,r,o,a))}(t,e,n,r,Nr,o))}function Pr(t,e,n,r){var o=n.length,a=o,s=!r;if(null==t)return!a;for(t=St(t);o--;){var u=n[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var c=(u=n[o])[0],l=t[c],h=u[1];if(s&&u[2]){if(l===i&&!(c in t))return!1}else{var f=new Kn;if(r)var p=r(l,h,c,t,e,f);if(!(p===i?Nr(h,l,3,r,f):p))return!1}}return!0}function Or(t){return!(!ts(t)||(e=t,Mt&&Mt in e))&&(Ya(t)?Vt:vt).test(jo(t));var e}function Rr(t){return"function"==typeof t?t:null==t?ru:"object"==typeof t?Ga(t)?jr(t[0],t[1]):Fr(t):fu(t)}function Dr(t){if(!_o(t))return vn(t);var e=[];for(var n in St(t))Dt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lr(t,e){return t<e}function Mr(t,e){var n=-1,i=Ha(t)?r(t.length):[];return lr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Fr(t){var e=so(t);return 1==e.length&&e[0][2]?Io(e[0][0],e[0][1]):function(n){return n===t||Pr(n,t,e)}}function jr(t,e){return mo(t)&&Eo(e)?Io(Fo(t),e):function(n){var r=ks(n,t);return r===i&&r===e?Cs(n,t):Nr(e,r,3)}}function Ur(t,e,n,r,o){t!==e&&gr(e,(function(a,s){if(o||(o=new Kn),ts(a))!function(t,e,n,r,o,a,s){var u=Co(t,n),c=Co(e,n),l=s.get(c);if(l)Xn(t,n,l);else{var h=a?a(u,c,n+"",t,e,s):i,f=h===i;if(f){var p=Ga(c),d=!p&&Ja(c),v=!p&&!d&&cs(c);h=c,p||d||v?Ga(u)?h=u:Ka(u)?h=ki(u):d?(f=!1,h=wi(c,!0)):v?(f=!1,h=Ei(c,!0)):h=[]:is(c)||Ba(c)?(h=u,Ba(u)?h=ys(u):ts(u)&&!Ya(u)||(h=po(c))):f=!1}f&&(s.set(c,h),o(h,c,r,a,s),s.delete(c)),Xn(t,n,h)}}(t,e,s,n,Ur,r,o);else{var u=r?r(Co(t,s),a,s+"",t,e,o):i;u===i&&(u=a),Xn(t,s,u)}}),Os)}function Vr(t,e){var n=t.length;if(n)return go(e+=e<0?n:0,n)?t[e]:i}function qr(t,e,n){e=e.length?Se(e,(function(t){return Ga(t)?function(e){return _r(e,1===t.length?t[0]:t)}:t})):[ru];var r=-1;return e=Se(e,ze(oo())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Ii(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(Mr(t,(function(t,n,i){return{criteria:Se(e,(function(e){return e(t)})),index:++r,value:t}})))}function zr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=_r(t,a);n(s,a)&&$r(o,gi(a,t),s)}return o}function Br(t,e,n,r){var i=r?De:Re,o=-1,a=e.length,s=t;for(t===e&&(e=ki(e)),n&&(s=Se(t,ze(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&ie.call(s,u,1),ie.call(t,u,1);return t}function Gr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;go(i)?ie.call(t,i,1):ui(t,i)}}return t}function Wr(t,e){return t+ln(wn()*(e-t+1))}function Hr(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=ln(e/2))&&(t+=t)}while(e);return n}function Kr(t,e){return No(To(t,e,ru),t+"")}function Jr(t){return Qn(Vs(t))}function Qr(t,e){var n=Vs(t);return Ro(n,or(e,0,n.length))}function $r(t,e,n,r){if(!ts(t))return t;for(var o=-1,a=(e=gi(e,t)).length,s=a-1,u=t;null!=u&&++o<a;){var c=Fo(e[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=s){var h=u[c];(l=r?r(h,c,u):i)===i&&(l=ts(h)?h:go(e[o+1])?[]:{})}Zn(u,c,l),u=u[c]}return t}var Yr=xn?function(t,e){return xn.set(t,e),t}:ru,Xr=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:tu(e),writable:!0})}:ru;function Zr(t){return Ro(Vs(t))}function ti(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function ei(t,e){var n;return lr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ni(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!us(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ri(t,e,ru,n)}function ri(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,c=us(e),l=e===i;o<a;){var h=ln((o+a)/2),f=n(t[h]),p=f!==i,d=null===f,v=f==f,g=us(f);if(s)var y=r||v;else y=l?v&&(r||p):u?v&&p&&(r||!d):c?v&&p&&!d&&(r||!g):!d&&!g&&(r?f<=e:f<e);y?o=h+1:a=h}return yn(a,4294967294)}function ii(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Va(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function oi(t){return"number"==typeof t?t:us(t)?f:+t}function ai(t){if("string"==typeof t)return t;if(Ga(t))return Se(t,ai)+"";if(us(t))return Fn?Fn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function si(t,e,n){var r=-1,i=Ie,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=Te;else if(o>=200){var c=e?null:Hi(t);if(c)return en(c);a=!1,i=Ge,u=new Hn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,a&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(l)}else i(u,h,n)||(u!==s&&u.push(h),s.push(l))}return s}function ui(t,e){return null==(t=So(t,e=gi(e,t)))||delete t[Fo($o(e))]}function ci(t,e,n,r){return $r(t,e,n(_r(t,e)),r)}function li(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ti(t,r?0:o,r?o+1:i):ti(t,r?o+1:0,r?i:o)}function hi(t,e){var n=t;return n instanceof zn&&(n=n.value()),Ce(e,(function(t,e){return e.func.apply(e.thisArg,ke([t],e.args))}),n)}function fi(t,e,n){var i=t.length;if(i<2)return i?si(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=cr(a[o]||s,t[u],e,n));return si(vr(a,1),e,n)}function pi(t,e,n){for(var r=-1,o=t.length,a=e.length,s={};++r<o;){var u=r<a?e[r]:i;n(s,t[r],u)}return s}function di(t){return Ka(t)?t:[]}function vi(t){return"function"==typeof t?t:ru}function gi(t,e){return Ga(t)?t:mo(t,e)?[t]:Mo(ms(t))}var yi=Kr;function mi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ti(t,e,n)}var bi=Ne||function(t){return oe.clearTimeout(t)};function wi(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function _i(t){var e=new t.constructor(t.byteLength);return new Bt(e).set(new Bt(t)),e}function Ei(t,e){var n=e?_i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ii(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,a=us(t),s=e!==i,u=null===e,c=e==e,l=us(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&t<e||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function Ti(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,l=gn(a-s,0),h=r(c+l),f=!i;++u<c;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[n[o]]=t[o]);for(;l--;)h[u++]=t[o++];return h}function Si(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,l=e.length,h=gn(a-u,0),f=r(h+l),p=!i;++o<h;)f[o]=t[o];for(var d=o;++c<l;)f[d+c]=e[c];for(;++s<u;)(p||o<a)&&(f[d+n[s]]=t[o++]);return f}function ki(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Ci(t,e,n,r){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=r?r(n[u],t[u],u,n,t):i;c===i&&(c=t[u]),o?rr(n,u,c):Zn(n,u,c)}return n}function xi(t,e){return function(n,r){var i=Ga(n)?me:er,o=e?e():{};return i(n,t,oo(r,2),o)}}function Ai(t){return Kr((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,s&&yo(n[0],n[1],s)&&(a=o<3?i:a,o=1),e=St(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e}))}function Ni(t,e){return function(n,r){if(null==n)return n;if(!Ha(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=St(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Pi(t){return function(e,n,r){for(var i=-1,o=St(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function Oi(t){return function(e){var n=Ye(e=ms(e))?on(e):i,r=n?n[0]:e.charAt(0),o=n?mi(n,1).join(""):e.slice(1);return r[t]()+o}}function Ri(t){return function(e){return Ce(Ys(Bs(e).replace(Gt,"")),t,"")}}function Di(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Un(t.prototype),r=t.apply(n,e);return ts(r)?r:n}}function Li(t){return function(e,n,r){var o=St(e);if(!Ha(e)){var a=oo(n,3);e=Ps(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,r);return s>-1?o[a?e[s]:s]:i}}function Mi(t){return Zi((function(e){var n=e.length,r=n,a=qn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new xt(o);if(a&&!u&&"wrapper"==ro(s))var u=new qn([],!0)}for(r=u?r:n;++r<n;){var c=ro(s=e[r]),l="wrapper"==c?no(s):i;u=l&&bo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ro(l[0])].apply(u,l[3]):1==s.length&&bo(s)?u[c]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Ga(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Fi(t,e,n,o,a,s,u,l,h,f){var p=e&c,d=1&e,v=2&e,g=24&e,y=512&e,m=v?i:Di(t);return function i(){for(var c=arguments.length,b=r(c),w=c;w--;)b[w]=arguments[w];if(g)var _=io(i),E=Ke(b,_);if(o&&(b=Ti(b,o,a,g)),s&&(b=Si(b,s,u,g)),c-=E,g&&c<f){var I=tn(b,_);return Gi(t,e,Fi,i.placeholder,n,b,I,l,h,f-c)}var T=d?n:this,S=v?T[t]:t;return c=b.length,l?b=ko(b,l):y&&c>1&&b.reverse(),p&&h<c&&(b.length=h),this&&this!==oe&&this instanceof i&&(S=m||Di(S)),S.apply(T,b)}}function ji(t,e){return function(n,r){return function(t,e,n,r){return mr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Ui(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ai(n),r=ai(r)):(n=oi(n),r=oi(r)),o=t(n,r)}return o}}function Vi(t){return Zi((function(e){return e=Se(e,ze(oo())),Kr((function(n){var r=this;return t(e,(function(t){return ye(t,r,n)}))}))}))}function qi(t,e){var n=(e=e===i?" ":ai(e)).length;if(n<2)return n?Hr(e,t):e;var r=Hr(e,cn(t/rn(e)));return Ye(e)?mi(on(r),0,t).join(""):r.slice(0,t)}function zi(t){return function(e,n,o){return o&&"number"!=typeof o&&yo(e,n,o)&&(n=o=i),e=ps(e),n===i?(n=e,e=0):n=ps(n),function(t,e,n,i){for(var o=-1,a=gn(cn((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,o=o===i?e<n?1:-1:ps(o),t)}}function Bi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=gs(e),n=gs(n)),t(e,n)}}function Gi(t,e,n,r,o,a,s,c,l,h){var f=8&e;e|=f?u:64,4&(e&=~(f?64:u))||(e&=-4);var p=[t,e,o,f?a:i,f?s:i,f?i:a,f?i:s,c,l,h],d=n.apply(i,p);return bo(t)&&xo(d,p),d.placeholder=r,Po(d,t,e)}function Wi(t){var e=Tt[t];return function(t,n){if(t=gs(t),(n=null==n?0:yn(ds(n),292))&&pn(t)){var r=(ms(t)+"e").split("e");return+((r=(ms(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Hi=Sn&&1/en(new Sn([,-0]))[1]==l?function(t){return new Sn(t)}:uu;function Ki(t){return function(e){var n=ho(e);return n==E?Xe(e):n==C?nn(e):function(t,e){return Se(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ji(t,e,n,a,l,h,f,p){var d=2&e;if(!d&&"function"!=typeof t)throw new xt(o);var v=a?a.length:0;if(v||(e&=-97,a=l=i),f=f===i?f:gn(ds(f),0),p=p===i?p:ds(p),v-=l?l.length:0,64&e){var g=a,y=l;a=l=i}var m=d?i:no(t),b=[t,e,n,a,l,g,y,h,f,p];if(m&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==c&&8==n||r==c&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?Ti(l,u,e[4]):u,t[4]=l?tn(t[3],s):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Si(l,u,e[6]):u,t[6]=l?tn(t[5],s):e[6]),(u=e[7])&&(t[7]=u),r&c&&(t[8]=null==t[8]?e[8]:yn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(b,m),t=b[0],e=b[1],n=b[2],a=b[3],l=b[4],!(p=b[9]=b[9]===i?d?0:t.length:gn(b[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)w=8==e||16==e?function(t,e,n){var o=Di(t);return function a(){for(var s=arguments.length,u=r(s),c=s,l=io(a);c--;)u[c]=arguments[c];var h=s<3&&u[0]!==l&&u[s-1]!==l?[]:tn(u,l);return(s-=h.length)<n?Gi(t,e,Fi,a.placeholder,i,u,h,i,i,n-s):ye(this&&this!==oe&&this instanceof a?o:t,this,u)}}(t,e,p):e!=u&&33!=e||l.length?Fi.apply(i,b):function(t,e,n,i){var o=1&e,a=Di(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),f=this&&this!==oe&&this instanceof e?a:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++s];return ye(f,o?n:this,h)}}(t,e,n,a);else var w=function(t,e,n){var r=1&e,i=Di(t);return function e(){return(this&&this!==oe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Po((m?Yr:xo)(w,b),t,e)}function Qi(t,e,n,r){return t===i||Va(t,Pt[n])&&!Dt.call(r,n)?e:t}function $i(t,e,n,r,o,a){return ts(t)&&ts(e)&&(a.set(e,t),Ur(t,e,i,$i,a),a.delete(e)),t}function Yi(t){return is(t)?i:t}function Xi(t,e,n,r,o,a){var s=1&n,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(t),h=a.get(e);if(l&&h)return l==e&&h==t;var f=-1,p=!0,d=2&n?new Hn:i;for(a.set(t,e),a.set(e,t);++f<u;){var v=t[f],g=e[f];if(r)var y=s?r(g,v,f,e,t,a):r(v,g,f,t,e,a);if(y!==i){if(y)continue;p=!1;break}if(d){if(!Ae(e,(function(t,e){if(!Ge(d,e)&&(v===t||o(v,t,n,r,a)))return d.push(e)}))){p=!1;break}}else if(v!==g&&!o(v,g,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function Zi(t){return No(To(t,i,Wo),t+"")}function to(t){return Er(t,Ps,co)}function eo(t){return Er(t,Os,lo)}var no=xn?function(t){return xn.get(t)}:uu;function ro(t){for(var e=t.name+"",n=An[e],r=Dt.call(An,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function io(t){return(Dt.call(jn,"placeholder")?jn:t).placeholder}function oo(){var t=jn.iteratee||iu;return t=t===iu?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function ao(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function so(t){for(var e=Ps(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Eo(i)]}return e}function uo(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Or(n)?n:i}var co=hn?function(t){return null==t?[]:(t=St(t),Ee(hn(t),(function(e){return re.call(t,e)})))}:vu,lo=hn?function(t){for(var e=[];t;)ke(e,co(t)),t=Jt(t);return e}:vu,ho=Ir;function fo(t,e,n){for(var r=-1,i=(e=gi(e,t)).length,o=!1;++r<i;){var a=Fo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Za(i)&&go(a,i)&&(Ga(t)||Ba(t))}function po(t){return"function"!=typeof t.constructor||_o(t)?{}:Un(Jt(t))}function vo(t){return Ga(t)||Ba(t)||!!(ae&&t&&t[ae])}function go(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&yt.test(t))&&t>-1&&t%1==0&&t<e}function yo(t,e,n){if(!ts(n))return!1;var r=typeof e;return!!("number"==r?Ha(n)&&go(e,n.length):"string"==r&&e in n)&&Va(n[e],t)}function mo(t,e){if(Ga(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!us(t))||Z.test(t)||!X.test(t)||null!=e&&t in St(e)}function bo(t){var e=ro(t),n=jn[e];if("function"!=typeof n||!(e in zn.prototype))return!1;if(t===n)return!0;var r=no(n);return!!r&&t===r[0]}(En&&ho(new En(new ArrayBuffer(1)))!=O||In&&ho(new In)!=E||Tn&&ho(Tn.resolve())!=S||Sn&&ho(new Sn)!=C||kn&&ho(new kn)!=N)&&(ho=function(t){var e=Ir(t),n=e==T?t.constructor:i,r=n?jo(n):"";if(r)switch(r){case Nn:return O;case Pn:return E;case On:return S;case Rn:return C;case Dn:return N}return e});var wo=Ot?Ya:gu;function _o(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Pt)}function Eo(t){return t==t&&!ts(t)}function Io(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in St(n))}}function To(t,e,n){return e=gn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=gn(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(s),ye(t,this,u)}}function So(t,e){return e.length<2?t:_r(t,ti(e,0,-1))}function ko(t,e){for(var n=t.length,r=yn(e.length,n),o=ki(t);r--;){var a=e[r];t[r]=go(a,n)?o[a]:i}return t}function Co(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var xo=Oo(Yr),Ao=un||function(t,e){return oe.setTimeout(t,e)},No=Oo(Xr);function Po(t,e,n){var r=e+"";return No(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(at,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return be(d,(function(n){var r="_."+n[0];e&n[1]&&!Ie(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(ut):[]}(r),n)))}function Oo(t){var e=0,n=0;return function(){var r=mn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ro(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var a=Wr(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Do,Lo,Mo=(Do=Da((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(lt,"$1"):n||t)})),e}),(function(t){return 500===Lo.size&&Lo.clear(),t})),Lo=Do.cache,Do);function Fo(t){if("string"==typeof t||us(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jo(t){if(null!=t){try{return Rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Uo(t){if(t instanceof zn)return t.clone();var e=new qn(t.__wrapped__,t.__chain__);return e.__actions__=ki(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Vo=Kr((function(t,e){return Ka(t)?cr(t,vr(e,1,Ka,!0)):[]})),qo=Kr((function(t,e){var n=$o(e);return Ka(n)&&(n=i),Ka(t)?cr(t,vr(e,1,Ka,!0),oo(n,2)):[]})),zo=Kr((function(t,e){var n=$o(e);return Ka(n)&&(n=i),Ka(t)?cr(t,vr(e,1,Ka,!0),i,n):[]}));function Bo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ds(n);return i<0&&(i=gn(r+i,0)),Oe(t,oo(e,3),i)}function Go(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ds(n),o=n<0?gn(r+o,0):yn(o,r-1)),Oe(t,oo(e,3),o,!0)}function Wo(t){return null!=t&&t.length?vr(t,1):[]}function Ho(t){return t&&t.length?t[0]:i}var Ko=Kr((function(t){var e=Se(t,di);return e.length&&e[0]===t[0]?Cr(e):[]})),Jo=Kr((function(t){var e=$o(t),n=Se(t,di);return e===$o(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Cr(n,oo(e,2)):[]})),Qo=Kr((function(t){var e=$o(t),n=Se(t,di);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Cr(n,i,e):[]}));function $o(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Yo=Kr(Xo);function Xo(t,e){return t&&t.length&&e&&e.length?Br(t,e):t}var Zo=Zi((function(t,e){var n=null==t?0:t.length,r=ir(t,e);return Gr(t,Se(e,(function(t){return go(t,n)?+t:t})).sort(Ii)),r}));function ta(t){return null==t?t:_n.call(t)}var ea=Kr((function(t){return si(vr(t,1,Ka,!0))})),na=Kr((function(t){var e=$o(t);return Ka(e)&&(e=i),si(vr(t,1,Ka,!0),oo(e,2))})),ra=Kr((function(t){var e=$o(t);return e="function"==typeof e?e:i,si(vr(t,1,Ka,!0),i,e)}));function ia(t){if(!t||!t.length)return[];var e=0;return t=Ee(t,(function(t){if(Ka(t))return e=gn(t.length,e),!0})),qe(e,(function(e){return Se(t,Fe(e))}))}function oa(t,e){if(!t||!t.length)return[];var n=ia(t);return null==e?n:Se(n,(function(t){return ye(e,i,t)}))}var aa=Kr((function(t,e){return Ka(t)?cr(t,e):[]})),sa=Kr((function(t){return fi(Ee(t,Ka))})),ua=Kr((function(t){var e=$o(t);return Ka(e)&&(e=i),fi(Ee(t,Ka),oo(e,2))})),ca=Kr((function(t){var e=$o(t);return e="function"==typeof e?e:i,fi(Ee(t,Ka),i,e)})),la=Kr(ia),ha=Kr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,oa(t,n)}));function fa(t){var e=jn(t);return e.__chain__=!0,e}function pa(t,e){return e(t)}var da=Zi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return ir(e,t)};return!(e>1||this.__actions__.length)&&r instanceof zn&&go(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:pa,args:[o],thisArg:i}),new qn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),va=xi((function(t,e,n){Dt.call(t,n)?++t[n]:rr(t,n,1)})),ga=Li(Bo),ya=Li(Go);function ma(t,e){return(Ga(t)?be:lr)(t,oo(e,3))}function ba(t,e){return(Ga(t)?we:hr)(t,oo(e,3))}var wa=xi((function(t,e,n){Dt.call(t,n)?t[n].push(e):rr(t,n,[e])})),_a=Kr((function(t,e,n){var i=-1,o="function"==typeof e,a=Ha(t)?r(t.length):[];return lr(t,(function(t){a[++i]=o?ye(e,t,n):xr(t,e,n)})),a})),Ea=xi((function(t,e,n){rr(t,n,e)}));function Ia(t,e){return(Ga(t)?Se:Mr)(t,oo(e,3))}var Ta=xi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Sa=Kr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&yo(t,e[0],e[1])?e=[]:n>2&&yo(e[0],e[1],e[2])&&(e=[e[0]]),qr(t,vr(e,1),[])})),ka=je||function(){return oe.Date.now()};function Ca(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Ji(t,c,i,i,i,i,e)}function xa(t,e){var n;if("function"!=typeof e)throw new xt(o);return t=ds(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Aa=Kr((function(t,e,n){var r=1;if(n.length){var i=tn(n,io(Aa));r|=u}return Ji(t,r,e,n,i)})),Na=Kr((function(t,e,n){var r=3;if(n.length){var i=tn(n,io(Na));r|=u}return Ji(e,r,t,n,i)}));function Pa(t,e,n){var r,a,s,u,c,l,h=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new xt(o);function v(e){var n=r,o=a;return r=a=i,h=e,u=t.apply(o,n)}function g(t){return h=t,c=Ao(m,e),f?v(t):u}function y(t){var n=t-l;return l===i||n>=e||n<0||p&&t-h>=s}function m(){var t=ka();if(y(t))return b(t);c=Ao(m,function(t){var n=e-(t-l);return p?yn(n,s-(t-h)):n}(t))}function b(t){return c=i,d&&r?v(t):(r=a=i,u)}function w(){var t=ka(),n=y(t);if(r=arguments,a=this,l=t,n){if(c===i)return g(l);if(p)return bi(c),c=Ao(m,e),v(l)}return c===i&&(c=Ao(m,e)),u}return e=gs(e)||0,ts(n)&&(f=!!n.leading,s=(p="maxWait"in n)?gn(gs(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),w.cancel=function(){c!==i&&bi(c),h=0,r=l=a=c=i},w.flush=function(){return c===i?u:b(ka())},w}var Oa=Kr((function(t,e){return ur(t,1,e)})),Ra=Kr((function(t,e,n){return ur(t,gs(e)||0,n)}));function Da(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new xt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Da.Cache||Wn),n}function La(t){if("function"!=typeof t)throw new xt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Da.Cache=Wn;var Ma=yi((function(t,e){var n=(e=1==e.length&&Ga(e[0])?Se(e[0],ze(oo())):Se(vr(e,1),ze(oo()))).length;return Kr((function(r){for(var i=-1,o=yn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ye(t,this,r)}))})),Fa=Kr((function(t,e){var n=tn(e,io(Fa));return Ji(t,u,i,e,n)})),ja=Kr((function(t,e){var n=tn(e,io(ja));return Ji(t,64,i,e,n)})),Ua=Zi((function(t,e){return Ji(t,256,i,i,i,e)}));function Va(t,e){return t===e||t!=t&&e!=e}var qa=Bi(Tr),za=Bi((function(t,e){return t>=e})),Ba=Ar(function(){return arguments}())?Ar:function(t){return es(t)&&Dt.call(t,"callee")&&!re.call(t,"callee")},Ga=r.isArray,Wa=he?ze(he):function(t){return es(t)&&Ir(t)==P};function Ha(t){return null!=t&&Za(t.length)&&!Ya(t)}function Ka(t){return es(t)&&Ha(t)}var Ja=fn||gu,Qa=fe?ze(fe):function(t){return es(t)&&Ir(t)==m};function $a(t){if(!es(t))return!1;var e=Ir(t);return e==b||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!is(t)}function Ya(t){if(!ts(t))return!1;var e=Ir(t);return e==w||e==_||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xa(t){return"number"==typeof t&&t==ds(t)}function Za(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ts(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function es(t){return null!=t&&"object"==typeof t}var ns=pe?ze(pe):function(t){return es(t)&&ho(t)==E};function rs(t){return"number"==typeof t||es(t)&&Ir(t)==I}function is(t){if(!es(t)||Ir(t)!=T)return!1;var e=Jt(t);if(null===e)return!0;var n=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Rt.call(n)==jt}var os=de?ze(de):function(t){return es(t)&&Ir(t)==k},as=ve?ze(ve):function(t){return es(t)&&ho(t)==C};function ss(t){return"string"==typeof t||!Ga(t)&&es(t)&&Ir(t)==x}function us(t){return"symbol"==typeof t||es(t)&&Ir(t)==A}var cs=ge?ze(ge):function(t){return es(t)&&Za(t.length)&&!!Xt[Ir(t)]},ls=Bi(Lr),hs=Bi((function(t,e){return t<=e}));function fs(t){if(!t)return[];if(Ha(t))return ss(t)?on(t):ki(t);if(se&&t[se])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[se]());var e=ho(t);return(e==E?Xe:e==C?en:Vs)(t)}function ps(t){return t?(t=gs(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ds(t){var e=ps(t),n=e%1;return e==e?n?e-n:e:0}function vs(t){return t?or(ds(t),0,p):0}function gs(t){if("number"==typeof t)return t;if(us(t))return f;if(ts(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ts(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(rt,"");var n=dt.test(t);return n||gt.test(t)?ne(t.slice(2),n?2:8):pt.test(t)?f:+t}function ys(t){return Ci(t,Os(t))}function ms(t){return null==t?"":ai(t)}var bs=Ai((function(t,e){if(_o(e)||Ha(e))Ci(e,Ps(e),t);else for(var n in e)Dt.call(e,n)&&Zn(t,n,e[n])})),ws=Ai((function(t,e){Ci(e,Os(e),t)})),_s=Ai((function(t,e,n,r){Ci(e,Os(e),t,r)})),Es=Ai((function(t,e,n,r){Ci(e,Ps(e),t,r)})),Is=Zi(ir),Ts=Kr((function(t,e){t=St(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&yo(e[0],e[1],o)&&(r=1);++n<r;)for(var a=e[n],s=Os(a),u=-1,c=s.length;++u<c;){var l=s[u],h=t[l];(h===i||Va(h,Pt[l])&&!Dt.call(t,l))&&(t[l]=a[l])}return t})),Ss=Kr((function(t){return t.push(i,$i),ye(Ds,i,t)}));function ks(t,e,n){var r=null==t?i:_r(t,e);return r===i?n:r}function Cs(t,e){return null!=t&&fo(t,e,kr)}var xs=ji((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),t[e]=n}),tu(ru)),As=ji((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),Dt.call(t,e)?t[e].push(n):t[e]=[n]}),oo),Ns=Kr(xr);function Ps(t){return Ha(t)?Jn(t):Dr(t)}function Os(t){return Ha(t)?Jn(t,!0):function(t){if(!ts(t))return function(t){var e=[];if(null!=t)for(var n in St(t))e.push(n);return e}(t);var e=_o(t),n=[];for(var r in t)("constructor"!=r||!e&&Dt.call(t,r))&&n.push(r);return n}(t)}var Rs=Ai((function(t,e,n){Ur(t,e,n)})),Ds=Ai((function(t,e,n,r){Ur(t,e,n,r)})),Ls=Zi((function(t,e){var n={};if(null==t)return n;var r=!1;e=Se(e,(function(e){return e=gi(e,t),r||(r=e.length>1),e})),Ci(t,eo(t),n),r&&(n=ar(n,7,Yi));for(var i=e.length;i--;)ui(n,e[i]);return n})),Ms=Zi((function(t,e){return null==t?{}:function(t,e){return zr(t,e,(function(e,n){return Cs(t,n)}))}(t,e)}));function Fs(t,e){if(null==t)return{};var n=Se(eo(t),(function(t){return[t]}));return e=oo(e),zr(t,n,(function(t,n){return e(t,n[0])}))}var js=Ki(Ps),Us=Ki(Os);function Vs(t){return null==t?[]:Be(t,Ps(t))}var qs=Ri((function(t,e,n){return e=e.toLowerCase(),t+(n?zs(e):e)}));function zs(t){return $s(ms(t).toLowerCase())}function Bs(t){return(t=ms(t))&&t.replace(mt,Je).replace(Wt,"")}var Gs=Ri((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ws=Ri((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Hs=Oi("toLowerCase"),Ks=Ri((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Js=Ri((function(t,e,n){return t+(n?" ":"")+$s(e)})),Qs=Ri((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),$s=Oi("toUpperCase");function Ys(t,e,n){return t=ms(t),(e=n?i:e)===i?function(t){return Qt.test(t)}(t)?function(t){return t.match(Kt)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(e)||[]}var Xs=Kr((function(t,e){try{return ye(t,i,e)}catch(t){return $a(t)?t:new Et(t)}})),Zs=Zi((function(t,e){return be(e,(function(e){e=Fo(e),rr(t,e,Aa(t[e],t))})),t}));function tu(t){return function(){return t}}var eu=Mi(),nu=Mi(!0);function ru(t){return t}function iu(t){return Rr("function"==typeof t?t:ar(t,1))}var ou=Kr((function(t,e){return function(n){return xr(n,t,e)}})),au=Kr((function(t,e){return function(n){return xr(t,n,e)}}));function su(t,e,n){var r=Ps(e),i=wr(e,r);null!=n||ts(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=wr(e,Ps(e)));var o=!(ts(n)&&"chain"in n&&!n.chain),a=Ya(t);return be(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=ki(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,ke([this.value()],arguments))})})),t}function uu(){}var cu=Vi(Se),lu=Vi(_e),hu=Vi(Ae);function fu(t){return mo(t)?Fe(Fo(t)):function(t){return function(e){return _r(e,t)}}(t)}var pu=zi(),du=zi(!0);function vu(){return[]}function gu(){return!1}var yu,mu=Ui((function(t,e){return t+e}),0),bu=Wi("ceil"),wu=Ui((function(t,e){return t/e}),1),_u=Wi("floor"),Eu=Ui((function(t,e){return t*e}),1),Iu=Wi("round"),Tu=Ui((function(t,e){return t-e}),0);return jn.after=function(t,e){if("function"!=typeof e)throw new xt(o);return t=ds(t),function(){if(--t<1)return e.apply(this,arguments)}},jn.ary=Ca,jn.assign=bs,jn.assignIn=ws,jn.assignInWith=_s,jn.assignWith=Es,jn.at=Is,jn.before=xa,jn.bind=Aa,jn.bindAll=Zs,jn.bindKey=Na,jn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ga(t)?t:[t]},jn.chain=fa,jn.chunk=function(t,e,n){e=(n?yo(t,e,n):e===i)?1:gn(ds(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,s=0,u=r(cn(o/e));a<o;)u[s++]=ti(t,a,a+=e);return u},jn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},jn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return ke(Ga(n)?ki(n):[n],vr(e,1))},jn.cond=function(t){var e=null==t?0:t.length,n=oo();return t=e?Se(t,(function(t){if("function"!=typeof t[1])throw new xt(o);return[n(t[0]),t[1]]})):[],Kr((function(n){for(var r=-1;++r<e;){var i=t[r];if(ye(i[0],this,n))return ye(i[1],this,n)}}))},jn.conforms=function(t){return function(t){var e=Ps(t);return function(n){return sr(n,t,e)}}(ar(t,1))},jn.constant=tu,jn.countBy=va,jn.create=function(t,e){var n=Un(t);return null==e?n:nr(n,e)},jn.curry=function t(e,n,r){var o=Ji(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},jn.curryRight=function t(e,n,r){var o=Ji(e,16,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},jn.debounce=Pa,jn.defaults=Ts,jn.defaultsDeep=Ss,jn.defer=Oa,jn.delay=Ra,jn.difference=Vo,jn.differenceBy=qo,jn.differenceWith=zo,jn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=n||e===i?1:ds(e))<0?0:e,r):[]},jn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,0,(e=r-(e=n||e===i?1:ds(e)))<0?0:e):[]},jn.dropRightWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!0,!0):[]},jn.dropWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!0):[]},jn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&yo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=ds(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ds(r))<0&&(r+=o),r=n>r?0:vs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},jn.filter=function(t,e){return(Ga(t)?Ee:dr)(t,oo(e,3))},jn.flatMap=function(t,e){return vr(Ia(t,e),1)},jn.flatMapDeep=function(t,e){return vr(Ia(t,e),l)},jn.flatMapDepth=function(t,e,n){return n=n===i?1:ds(n),vr(Ia(t,e),n)},jn.flatten=Wo,jn.flattenDeep=function(t){return null!=t&&t.length?vr(t,l):[]},jn.flattenDepth=function(t,e){return null!=t&&t.length?vr(t,e=e===i?1:ds(e)):[]},jn.flip=function(t){return Ji(t,512)},jn.flow=eu,jn.flowRight=nu,jn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},jn.functions=function(t){return null==t?[]:wr(t,Ps(t))},jn.functionsIn=function(t){return null==t?[]:wr(t,Os(t))},jn.groupBy=wa,jn.initial=function(t){return null!=t&&t.length?ti(t,0,-1):[]},jn.intersection=Ko,jn.intersectionBy=Jo,jn.intersectionWith=Qo,jn.invert=xs,jn.invertBy=As,jn.invokeMap=_a,jn.iteratee=iu,jn.keyBy=Ea,jn.keys=Ps,jn.keysIn=Os,jn.map=Ia,jn.mapKeys=function(t,e){var n={};return e=oo(e,3),mr(t,(function(t,r,i){rr(n,e(t,r,i),t)})),n},jn.mapValues=function(t,e){var n={};return e=oo(e,3),mr(t,(function(t,r,i){rr(n,r,e(t,r,i))})),n},jn.matches=function(t){return Fr(ar(t,1))},jn.matchesProperty=function(t,e){return jr(t,ar(e,1))},jn.memoize=Da,jn.merge=Rs,jn.mergeWith=Ds,jn.method=ou,jn.methodOf=au,jn.mixin=su,jn.negate=La,jn.nthArg=function(t){return t=ds(t),Kr((function(e){return Vr(e,t)}))},jn.omit=Ls,jn.omitBy=function(t,e){return Fs(t,La(oo(e)))},jn.once=function(t){return xa(2,t)},jn.orderBy=function(t,e,n,r){return null==t?[]:(Ga(e)||(e=null==e?[]:[e]),Ga(n=r?i:n)||(n=null==n?[]:[n]),qr(t,e,n))},jn.over=cu,jn.overArgs=Ma,jn.overEvery=lu,jn.overSome=hu,jn.partial=Fa,jn.partialRight=ja,jn.partition=Ta,jn.pick=Ms,jn.pickBy=Fs,jn.property=fu,jn.propertyOf=function(t){return function(e){return null==t?i:_r(t,e)}},jn.pull=Yo,jn.pullAll=Xo,jn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Br(t,e,oo(n,2)):t},jn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Br(t,e,i,n):t},jn.pullAt=Zo,jn.range=pu,jn.rangeRight=du,jn.rearg=Ua,jn.reject=function(t,e){return(Ga(t)?Ee:dr)(t,La(oo(e,3)))},jn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=oo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Gr(t,i),n},jn.rest=function(t,e){if("function"!=typeof t)throw new xt(o);return Kr(t,e=e===i?e:ds(e))},jn.reverse=ta,jn.sampleSize=function(t,e,n){return e=(n?yo(t,e,n):e===i)?1:ds(e),(Ga(t)?$n:Qr)(t,e)},jn.set=function(t,e,n){return null==t?t:$r(t,e,n)},jn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:$r(t,e,n,r)},jn.shuffle=function(t){return(Ga(t)?Yn:Zr)(t)},jn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&yo(t,e,n)?(e=0,n=r):(e=null==e?0:ds(e),n=n===i?r:ds(n)),ti(t,e,n)):[]},jn.sortBy=Sa,jn.sortedUniq=function(t){return t&&t.length?ii(t):[]},jn.sortedUniqBy=function(t,e){return t&&t.length?ii(t,oo(e,2)):[]},jn.split=function(t,e,n){return n&&"number"!=typeof n&&yo(t,e,n)&&(e=n=i),(n=n===i?p:n>>>0)?(t=ms(t))&&("string"==typeof e||null!=e&&!os(e))&&!(e=ai(e))&&Ye(t)?mi(on(t),0,n):t.split(e,n):[]},jn.spread=function(t,e){if("function"!=typeof t)throw new xt(o);return e=null==e?0:gn(ds(e),0),Kr((function(n){var r=n[e],i=mi(n,0,e);return r&&ke(i,r),ye(t,this,i)}))},jn.tail=function(t){var e=null==t?0:t.length;return e?ti(t,1,e):[]},jn.take=function(t,e,n){return t&&t.length?ti(t,0,(e=n||e===i?1:ds(e))<0?0:e):[]},jn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=r-(e=n||e===i?1:ds(e)))<0?0:e,r):[]},jn.takeRightWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!1,!0):[]},jn.takeWhile=function(t,e){return t&&t.length?li(t,oo(e,3)):[]},jn.tap=function(t,e){return e(t),t},jn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new xt(o);return ts(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Pa(t,e,{leading:r,maxWait:e,trailing:i})},jn.thru=pa,jn.toArray=fs,jn.toPairs=js,jn.toPairsIn=Us,jn.toPath=function(t){return Ga(t)?Se(t,Fo):us(t)?[t]:ki(Mo(ms(t)))},jn.toPlainObject=ys,jn.transform=function(t,e,n){var r=Ga(t),i=r||Ja(t)||cs(t);if(e=oo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ts(t)&&Ya(o)?Un(Jt(t)):{}}return(i?be:mr)(t,(function(t,r,i){return e(n,t,r,i)})),n},jn.unary=function(t){return Ca(t,1)},jn.union=ea,jn.unionBy=na,jn.unionWith=ra,jn.uniq=function(t){return t&&t.length?si(t):[]},jn.uniqBy=function(t,e){return t&&t.length?si(t,oo(e,2)):[]},jn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?si(t,i,e):[]},jn.unset=function(t,e){return null==t||ui(t,e)},jn.unzip=ia,jn.unzipWith=oa,jn.update=function(t,e,n){return null==t?t:ci(t,e,vi(n))},jn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ci(t,e,vi(n),r)},jn.values=Vs,jn.valuesIn=function(t){return null==t?[]:Be(t,Os(t))},jn.without=aa,jn.words=Ys,jn.wrap=function(t,e){return Fa(vi(e),t)},jn.xor=sa,jn.xorBy=ua,jn.xorWith=ca,jn.zip=la,jn.zipObject=function(t,e){return pi(t||[],e||[],Zn)},jn.zipObjectDeep=function(t,e){return pi(t||[],e||[],$r)},jn.zipWith=ha,jn.entries=js,jn.entriesIn=Us,jn.extend=ws,jn.extendWith=_s,su(jn,jn),jn.add=mu,jn.attempt=Xs,jn.camelCase=qs,jn.capitalize=zs,jn.ceil=bu,jn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=gs(n))==n?n:0),e!==i&&(e=(e=gs(e))==e?e:0),or(gs(t),e,n)},jn.clone=function(t){return ar(t,4)},jn.cloneDeep=function(t){return ar(t,5)},jn.cloneDeepWith=function(t,e){return ar(t,5,e="function"==typeof e?e:i)},jn.cloneWith=function(t,e){return ar(t,4,e="function"==typeof e?e:i)},jn.conformsTo=function(t,e){return null==e||sr(t,e,Ps(e))},jn.deburr=Bs,jn.defaultTo=function(t,e){return null==t||t!=t?e:t},jn.divide=wu,jn.endsWith=function(t,e,n){t=ms(t),e=ai(e);var r=t.length,o=n=n===i?r:or(ds(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},jn.eq=Va,jn.escape=function(t){return(t=ms(t))&&J.test(t)?t.replace(H,Qe):t},jn.escapeRegExp=function(t){return(t=ms(t))&&nt.test(t)?t.replace(et,"\\$&"):t},jn.every=function(t,e,n){var r=Ga(t)?_e:fr;return n&&yo(t,e,n)&&(e=i),r(t,oo(e,3))},jn.find=ga,jn.findIndex=Bo,jn.findKey=function(t,e){return Pe(t,oo(e,3),mr)},jn.findLast=ya,jn.findLastIndex=Go,jn.findLastKey=function(t,e){return Pe(t,oo(e,3),br)},jn.floor=_u,jn.forEach=ma,jn.forEachRight=ba,jn.forIn=function(t,e){return null==t?t:gr(t,oo(e,3),Os)},jn.forInRight=function(t,e){return null==t?t:yr(t,oo(e,3),Os)},jn.forOwn=function(t,e){return t&&mr(t,oo(e,3))},jn.forOwnRight=function(t,e){return t&&br(t,oo(e,3))},jn.get=ks,jn.gt=qa,jn.gte=za,jn.has=function(t,e){return null!=t&&fo(t,e,Sr)},jn.hasIn=Cs,jn.head=Ho,jn.identity=ru,jn.includes=function(t,e,n,r){t=Ha(t)?t:Vs(t),n=n&&!r?ds(n):0;var i=t.length;return n<0&&(n=gn(i+n,0)),ss(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Re(t,e,n)>-1},jn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ds(n);return i<0&&(i=gn(r+i,0)),Re(t,e,i)},jn.inRange=function(t,e,n){return e=ps(e),n===i?(n=e,e=0):n=ps(n),function(t,e,n){return t>=yn(e,n)&&t<gn(e,n)}(t=gs(t),e,n)},jn.invoke=Ns,jn.isArguments=Ba,jn.isArray=Ga,jn.isArrayBuffer=Wa,jn.isArrayLike=Ha,jn.isArrayLikeObject=Ka,jn.isBoolean=function(t){return!0===t||!1===t||es(t)&&Ir(t)==y},jn.isBuffer=Ja,jn.isDate=Qa,jn.isElement=function(t){return es(t)&&1===t.nodeType&&!is(t)},jn.isEmpty=function(t){if(null==t)return!0;if(Ha(t)&&(Ga(t)||"string"==typeof t||"function"==typeof t.splice||Ja(t)||cs(t)||Ba(t)))return!t.length;var e=ho(t);if(e==E||e==C)return!t.size;if(_o(t))return!Dr(t).length;for(var n in t)if(Dt.call(t,n))return!1;return!0},jn.isEqual=function(t,e){return Nr(t,e)},jn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Nr(t,e,i,n):!!r},jn.isError=$a,jn.isFinite=function(t){return"number"==typeof t&&pn(t)},jn.isFunction=Ya,jn.isInteger=Xa,jn.isLength=Za,jn.isMap=ns,jn.isMatch=function(t,e){return t===e||Pr(t,e,so(e))},jn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Pr(t,e,so(e),n)},jn.isNaN=function(t){return rs(t)&&t!=+t},jn.isNative=function(t){if(wo(t))throw new Et("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(t)},jn.isNil=function(t){return null==t},jn.isNull=function(t){return null===t},jn.isNumber=rs,jn.isObject=ts,jn.isObjectLike=es,jn.isPlainObject=is,jn.isRegExp=os,jn.isSafeInteger=function(t){return Xa(t)&&t>=-9007199254740991&&t<=h},jn.isSet=as,jn.isString=ss,jn.isSymbol=us,jn.isTypedArray=cs,jn.isUndefined=function(t){return t===i},jn.isWeakMap=function(t){return es(t)&&ho(t)==N},jn.isWeakSet=function(t){return es(t)&&"[object WeakSet]"==Ir(t)},jn.join=function(t,e){return null==t?"":dn.call(t,e)},jn.kebabCase=Gs,jn.last=$o,jn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ds(n))<0?gn(r+o,0):yn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Oe(t,Le,o,!0)},jn.lowerCase=Ws,jn.lowerFirst=Hs,jn.lt=ls,jn.lte=hs,jn.max=function(t){return t&&t.length?pr(t,ru,Tr):i},jn.maxBy=function(t,e){return t&&t.length?pr(t,oo(e,2),Tr):i},jn.mean=function(t){return Me(t,ru)},jn.meanBy=function(t,e){return Me(t,oo(e,2))},jn.min=function(t){return t&&t.length?pr(t,ru,Lr):i},jn.minBy=function(t,e){return t&&t.length?pr(t,oo(e,2),Lr):i},jn.stubArray=vu,jn.stubFalse=gu,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=Eu,jn.nth=function(t,e){return t&&t.length?Vr(t,ds(e)):i},jn.noConflict=function(){return oe._===this&&(oe._=Ut),this},jn.noop=uu,jn.now=ka,jn.pad=function(t,e,n){t=ms(t);var r=(e=ds(e))?rn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return qi(ln(i),n)+t+qi(cn(i),n)},jn.padEnd=function(t,e,n){t=ms(t);var r=(e=ds(e))?rn(t):0;return e&&r<e?t+qi(e-r,n):t},jn.padStart=function(t,e,n){t=ms(t);var r=(e=ds(e))?rn(t):0;return e&&r<e?qi(e-r,n)+t:t},jn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),bn(ms(t).replace(it,""),e||0)},jn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&yo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=ps(t),e===i?(e=t,t=0):e=ps(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=wn();return yn(t+o*(e-t+ee("1e-"+((o+"").length-1))),e)}return Wr(t,e)},jn.reduce=function(t,e,n){var r=Ga(t)?Ce:Ue,i=arguments.length<3;return r(t,oo(e,4),n,i,lr)},jn.reduceRight=function(t,e,n){var r=Ga(t)?xe:Ue,i=arguments.length<3;return r(t,oo(e,4),n,i,hr)},jn.repeat=function(t,e,n){return e=(n?yo(t,e,n):e===i)?1:ds(e),Hr(ms(t),e)},jn.replace=function(){var t=arguments,e=ms(t[0]);return t.length<3?e:e.replace(t[1],t[2])},jn.result=function(t,e,n){var r=-1,o=(e=gi(e,t)).length;for(o||(o=1,t=i);++r<o;){var a=null==t?i:t[Fo(e[r])];a===i&&(r=o,a=n),t=Ya(a)?a.call(t):a}return t},jn.round=Iu,jn.runInContext=t,jn.sample=function(t){return(Ga(t)?Qn:Jr)(t)},jn.size=function(t){if(null==t)return 0;if(Ha(t))return ss(t)?rn(t):t.length;var e=ho(t);return e==E||e==C?t.size:Dr(t).length},jn.snakeCase=Ks,jn.some=function(t,e,n){var r=Ga(t)?Ae:ei;return n&&yo(t,e,n)&&(e=i),r(t,oo(e,3))},jn.sortedIndex=function(t,e){return ni(t,e)},jn.sortedIndexBy=function(t,e,n){return ri(t,e,oo(n,2))},jn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ni(t,e);if(r<n&&Va(t[r],e))return r}return-1},jn.sortedLastIndex=function(t,e){return ni(t,e,!0)},jn.sortedLastIndexBy=function(t,e,n){return ri(t,e,oo(n,2),!0)},jn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ni(t,e,!0)-1;if(Va(t[n],e))return n}return-1},jn.startCase=Js,jn.startsWith=function(t,e,n){return t=ms(t),n=null==n?0:or(ds(n),0,t.length),e=ai(e),t.slice(n,n+e.length)==e},jn.subtract=Tu,jn.sum=function(t){return t&&t.length?Ve(t,ru):0},jn.sumBy=function(t,e){return t&&t.length?Ve(t,oo(e,2)):0},jn.template=function(t,e,n){var r=jn.templateSettings;n&&yo(t,e,n)&&(e=i),t=ms(t),e=_s({},e,r,Qi);var o,a,s=_s({},e.imports,r.imports,Qi),u=Ps(s),c=Be(s,u),l=0,h=e.interpolate||bt,f="__p += '",p=kt((e.escape||bt).source+"|"+h.source+"|"+(h===Y?ht:bt).source+"|"+(e.evaluate||bt).source+"|$","g"),d="//# sourceURL="+(Dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yt+"]")+"\n";t.replace(p,(function(e,n,r,i,s,u){return r||(r=i),f+=t.slice(l,u).replace(wt,$e),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),f+="';\n";var v=Dt.call(e,"variable")&&e.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(z,""):f).replace(B,"$1").replace(G,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Xs((function(){return It(u,d+"return "+f).apply(i,c)}));if(g.source=f,$a(g))throw g;return g},jn.times=function(t,e){if((t=ds(t))<1||t>h)return[];var n=p,r=yn(t,p);e=oo(e),t-=p;for(var i=qe(r,e);++n<t;)e(n);return i},jn.toFinite=ps,jn.toInteger=ds,jn.toLength=vs,jn.toLower=function(t){return ms(t).toLowerCase()},jn.toNumber=gs,jn.toSafeInteger=function(t){return t?or(ds(t),-9007199254740991,h):0===t?t:0},jn.toString=ms,jn.toUpper=function(t){return ms(t).toUpperCase()},jn.trim=function(t,e,n){if((t=ms(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=ai(e)))return t;var r=on(t),o=on(e);return mi(r,We(r,o),He(r,o)+1).join("")},jn.trimEnd=function(t,e,n){if((t=ms(t))&&(n||e===i))return t.replace(ot,"");if(!t||!(e=ai(e)))return t;var r=on(t);return mi(r,0,He(r,on(e))+1).join("")},jn.trimStart=function(t,e,n){if((t=ms(t))&&(n||e===i))return t.replace(it,"");if(!t||!(e=ai(e)))return t;var r=on(t);return mi(r,We(r,on(e))).join("")},jn.truncate=function(t,e){var n=30,r="...";if(ts(e)){var o="separator"in e?e.separator:o;n="length"in e?ds(e.length):n,r="omission"in e?ai(e.omission):r}var a=(t=ms(t)).length;if(Ye(t)){var s=on(t);a=s.length}if(n>=a)return t;var u=n-rn(r);if(u<1)return r;var c=s?mi(s,0,u).join(""):t.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),os(o)){if(t.slice(u).search(o)){var l,h=c;for(o.global||(o=kt(o.source,ms(ft.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var f=l.index;c=c.slice(0,f===i?u:f)}}else if(t.indexOf(ai(o),u)!=u){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+r},jn.unescape=function(t){return(t=ms(t))&&K.test(t)?t.replace(W,an):t},jn.uniqueId=function(t){var e=++Lt;return ms(t)+e},jn.upperCase=Qs,jn.upperFirst=$s,jn.each=ma,jn.eachRight=ba,jn.first=Ho,su(jn,(yu={},mr(jn,(function(t,e){Dt.call(jn.prototype,e)||(yu[e]=t)})),yu),{chain:!1}),jn.VERSION="4.17.20",be(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){jn[t].placeholder=jn})),be(["drop","take"],(function(t,e){zn.prototype[t]=function(n){n=n===i?1:gn(ds(n),0);var r=this.__filtered__&&!e?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,p),type:t+(r.__dir__<0?"Right":"")}),r},zn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),be(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;zn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:oo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),be(["head","last"],(function(t,e){var n="take"+(e?"Right":"");zn.prototype[t]=function(){return this[n](1).value()[0]}})),be(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");zn.prototype[t]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(ru)},zn.prototype.find=function(t){return this.filter(t).head()},zn.prototype.findLast=function(t){return this.reverse().find(t)},zn.prototype.invokeMap=Kr((function(t,e){return"function"==typeof t?new zn(this):this.map((function(n){return xr(n,t,e)}))})),zn.prototype.reject=function(t){return this.filter(La(oo(t)))},zn.prototype.slice=function(t,e){t=ds(t);var n=this;return n.__filtered__&&(t>0||e<0)?new zn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=ds(e))<0?n.dropRight(-e):n.take(e-t)),n)},zn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},zn.prototype.toArray=function(){return this.take(p)},mr(zn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=jn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(jn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof zn,c=s[0],l=u||Ga(e),h=function(t){var e=o.apply(jn,ke([t],s));return r&&f?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,p=!!this.__actions__.length,d=a&&!f,v=u&&!p;if(!a&&l){e=v?e:new zn(this);var g=t.apply(e,s);return g.__actions__.push({func:pa,args:[h],thisArg:i}),new qn(g,f)}return d&&v?t.apply(this,s):(g=this.thru(h),d?r?g.value()[0]:g.value():g)})})),be(["pop","push","shift","sort","splice","unshift"],(function(t){var e=At[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);jn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ga(i)?i:[],t)}return this[n]((function(n){return e.apply(Ga(n)?n:[],t)}))}})),mr(zn.prototype,(function(t,e){var n=jn[e];if(n){var r=n.name+"";Dt.call(An,r)||(An[r]=[]),An[r].push({name:e,func:n})}})),An[Fi(i,2).name]=[{name:"wrapper",func:i}],zn.prototype.clone=function(){var t=new zn(this.__wrapped__);return t.__actions__=ki(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ki(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ki(this.__views__),t},zn.prototype.reverse=function(){if(this.__filtered__){var t=new zn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},zn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ga(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=yn(e,t+a);break;case"takeRight":t=gn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,f=0,p=yn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return hi(t,this.__actions__);var d=[];t:for(;u--&&f<p;){for(var v=-1,g=t[c+=e];++v<h;){var y=l[v],m=y.iteratee,b=y.type,w=m(g);if(2==b)g=w;else if(!w){if(1==b)continue t;break t}}d[f++]=g}return d},jn.prototype.at=da,jn.prototype.chain=function(){return fa(this)},jn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===i&&(this.__values__=fs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},jn.prototype.plant=function(t){for(var e,n=this;n instanceof Vn;){var r=Uo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},jn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof zn){var e=t;return this.__actions__.length&&(e=new zn(this)),(e=e.reverse()).__actions__.push({func:pa,args:[ta],thisArg:i}),new qn(e,this.__chain__)}return this.thru(ta)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,se&&(jn.prototype[se]=function(){return this}),jn}();oe._=sn,(r=function(){return sn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var a,s,u=i(t),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(e){s=e(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},703:(t,e,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(t,e,n)=>{t.exports=n(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(t,e,n)=>{"use strict";var r=n(294),i=n(418),o=n(840);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},v={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){y[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];y[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){y[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){y[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){y[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){y[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){y[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){y[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){y[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function w(t,e,n,r){var i=y.hasOwnProperty(e)?y[e]:null;(null!==i?0===i.type:!r&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!p.call(v,t)||!p.call(d,t)&&(f.test(t)?v[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,b);y[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,b);y[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,b);y[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){y[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){y[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,I=60106,T=60107,S=60108,k=60114,C=60109,x=60110,A=60112,N=60113,P=60120,O=60115,R=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),I=U("react.portal"),T=U("react.fragment"),S=U("react.strict_mode"),k=U("react.profiler"),C=U("react.provider"),x=U("react.context"),A=U("react.forward_ref"),N=U("react.suspense"),P=U("react.suspense_list"),O=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,q="function"==typeof Symbol&&Symbol.iterator;function z(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=q&&t[q]||t["@@iterator"])?t:null}function B(t){if(void 0===V)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);V=e&&e[1]||""}return"\n"+V+t}var G=!1;function W(t,e){if(!t||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?B(t):""}function H(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return W(t.type,!1);case 11:return W(t.type.render,!1);case 22:return W(t.type._render,!1);case 1:return W(t.type,!0);default:return""}}function K(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case T:return"Fragment";case I:return"Portal";case k:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case x:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case A:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case O:return K(t.type);case D:return K(t._render);case R:e=t._payload,t=t._init;try{return K(t(e))}catch(t){}}return null}function J(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function $(t){t._valueTracker||(t._valueTracker=function(t){var e=Q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Y(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function X(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=J(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=J(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,J(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&X(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+J(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:J(n)}}function ct(t,e){var n=J(e.value),r=J(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function lt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml";function ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var dt,vt,gt=(vt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((dt=dt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return vt(t,e)}))}:vt);function yt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var mt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];function wt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||mt.hasOwnProperty(t)&&mt[t]?(""+e).trim():e+"px"}function _t(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=wt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(mt).forEach((function(t){bt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mt[e]=mt[t]}))}));var Et=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(t,e){if(e){if(Et[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62))}}function Tt(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function St(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var kt=null,Ct=null,xt=null;function At(t){if(t=Xr(t)){if("function"!=typeof kt)throw Error(a(280));var e=t.stateNode;e&&(e=ti(e),kt(t.stateNode,t.type,e))}}function Nt(t){Ct?xt?xt.push(t):xt=[t]:Ct=t}function Pt(){if(Ct){var t=Ct,e=xt;if(xt=Ct=null,At(t),e)for(t=0;t<e.length;t++)At(e[t])}}function Ot(t,e){return t(e)}function Rt(t,e,n,r,i){return t(e,n,r,i)}function Dt(){}var Lt=Ot,Mt=!1,Ft=!1;function jt(){null===Ct&&null===xt||(Dt(),Pt())}function Ut(t,e){var n=t.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(a(231,e,typeof n));return n}var Vt=!1;if(h)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(vt){Vt=!1}function zt(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}var Bt=!1,Gt=null,Wt=!1,Ht=null,Kt={onError:function(t){Bt=!0,Gt=t}};function Jt(t,e,n,r,i,o,a,s,u){Bt=!1,Gt=null,zt.apply(Kt,arguments)}function Qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function $t(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Yt(t){if(Qt(t)!==t)throw Error(a(188))}function Xt(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var Zt,te,ee,ne,re=!1,ie=[],oe=null,ae=null,se=null,ue=new Map,ce=new Map,le=[],he="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fe(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pe(t,e){switch(t){case"focusin":case"focusout":oe=null;break;case"dragenter":case"dragleave":ae=null;break;case"mouseover":case"mouseout":se=null;break;case"pointerover":case"pointerout":ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ce.delete(e.pointerId)}}function de(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=fe(e,n,r,i,o),null!==e&&null!==(e=Xr(e))&&te(e),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ve(t){var e=Yr(t.target);if(null!==e){var n=Qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=$t(n)))return t.blockedOn=e,void ne(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){ee(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ge(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=Xr(n))&&te(e),t.blockedOn=n,!1;e.shift()}return!0}function ye(t,e,n){ge(t)&&n.delete(e)}function me(){for(re=!1;0<ie.length;){var t=ie[0];if(null!==t.blockedOn){null!==(t=Xr(t.blockedOn))&&Zt(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ie.shift()}null!==oe&&ge(oe)&&(oe=null),null!==ae&&ge(ae)&&(ae=null),null!==se&&ge(se)&&(se=null),ue.forEach(ye),ce.forEach(ye)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,re||(re=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,me)))}function we(t){function e(e){return be(e,t)}if(0<ie.length){be(ie[0],t);for(var n=1;n<ie.length;n++){var r=ie[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==oe&&be(oe,t),null!==ae&&be(ae,t),null!==se&&be(se,t),ue.forEach(e),ce.forEach(e),n=0;n<le.length;n++)(r=le[n]).blockedOn===t&&(r.blockedOn=null);for(;0<le.length&&null===(n=le[0]).blockedOn;)ve(n),null===n.blockedOn&&le.shift()}function _e(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ee={animationend:_e("Animation","AnimationEnd"),animationiteration:_e("Animation","AnimationIteration"),animationstart:_e("Animation","AnimationStart"),transitionend:_e("Transition","TransitionEnd")},Ie={},Te={};function Se(t){if(Ie[t])return Ie[t];if(!Ee[t])return t;var e,n=Ee[t];for(e in n)if(n.hasOwnProperty(e)&&e in Te)return Ie[t]=n[e];return t}h&&(Te=document.createElement("div").style,"AnimationEvent"in window||(delete Ee.animationend.animation,delete Ee.animationiteration.animation,delete Ee.animationstart.animation),"TransitionEvent"in window||delete Ee.transitionend.transition);var ke=Se("animationend"),Ce=Se("animationiteration"),xe=Se("animationstart"),Ae=Se("transitionend"),Ne=new Map,Pe=new Map,Oe=["abort","abort",ke,"animationEnd",Ce,"animationIteration",xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ae,"transitionEnd","waiting","waiting"];function Re(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pe.set(r,e),Ne.set(r,i),c(i,[r])}}(0,o.unstable_now)();var De=8;function Le(t){if(0!=(1&t))return De=15,1;if(0!=(2&t))return De=14,2;if(0!=(4&t))return De=13,4;var e=24&t;return 0!==e?(De=12,e):0!=(32&t)?(De=11,32):0!=(e=192&t)?(De=10,e):0!=(256&t)?(De=9,256):0!=(e=3584&t)?(De=8,e):0!=(4096&t)?(De=7,4096):0!=(e=4186112&t)?(De=6,e):0!=(e=62914560&t)?(De=5,e):67108864&t?(De=4,67108864):0!=(134217728&t)?(De=3,134217728):0!=(e=805306368&t)?(De=2,e):0!=(1073741824&t)?(De=1,1073741824):(De=8,t)}function Me(t,e){var n=t.pendingLanes;if(0===n)return De=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=De=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Le(u),i=De):0!=(s&=o)&&(r=Le(s),i=De)}else 0!=(o=n&~a)?(r=Le(o),i=De):0!==s&&(r=Le(s),i=De);if(0===r)return 0;if(r=n&((0>(r=31-ze(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0==(e&a)){if(Le(e),i<=De)return e;De=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ze(e)),r|=t[n],e&=~i;return r}function Fe(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function je(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ue(24&~e))?je(10,e):t;case 10:return 0===(t=Ue(192&~e))?je(8,e):t;case 8:return 0===(t=Ue(3584&~e))&&0===(t=Ue(4186112&~e))&&(t=512),t;case 2:return 0===(e=Ue(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ue(t){return t&-t}function Ve(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qe(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-ze(e)]=n}var ze=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Be(t)/Ge|0)|0},Be=Math.log,Ge=Math.LN2,We=o.unstable_UserBlockingPriority,He=o.unstable_runWithPriority,Ke=!0;function Je(t,e,n,r){Mt||Dt();var i=$e,o=Mt;Mt=!0;try{Rt(i,t,e,n,r)}finally{(Mt=o)||jt()}}function Qe(t,e,n,r){He(We,$e.bind(null,t,e,n,r))}function $e(t,e,n,r){var i;if(Ke)if((i=0==(4&e))&&0<ie.length&&-1<he.indexOf(t))t=fe(null,t,e,n,r),ie.push(t);else{var o=Ye(t,e,n,r);if(null===o)i&&pe(t,r);else{if(i){if(-1<he.indexOf(t))return t=fe(o,t,e,n,r),void ie.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return oe=de(oe,t,e,n,r,i),!0;case"dragenter":return ae=de(ae,t,e,n,r,i),!0;case"mouseover":return se=de(se,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ue.set(o,de(ue.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ce.set(o,de(ce.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;pe(t,r)}Nr(t,e,r,null,n)}}}function Ye(t,e,n,r){var i=St(r);if(null!==(i=Yr(i))){var o=Qt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$t(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Nr(t,e,r,i,n),null}var Xe=null,Ze=null,tn=null;function en(){if(tn)return tn;var t,e,n=Ze,r=n.length,i="value"in Xe?Xe.value:Xe.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return tn=i.slice(t,1<e?1-e:void 0)}function nn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rn(){return!0}function on(){return!1}function an(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),e}var sn,un,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(ln),fn=i({},ln,{view:0,detail:0}),pn=an(fn),dn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cn&&(cn&&"mousemove"===t.type?(sn=t.screenX-cn.screenX,un=t.screenY-cn.screenY):un=sn=0,cn=t),sn)},movementY:function(t){return"movementY"in t?t.movementY:un}}),vn=an(dn),gn=an(i({},dn,{dataTransfer:0})),yn=an(i({},fn,{relatedTarget:0})),mn=an(i({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=an(i({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),wn=an(i({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=In[t])&&!!e[t]}function Sn(){return Tn}var kn=an(i({},fn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=nn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?En[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(t){return"keypress"===t.type?nn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?nn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),Cn=an(i({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(i({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=an(i({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],On=h&&"CompositionEvent"in window,Rn=null;h&&"documentMode"in document&&(Rn=document.documentMode);var Dn=h&&"TextEvent"in window&&!Rn,Ln=h&&(!On||Rn&&8<Rn&&11>=Rn),Mn=String.fromCharCode(32),Fn=!1;function jn(t,e){switch(t){case"keyup":return-1!==Pn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1,qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!qn[t.type]:"textarea"===e}function Bn(t,e,n,r){Nt(r),0<(e=Or(e,"onChange")).length&&(n=new hn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gn=null,Wn=null;function Hn(t){Tr(t,0)}function Kn(t){if(Y(Zr(t)))return t}function Jn(t,e){if("change"===t)return e}var Qn=!1;if(h){var $n;if(h){var Yn="oninput"in document;if(!Yn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Yn="function"==typeof Xn.oninput}$n=Yn}else $n=!1;Qn=$n&&(!document.documentMode||9<document.documentMode)}function Zn(){Gn&&(Gn.detachEvent("onpropertychange",tr),Wn=Gn=null)}function tr(t){if("value"===t.propertyName&&Kn(Wn)){var e=[];if(Bn(e,Wn,t,St(t)),t=Hn,Mt)t(e);else{Mt=!0;try{Ot(t,e)}finally{Mt=!1,jt()}}}}function er(t,e,n){"focusin"===t?(Zn(),Wn=n,(Gn=e).attachEvent("onpropertychange",tr)):"focusout"===t&&Zn()}function nr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Kn(Wn)}function rr(t,e){if("click"===t)return Kn(e)}function ir(t,e){if("input"===t||"change"===t)return Kn(e)}var or="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},ar=Object.prototype.hasOwnProperty;function sr(t,e){if(or(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ar.call(e,n[r])||!or(t[n[r]],e[n[r]]))return!1;return!0}function ur(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=ur(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ur(r)}}function lr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?lr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function hr(){for(var t=window,e=X();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=X((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,dr=null,vr=null,gr=null,yr=!1;function mr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==dr||dr!==X(r)||(r="selectionStart"in(r=dr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Or(vr,"onSelect")).length&&(e=new hn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=dr)))}Re("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Re("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Re(Oe,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<br.length;wr++)Pe.set(br[wr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Ir(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,u,c){if(Jt.apply(this,arguments),Bt){if(!Bt)throw Error(a(198));var l=Gt;Bt=!1,Gt=null,Wt||(Wt=!0,Ht=l)}}(r,e,void 0,t),t.currentTarget=null}function Tr(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Ir(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Ir(i,s,c),o=u}}}if(Wt)throw t=Ht,Wt=!1,Ht=null,t}function Sr(t,e){var n=ei(e),r=t+"__bubble";n.has(r)||(Ar(e,t,2,!1),n.add(r))}var kr="_reactListening"+Math.random().toString(36).slice(2);function Cr(t){t[kr]||(t[kr]=!0,s.forEach((function(e){Er.has(e)||xr(e,!1,t,null),xr(e,!0,t,null)})))}function xr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Er.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ei(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Ar(o,t,i,e),a.add(s))}function Ar(t,e,n,r){var i=Pe.get(e);switch(void 0===i?2:i){case 0:i=Je;break;case 1:i=Qe;break;default:i=$e}n=i.bind(null,e,n,t),i=void 0,!Vt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Nr(t,e,n,r,i){var o=r;if(0==(1&e)&&0==(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Yr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(Ft)return t();Ft=!0;try{Lt(t,e,n)}finally{Ft=!1,jt()}}((function(){var r=o,i=St(n),a=[];t:{var s=Ne.get(t);if(void 0!==s){var u=hn,c=t;switch(t){case"keypress":if(0===nn(n))break t;case"keydown":case"keyup":u=kn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=xn;break;case ke:case Ce:case xe:u=mn;break;case Ae:u=An;break;case"scroll":u=pn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!=(4&e),h=!l&&"scroll"===t,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,d=r;null!==d;){var v=(p=d).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&null!=(v=Ut(d,f))&&l.push(Pr(d,v,p))),h)break;d=d.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(c=n.relatedTarget||n.fromElement)||!Yr(c)&&!c[Qr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Yr(c):null)&&(c!==(h=Qt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=vn,v="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(l=Cn,v="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==u?s:Zr(u),p=null==c?s:Zr(c),(s=new l(v,d+"leave",u,n,i)).target=h,s.relatedTarget=p,v=null,Yr(i)===r&&((l=new l(f,d+"enter",c,n,i)).target=p,l.relatedTarget=h,v=l),h=v,u&&c)t:{for(f=c,d=0,p=l=u;p;p=Rr(p))d++;for(p=0,v=f;v;v=Rr(v))p++;for(;0<d-p;)l=Rr(l),d--;for(;0<p-d;)f=Rr(f),p--;for(;d--;){if(l===f||null!==f&&l===f.alternate)break t;l=Rr(l),f=Rr(f)}l=null}else l=null;null!==u&&Dr(a,s,u,l,!1),null!==c&&null!==h&&Dr(a,h,c,l,!0)}if("select"===(u=(s=r?Zr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Jn;else if(zn(s))if(Qn)g=ir;else{g=nr;var y=er}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=rr);switch(g&&(g=g(t,r))?Bn(a,g,n,i):(y&&y(t,s,r),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&it(s,"number",s.value)),y=r?Zr(r):window,t){case"focusin":(zn(y)||"true"===y.contentEditable)&&(dr=y,vr=r,gr=null);break;case"focusout":gr=vr=dr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,mr(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":mr(a,n,i)}var m;if(On)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Vn?jn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(m=en()):(Ze="value"in(Xe=i)?Xe.value:Xe.textContent,Vn=!0)),0<(y=Or(r,b)).length&&(b=new wn(b,t,null,n,i),a.push({event:b,listeners:y}),(m||null!==(m=Un(n)))&&(b.data=m))),(m=Dn?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(Fn=!0,Mn);case"textInput":return(t=e.data)===Mn&&Fn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!On&&jn(t,e)?(t=en(),tn=Ze=Xe=null,Vn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ln&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&0<(r=Or(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m)}Tr(a,e)}))}function Pr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Or(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ut(t,n))&&r.unshift(Pr(t,o,i)),null!=(o=Ut(t,e))&&r.push(Pr(t,o,i))),t=t.return}return r}function Rr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Dr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ut(n,o))&&a.unshift(Pr(n,u,s)):i||null!=(u=Ut(n,o))&&a.push(Pr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Lr(){}var Mr=null,Fr=null;function jr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ur(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Vr="function"==typeof setTimeout?setTimeout:void 0,qr="function"==typeof clearTimeout?clearTimeout:void 0;function zr(t){(1===t.nodeType||9===t.nodeType&&null!=(t=t.body))&&(t.textContent="")}function Br(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Gr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Wr=0,Hr=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Hr,Jr="__reactProps$"+Hr,Qr="__reactContainer$"+Hr,$r="__reactEvents$"+Hr;function Yr(t){var e=t[Kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[Kr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Gr(t);null!==t;){if(n=t[Kr])return n;t=Gr(t)}return e}n=(t=n).parentNode}return null}function Xr(t){return!(t=t[Kr]||t[Qr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Zr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function ti(t){return t[Jr]||null}function ei(t){var e=t[$r];return void 0===e&&(e=t[$r]=new Set),e}var ni=[],ri=-1;function ii(t){return{current:t}}function oi(t){0>ri||(t.current=ni[ri],ni[ri]=null,ri--)}function ai(t,e){ri++,ni[ri]=t.current,t.current=e}var si={},ui=ii(si),ci=ii(!1),li=si;function hi(t,e){var n=t.type.contextTypes;if(!n)return si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function fi(t){return null!=t.childContextTypes}function pi(){oi(ci),oi(ui)}function di(t,e,n){if(ui.current!==si)throw Error(a(168));ai(ui,e),ai(ci,n)}function vi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,K(e)||"Unknown",o));return i({},n,r)}function gi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||si,li=ui.current,ai(ui,t),ai(ci,ci.current),!0}function yi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=vi(t,e,li),r.__reactInternalMemoizedMergedChildContext=t,oi(ci),oi(ui),ai(ui,t)):oi(ci),ai(ci,n)}var mi=null,bi=null,wi=o.unstable_runWithPriority,_i=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Ii=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Si=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,xi=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Ni=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Oi={},Ri=void 0!==Ti?Ti:function(){},Di=null,Li=null,Mi=!1,Fi=Si(),ji=1e4>Fi?Si:function(){return Si()-Fi};function Ui(){switch(ki()){case Ci:return 99;case xi:return 98;case Ai:return 97;case Ni:return 96;case Pi:return 95;default:throw Error(a(332))}}function Vi(t){switch(t){case 99:return Ci;case 98:return xi;case 97:return Ai;case 96:return Ni;case 95:return Pi;default:throw Error(a(332))}}function qi(t,e){return t=Vi(t),wi(t,e)}function zi(t,e,n){return t=Vi(t),_i(t,e,n)}function Bi(){if(null!==Li){var t=Li;Li=null,Ei(t)}Gi()}function Gi(){if(!Mi&&null!==Di){Mi=!0;var t=0;try{var e=Di;qi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Di=null}catch(e){throw null!==Di&&(Di=Di.slice(t+1)),_i(Ci,Bi),e}finally{Mi=!1}}}var Wi=_.ReactCurrentBatchConfig;function Hi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Ki=ii(null),Ji=null,Qi=null,$i=null;function Yi(){$i=Qi=Ji=null}function Xi(t){var e=Ki.current;oi(Ki),t.type._context._currentValue=e}function Zi(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function to(t,e){Ji=t,$i=Qi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(Oa=!0),t.firstContext=null)}function eo(t,e){if($i!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||($i=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Qi){if(null===Ji)throw Error(a(308));Qi=e,Ji.dependencies={lanes:0,firstContext:e,responders:null}}else Qi=Qi.next=e;return t._currentValue}var no=!1;function ro(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function io(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ao(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function so(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uo(t,e,n,r){var o=t.updateQueue;no=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var p=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=t,v=a;switch(u=e,p=n,v.tag){case 1:if("function"==typeof(d=v.payload)){f=d.call(p,f,u);break t}f=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(u="function"==typeof(d=v.payload)?d.call(p,f,u):d))break t;f=i({},f,u);break t;case 2:no=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=p,c=f):h=h.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Ds|=s,t.lanes=s,t.memoizedState=f}}function co(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var lo=(new r.Component).refs;function ho(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var fo={isMounted:function(t){return!!(t=t._reactInternals)&&Qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ou(),i=au(t),o=oo(r,i);o.payload=e,null!=n&&(o.callback=n),ao(t,o),su(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ou(),i=au(t),o=oo(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),ao(t,o),su(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ou(),r=au(t),i=oo(n,r);i.tag=2,null!=e&&(i.callback=e),ao(t,i),su(t,r,n)}};function po(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!(e.prototype&&e.prototype.isPureReactComponent&&sr(n,r)&&sr(i,o))}function vo(t,e,n){var r=!1,i=si,o=e.contextType;return"object"==typeof o&&null!==o?o=eo(o):(i=fi(e)?li:ui.current,o=(r=null!=(r=e.contextTypes))?hi(t,i):si),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=fo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function go(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fo.enqueueReplaceState(e,e.state,null)}function yo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=lo,ro(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=eo(o):(o=fi(e)?li:ui.current,i.context=hi(t,o)),uo(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(ho(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&fo.enqueueReplaceState(i,i.state,null),uo(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var mo=Array.isArray;function bo(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===lo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function wo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function _o(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=ju(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=zu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=bo(t,e,n),r.return=t,r):((r=Uu(n.type,n.key,n.props,null,t.mode,r)).ref=bo(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Bu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Vu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=zu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case E:return(n=Uu(e.type,e.key,e.props,null,t.mode,n)).ref=bo(t,null,e),n.return=t,n;case I:return(e=Bu(e,t.mode,n)).return=t,e}if(mo(e)||z(e))return(e=Vu(e,t.mode,n,null)).return=t,e;wo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===T?h(t,e,n.props.children,r,i):c(t,e,n,r):null;case I:return n.key===i?l(t,e,n,r):null}if(mo(n)||z(n))return null!==i?null:h(t,e,n,r,null);wo(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return t=t.get(null===r.key?n:r.key)||null,r.type===T?h(e,t,r.props.children,i,r.key):c(e,t,r,i);case I:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(mo(r)||z(r))return h(e,t=t.get(n)||null,r,i,null);wo(e,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var y=p(i,h,s[v],u);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(i,h),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,h=g}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(g=d(h,i,v,s[v],u))&&(t&&null!==g.alternate&&h.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return t&&h.forEach((function(t){return e(i,t)})),c}function g(i,s,u,c){var l=z(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=p(i,v,m.value,c);if(null===b){null===v&&(v=y);break}t&&v&&null===b.alternate&&e(i,v),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,v=y}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,g),null===h?l=m:h.sibling=m,h=m);return l}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=d(v,i,g,m.value,c))&&(t&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===h?l=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(i,t)})),l}return function(t,r,o,u){var c="object"==typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case E:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===T){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=bo(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===T?((r=Vu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Uu(o.type,o.key,o.props,null,t.mode,u)).ref=bo(t,r,o),u.return=t,t=u)}return s(t);case I:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Bu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=zu(o,t.mode,u)).return=t,t=r),s(t);if(mo(o))return v(t,r,o,u);if(z(o))return g(t,r,o,u);if(l&&wo(t,o),void 0===o&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(t.type)||"Component"))}return n(t,r)}}var Eo=_o(!0),Io=_o(!1),To={},So=ii(To),ko=ii(To),Co=ii(To);function xo(t){if(t===To)throw Error(a(174));return t}function Ao(t,e){switch(ai(Co,e),ai(ko,t),ai(So,To),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}oi(So),ai(So,e)}function No(){oi(So),oi(ko),oi(Co)}function Po(t){xo(Co.current);var e=xo(So.current),n=pt(e,t.type);e!==n&&(ai(ko,t),ai(So,n))}function Oo(t){ko.current===t&&(oi(So),oi(ko))}var Ro=ii(0);function Do(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lo=null,Mo=null,Fo=!1;function jo(t,e){var n=Mu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Uo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Vo(t){if(Fo){var e=Mo;if(e){var n=e;if(!Uo(t,e)){if(!(e=Br(n.nextSibling))||!Uo(t,e))return t.flags=-1025&t.flags|2,Fo=!1,void(Lo=t);jo(Lo,n)}Lo=t,Mo=Br(e.firstChild)}else t.flags=-1025&t.flags|2,Fo=!1,Lo=t}}function qo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Lo=t}function zo(t){if(t!==Lo)return!1;if(!Fo)return qo(t),Fo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ur(e,t.memoizedProps))for(e=Mo;e;)jo(t,e),e=Br(e.nextSibling);if(qo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Mo=Br(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Mo=null}}else Mo=Lo?Br(t.stateNode.nextSibling):null;return!0}function Bo(){Mo=Lo=null,Fo=!1}var Go=[];function Wo(){for(var t=0;t<Go.length;t++)Go[t]._workInProgressVersionPrimary=null;Go.length=0}var Ho=_.ReactCurrentDispatcher,Ko=_.ReactCurrentBatchConfig,Jo=0,Qo=null,$o=null,Yo=null,Xo=!1,Zo=!1;function ta(){throw Error(a(321))}function ea(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function na(t,e,n,r,i,o){if(Jo=o,Qo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ho.current=null===t||null===t.memoizedState?xa:Aa,t=n(r,i),Zo){o=0;do{if(Zo=!1,!(25>o))throw Error(a(301));o+=1,Yo=$o=null,e.updateQueue=null,Ho.current=Na,t=n(r,i)}while(Zo)}if(Ho.current=Ca,e=null!==$o&&null!==$o.next,Jo=0,Yo=$o=Qo=null,Xo=!1,e)throw Error(a(300));return t}function ra(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?Qo.memoizedState=Yo=t:Yo=Yo.next=t,Yo}function ia(){if(null===$o){var t=Qo.alternate;t=null!==t?t.memoizedState:null}else t=$o.next;var e=null===Yo?Qo.memoizedState:Yo.next;if(null!==e)Yo=e,$o=t;else{if(null===t)throw Error(a(310));t={memoizedState:($o=t).memoizedState,baseState:$o.baseState,baseQueue:$o.baseQueue,queue:$o.queue,next:null},null===Yo?Qo.memoizedState=Yo=t:Yo=Yo.next=t}return Yo}function oa(t,e){return"function"==typeof e?e(t):e}function aa(t){var e=ia(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=$o,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Jo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,Qo.lanes|=l,Ds|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,or(r,e.memoizedState)||(Oa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function sa(t){var e=ia(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);or(o,e.memoizedState)||(Oa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ua(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Jo&t)===t)&&(e._workInProgressVersionPrimary=r,Go.push(e))),t)return n(e._source);throw Go.push(e),Error(a(350))}function ca(t,e,n,r){var i=ks;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=Ho.current,c=u.useState((function(){return ua(i,e,n)})),l=c[1],h=c[0];c=Yo;var f=t.memoizedState,p=f.refs,d=p.getSnapshot,v=f.source;f=f.subscribe;var g=Qo;return t.memoizedState={refs:p,source:e,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var t=o(e._source);if(!or(s,t)){t=n(e._source),or(h,t)||(l(t),t=au(g),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var u=31-ze(a),c=1<<u;r[u]|=t,a&=~c}}}),[n,e,r]),u.useEffect((function(){return r(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var r=au(g);i.mutableReadLanes|=r&i.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,r]),or(d,n)&&or(v,e)&&or(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:h}).dispatch=l=ka.bind(null,Qo,t),c.queue=t,c.baseQueue=null,h=ua(i,e,n),c.memoizedState=c.baseState=h),h}function la(t,e,n){return ca(ia(),t,e,n)}function ha(t){var e=ra();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t}).dispatch=ka.bind(null,Qo,t),[e.memoizedState,t]}function fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Qo.updateQueue)?(e={lastEffect:null},Qo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function pa(t){return t={current:t},ra().memoizedState=t}function da(){return ia().memoizedState}function va(t,e,n,r){var i=ra();Qo.flags|=t,i.memoizedState=fa(1|e,n,void 0,void 0===r?null:r)}function ga(t,e,n,r){var i=ia();r=void 0===r?null:r;var o=void 0;if(null!==$o){var a=$o.memoizedState;if(o=a.destroy,null!==r&&ea(r,a.deps))return void fa(e,n,o,r)}Qo.flags|=t,i.memoizedState=fa(1|e,n,o,r)}function ya(t,e){return va(516,4,t,e)}function ma(t,e){return ga(516,4,t,e)}function ba(t,e){return ga(4,2,t,e)}function wa(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function _a(t,e,n){return n=null!=n?n.concat([t]):null,ga(4,2,wa.bind(null,e,t),n)}function Ea(){}function Ia(t,e){var n=ia();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ea(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ta(t,e){var n=ia();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ea(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Sa(t,e){var n=Ui();qi(98>n?98:n,(function(){t(!0)})),qi(97<n?97:n,(function(){var n=Ko.transition;Ko.transition=1;try{t(!1),e()}finally{Ko.transition=n}}))}function ka(t,e,n){var r=ou(),i=au(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===Qo||null!==a&&a===Qo)Zo=Xo=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,or(u,s))return}catch(t){}su(t,i,r)}}var Ca={readContext:eo,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},xa={readContext:eo,useCallback:function(t,e){return ra().memoizedState=[t,void 0===e?null:e],t},useContext:eo,useEffect:ya,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,va(4,2,wa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return va(4,2,t,e)},useMemo:function(t,e){var n=ra();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ra();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ka.bind(null,Qo,t),[r.memoizedState,t]},useRef:pa,useState:ha,useDebugValue:Ea,useDeferredValue:function(t){var e=ha(t),n=e[0],r=e[1];return ya((function(){var e=Ko.transition;Ko.transition=1;try{r(t)}finally{Ko.transition=e}}),[t]),n},useTransition:function(){var t=ha(!1),e=t[0];return pa(t=Sa.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=ra();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},ca(r,t,e,n)},useOpaqueIdentifier:function(){if(Fo){var t=!1,e=function(t){return{$$typeof:L,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Wr++).toString(36))),Error(a(355))})),n=ha(e)[1];return 0==(2&Qo.mode)&&(Qo.flags|=516,fa(5,(function(){n("r:"+(Wr++).toString(36))}),void 0,null)),e}return ha(e="r:"+(Wr++).toString(36)),e},unstable_isNewReconciler:!1},Aa={readContext:eo,useCallback:Ia,useContext:eo,useEffect:ma,useImperativeHandle:_a,useLayoutEffect:ba,useMemo:Ta,useReducer:aa,useRef:da,useState:function(){return aa(oa)},useDebugValue:Ea,useDeferredValue:function(t){var e=aa(oa),n=e[0],r=e[1];return ma((function(){var e=Ko.transition;Ko.transition=1;try{r(t)}finally{Ko.transition=e}}),[t]),n},useTransition:function(){var t=aa(oa)[0];return[da().current,t]},useMutableSource:la,useOpaqueIdentifier:function(){return aa(oa)[0]},unstable_isNewReconciler:!1},Na={readContext:eo,useCallback:Ia,useContext:eo,useEffect:ma,useImperativeHandle:_a,useLayoutEffect:ba,useMemo:Ta,useReducer:sa,useRef:da,useState:function(){return sa(oa)},useDebugValue:Ea,useDeferredValue:function(t){var e=sa(oa),n=e[0],r=e[1];return ma((function(){var e=Ko.transition;Ko.transition=1;try{r(t)}finally{Ko.transition=e}}),[t]),n},useTransition:function(){var t=sa(oa)[0];return[da().current,t]},useMutableSource:la,useOpaqueIdentifier:function(){return sa(oa)[0]},unstable_isNewReconciler:!1},Pa=_.ReactCurrentOwner,Oa=!1;function Ra(t,e,n,r){e.child=null===t?Io(e,null,n,r):Eo(e,t.child,n,r)}function Da(t,e,n,r,i){n=n.render;var o=e.ref;return to(e,i),r=na(t,e,n,r,o,i),null===t||Oa?(e.flags|=1,Ra(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Xa(t,e,i))}function La(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Fu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Uu(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ma(t,e,a,r,i,o))}return a=t.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:sr)(i,r)&&t.ref===e.ref)?Xa(t,e,o):(e.flags|=1,(t=ju(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ma(t,e,n,r,i,o){if(null!==t&&sr(t.memoizedProps,r)&&t.ref===e.ref){if(Oa=!1,0==(o&i))return e.lanes=t.lanes,Xa(t,e,o);0!=(16384&t.flags)&&(Oa=!0)}return Ua(t,e,n,r,o)}function Fa(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},du(0,n);else{if(0==(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},du(0,t),null;e.memoizedState={baseLanes:0},du(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,du(0,r);return Ra(t,e,i,n),e.child}function ja(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Ua(t,e,n,r,i){var o=fi(n)?li:ui.current;return o=hi(e,o),to(e,i),n=na(t,e,n,r,o,i),null===t||Oa?(e.flags|=1,Ra(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Xa(t,e,i))}function Va(t,e,n,r,i){if(fi(n)){var o=!0;gi(e)}else o=!1;if(to(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),vo(e,n,r),yo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?eo(c):hi(e,c=fi(n)?li:ui.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&go(e,a,r,c),no=!1;var f=e.memoizedState;a.state=f,uo(e,r,a,i),u=e.memoizedState,s!==r||f!==u||ci.current||no?("function"==typeof l&&(ho(e,n,l,r),u=e.memoizedState),(s=no||po(e,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.flags|=4)):("function"==typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,io(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Hi(e.type,s),a.props=c,h=e.pendingProps,f=a.context,u="object"==typeof(u=n.contextType)&&null!==u?eo(u):hi(e,u=fi(n)?li:ui.current);var p=n.getDerivedStateFromProps;(l="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==u)&&go(e,a,r,u),no=!1,f=e.memoizedState,a.state=f,uo(e,r,a,i);var d=e.memoizedState;s!==h||f!==d||ci.current||no?("function"==typeof p&&(ho(e,n,p,r),d=e.memoizedState),(c=no||po(e,n,c,r,f,d,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"==typeof a.componentDidUpdate&&(e.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return qa(t,e,n,r,o,i)}function qa(t,e,n,r,i,o){ja(t,e);var a=0!=(64&e.flags);if(!r&&!a)return i&&yi(e,n,!1),Xa(t,e,o);r=e.stateNode,Pa.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Eo(e,t.child,null,o),e.child=Eo(e,null,s,o)):Ra(t,e,s,o),e.memoizedState=r.state,i&&yi(e,n,!0),e.child}function za(t){var e=t.stateNode;e.pendingContext?di(0,e.pendingContext,e.pendingContext!==e.context):e.context&&di(0,e.context,!1),Ao(t,e.containerInfo)}var Ba,Ga,Wa,Ha={dehydrated:null,retryLane:0};function Ka(t,e,n){var r,i=e.pendingProps,o=Ro.current,a=!1;return(r=0!=(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!=(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ai(Ro,1&o),null===t?(void 0!==i.fallback&&Vo(e),t=i.children,o=i.fallback,a?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ha,t):"number"==typeof i.unstable_expectedLoadTime?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ha,e.lanes=33554432,t):((n=qu({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=function(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=ju(a,s),null!==t?r=ju(t,r):(r=Vu(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Ha,i):(n=function(t,e,n,r){var i=t.child;return t=i.sibling,n=ju(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}(t,e,i.children,n),e.memoizedState=null,n))}function Ja(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=qu(e,i,0,null),n=Vu(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function Qa(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Zi(t.return,e)}function $a(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ya(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ra(t,e,r.children,n),0!=(2&(r=Ro.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Qa(t,n);else if(19===t.tag)Qa(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ai(Ro,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Do(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$a(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Do(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$a(e,!0,n,null,o,e.lastEffect);break;case"together":$a(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Xa(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ds|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=ju(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=ju(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function Za(t,e){if(!Fo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ts(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fi(e.type)&&pi(),null;case 3:return No(),oi(ci),oi(ui),Wo(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(zo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Oo(e);var o=xo(Co.current);if(n=e.type,null!==t&&null!=e.stateNode)Ga(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=xo(So.current),zo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kr]=e,r[Jr]=s,n){case"dialog":Sr("cancel",r),Sr("close",r);break;case"iframe":case"object":case"embed":Sr("load",r);break;case"video":case"audio":for(t=0;t<_r.length;t++)Sr(_r[t],r);break;case"source":Sr("error",r);break;case"img":case"image":case"link":Sr("error",r),Sr("load",r);break;case"details":Sr("toggle",r);break;case"input":tt(r,s),Sr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Sr("invalid",r);break;case"textarea":ut(r,s),Sr("invalid",r)}for(var c in It(n,s),t=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(t=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Sr("scroll",r));switch(n){case"input":$(r),rt(r,s,!0);break;case"textarea":$(r),lt(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Lr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=ft(n)),t===ht?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),"select"===n&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Kr]=e,t[Jr]=r,Ba(t,e),e.stateNode=t,c=Tt(n,r),n){case"dialog":Sr("cancel",t),Sr("close",t),o=r;break;case"iframe":case"object":case"embed":Sr("load",t),o=r;break;case"video":case"audio":for(o=0;o<_r.length;o++)Sr(_r[o],t);o=r;break;case"source":Sr("error",t),o=r;break;case"img":case"image":case"link":Sr("error",t),Sr("load",t),o=r;break;case"details":Sr("toggle",t),o=r;break;case"input":tt(t,r),o=Z(t,r),Sr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Sr("invalid",t);break;case"textarea":ut(t,r),o=st(t,r),Sr("invalid",t);break;default:o=r}It(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?_t(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&gt(t,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&yt(t,h):"number"==typeof h&&yt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Sr("scroll",t):null!=h&&w(t,s,h,c))}switch(n){case"input":$(t),rt(t,r,!1);break;case"textarea":$(t),lt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+J(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(t.onclick=Lr)}jr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Wa(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(a(166));n=xo(Co.current),xo(So.current),zo(e)?(r=e.stateNode,n=e.memoizedProps,r[Kr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=e,e.stateNode=r)}return null;case 13:return oi(Ro),r=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&zo(e):n=null!==t.memoizedState,r&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Ro.current)?0===Ps&&(Ps=3):(0!==Ps&&3!==Ps||(Ps=4),null===ks||0==(134217727&Ds)&&0==(134217727&Ls)||hu(ks,xs))),(r||n)&&(e.flags|=4),null);case 4:return No(),null===t&&Cr(e.stateNode.containerInfo),null;case 10:return Xi(e),null;case 17:return fi(e.type)&&pi(),null;case 19:if(oi(Ro),null===(r=e.memoizedState))return null;if(s=0!=(64&e.flags),null===(c=r.rendering))if(s)Za(r,!1);else{if(0!==Ps||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=Do(t))){for(e.flags|=64,Za(r,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,t=c.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ai(Ro,1&Ro.current|2),e.child}t=t.sibling}null!==r.tail&&ji()>Us&&(e.flags|=64,s=!0,Za(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Do(c))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Za(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Fo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*ji()-r.renderingStartTime>Us&&1073741824!==n&&(e.flags|=64,s=!0,Za(r,!1),e.lanes=33554432);r.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=r.last)?n.sibling=c:e.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=ji(),n.sibling=null,e=Ro.current,ai(Ro,s?1&e|2:1&e),n):null;case 23:case 24:return vu(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function es(t){switch(t.tag){case 1:fi(t.type)&&pi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(No(),oi(ci),oi(ui),Wo(),0!=(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Oo(t),null;case 13:return oi(Ro),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return oi(Ro),null;case 4:return No(),null;case 10:return Xi(t),null;case 23:case 24:return vu(),null;default:return null}}function ns(t,e){try{var n="",r=e;do{n+=H(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function rs(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}Ba=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,xo(So.current);var a,s=null;switch(n){case"input":o=Z(t,o),r=Z(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(t.onclick=Lr)}for(h in It(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Sr("scroll",t),s||c===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},Wa=function(t,e,n,r){n!==r&&(e.flags|=4)};var is="function"==typeof WeakMap?WeakMap:Map;function os(t,e,n){(n=oo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bs||(Bs=!0,Gs=r),rs(0,e)},n}function as(t,e,n){(n=oo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return rs(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this),rs(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var ss="function"==typeof WeakSet?WeakSet:Set;function us(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Ou(t,e)}else e.current=null}function cs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Hi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&zr(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ls(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Au(n,t),xu(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Hi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&co(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}co(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&jr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function hs(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=wt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function fs(t,e){if(bi&&"function"==typeof bi.onCommitFiberUnmount)try{bi.onCommitFiberUnmount(mi,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Au(e,n);else{r=e;try{i()}catch(t){Ou(r,t)}}n=n.next}while(n!==t)}break;case 1:if(us(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ou(e,t)}break;case 5:us(e);break;case 4:ms(t,e)}}function ps(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ds(t){return 5===t.tag||3===t.tag||4===t.tag}function vs(t){t:{for(var e=t.return;null!==e;){if(ds(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(yt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ds(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?gs(t,n,e):ys(t,n,e)}function gs(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Lr));else if(4!==r&&null!==(t=t.child))for(gs(t,e,n),t=t.sibling;null!==t;)gs(t,e,n),t=t.sibling}function ys(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ys(t,e,n),t=t.sibling;null!==t;)ys(t,e,n),t=t.sibling}function ms(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,c=u;;)if(fs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break t;for(;null===c.sibling;){if(null===c.return||c.return===u)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(fs(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function bs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Jr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),Tt(t,i),e=Tt(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_t(n,u):"dangerouslySetInnerHTML"===s?gt(n,u):"children"===s?yt(n,u):w(n,s,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":ct(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(js=ji(),hs(e.child,!0)),void ws(e);case 19:return void ws(e);case 17:return;case 23:case 24:return void hs(e,null!==e.memoizedState)}throw Error(a(163))}function ws(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ss),e.forEach((function(e){var r=Du.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function _s(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&null!==(e=e.memoizedState)&&null===e.dehydrated}var Es=Math.ceil,Is=_.ReactCurrentDispatcher,Ts=_.ReactCurrentOwner,Ss=0,ks=null,Cs=null,xs=0,As=0,Ns=ii(0),Ps=0,Os=null,Rs=0,Ds=0,Ls=0,Ms=0,Fs=null,js=0,Us=1/0;function Vs(){Us=ji()+500}var qs,zs=null,Bs=!1,Gs=null,Ws=null,Hs=!1,Ks=null,Js=90,Qs=[],$s=[],Ys=null,Xs=0,Zs=null,tu=-1,eu=0,nu=0,ru=null,iu=!1;function ou(){return 0!=(48&Ss)?ji():-1!==tu?tu:tu=ji()}function au(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===Ui()?1:2;if(0===eu&&(eu=Rs),0!==Wi.transition){0!==nu&&(nu=null!==Fs?Fs.pendingLanes:0),t=eu;var e=4186112&~nu;return 0==(e&=-e)&&0==(e=(t=4186112&~t)&-t)&&(e=8192),e}return t=Ui(),t=je(0!=(4&Ss)&&98===t?12:t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),eu)}function su(t,e,n){if(50<Xs)throw Xs=0,Zs=null,Error(a(185));if(null===(t=uu(t,e)))return null;qe(t,e,n),t===ks&&(Ls|=e,4===Ps&&hu(t,xs));var r=Ui();1===e?0!=(8&Ss)&&0==(48&Ss)?fu(t):(cu(t,n),0===Ss&&(Vs(),Bi())):(0==(4&Ss)||98!==r&&99!==r||(null===Ys?Ys=new Set([t]):Ys.add(t)),cu(t,n)),Fs=t}function uu(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function cu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-ze(s),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=e,Le(c);var h=De;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);s&=~c}if(r=Me(t,t===ks?xs:0),e=De,0===r)null!==n&&(n!==Oi&&Ei(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Oi&&Ei(n)}15===e?(n=fu.bind(null,t),null===Di?(Di=[n],Li=_i(Ci,Gi)):Di.push(n),n=Oi):n=14===e?zi(99,fu.bind(null,t)):zi(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),lu.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function lu(t){if(tu=-1,nu=eu=0,0!=(48&Ss))throw Error(a(327));var e=t.callbackNode;if(Cu()&&t.callbackNode!==e)return null;var n=Me(t,t===ks?xs:0);if(0===n)return null;var r=n,i=Ss;Ss|=16;var o=mu();for(ks===t&&xs===r||(Vs(),gu(t,r));;)try{_u();break}catch(e){yu(t,e)}if(Yi(),Is.current=o,Ss=i,null!==Cs?r=0:(ks=null,xs=0,r=Ps),0!=(Rs&Ls))gu(t,0);else if(0!==r){if(2===r&&(Ss|=64,t.hydrate&&(t.hydrate=!1,zr(t.containerInfo)),0!==(n=Fe(t))&&(r=bu(t,n))),1===r)throw e=Os,gu(t,0),hu(t,n),cu(t,ji()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Tu(t);break;case 3:if(hu(t,n),(62914560&n)===n&&10<(r=js+500-ji())){if(0!==Me(t,0))break;if(((i=t.suspendedLanes)&n)!==n){ou(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vr(Tu.bind(null,t),r);break}Tu(t);break;case 4:if(hu(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-ze(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=ji()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Es(n/1960))-n)){t.timeoutHandle=Vr(Tu.bind(null,t),n);break}Tu(t);break;case 5:Tu(t);break;default:throw Error(a(329))}}return cu(t,ji()),t.callbackNode===e?lu.bind(null,t):null}function hu(t,e){for(e&=~Ms,e&=~Ls,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ze(e),r=1<<n;t[n]=-1,e&=~r}}function fu(t){if(0!=(48&Ss))throw Error(a(327));if(Cu(),t===ks&&0!=(t.expiredLanes&xs)){var e=xs,n=bu(t,e);0!=(Rs&Ls)&&(n=bu(t,e=Me(t,e)))}else n=bu(t,e=Me(t,0));if(0!==t.tag&&2===n&&(Ss|=64,t.hydrate&&(t.hydrate=!1,zr(t.containerInfo)),0!==(e=Fe(t))&&(n=bu(t,e))),1===n)throw n=Os,gu(t,0),hu(t,e),cu(t,ji()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tu(t),cu(t,ji()),null}function pu(t,e){var n=Ss;Ss|=1;try{return t(e)}finally{0===(Ss=n)&&(Vs(),Bi())}}function du(t,e){ai(Ns,As),As|=e,Rs|=e}function vu(){As=Ns.current,oi(Ns)}function gu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,qr(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:No(),oi(ci),oi(ui),Wo();break;case 5:Oo(r);break;case 4:No();break;case 13:case 19:oi(Ro);break;case 10:Xi(r);break;case 23:case 24:vu()}n=n.return}ks=t,Cs=ju(t.current,null),xs=As=Rs=e,Ps=0,Os=null,Ms=Ls=Ds=0}function yu(t,e){for(;;){var n=Cs;try{if(Yi(),Ho.current=Ca,Xo){for(var r=Qo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Xo=!1}if(Jo=0,Yo=$o=Qo=null,Zo=!1,Ts.current=null,null===n||null===n.return){Ps=1,Os=e,Cs=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=xs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Ro.current),f=a;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var v=f.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(p){var g=f.updateQueue;if(null===g){var y=new Set;y.add(c),f.updateQueue=y}else g.add(c);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=oo(-1,1);m.tag=2,ao(s,m)}s.lanes|=1;break t}u=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new is,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Ru.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ps&&(Ps=2),u=ns(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,e&=-e,f.lanes|=e,so(f,os(0,o,e));break t;case 1:o=u;var _=f.type,E=f.stateNode;if(0==(64&f.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ws||!Ws.has(E)))){f.flags|=4096,e&=-e,f.lanes|=e,so(f,as(f,o,e));break t}}f=f.return}while(null!==f)}Iu(n)}catch(t){e=t,Cs===n&&null!==n&&(Cs=n=n.return);continue}break}}function mu(){var t=Is.current;return Is.current=Ca,null===t?Ca:t}function bu(t,e){var n=Ss;Ss|=16;var r=mu();for(ks===t&&xs===e||gu(t,e);;)try{wu();break}catch(e){yu(t,e)}if(Yi(),Ss=n,Is.current=r,null!==Cs)throw Error(a(261));return ks=null,xs=0,Ps}function wu(){for(;null!==Cs;)Eu(Cs)}function _u(){for(;null!==Cs&&!Ii();)Eu(Cs)}function Eu(t){var e=qs(t.alternate,t,As);t.memoizedProps=t.pendingProps,null===e?Iu(t):Cs=e,Ts.current=null}function Iu(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=ts(n,e,As)))return void(Cs=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=es(e)))return n.flags&=2047,void(Cs=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Cs=e);Cs=e=t}while(null!==e);0===Ps&&(Ps=5)}function Tu(t){var e=Ui();return qi(99,Su.bind(null,t,e)),null}function Su(t,e){do{Cu()}while(null!==Ks);if(0!=(48&Ss))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var c=31-ze(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==Ys&&0==(24&r)&&Ys.has(t)&&Ys.delete(t),t===ks&&(Cs=ks=null,xs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ss,Ss|=32,Ts.current=null,Mr=Ke,fr(s=hr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(t){u=null;break t}var h=0,f=-1,p=-1,d=0,v=0,g=s,y=null;e:for(;;){for(var m;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==c||0!==l&&3!==g.nodeType||(p=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(m=g.firstChild);)y=g,g=m;for(;;){if(g===s)break e;if(y===u&&++d===o&&(f=h),y===c&&++v===l&&(p=h),null!==(m=g.nextSibling))break;y=(g=y).parentNode}g=m}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Fr={focusedElem:s,selectionRange:u},Ke=!1,ru=null,iu=!1,zs=r;do{try{ku()}catch(t){if(null===zs)throw Error(a(330));Ou(zs,t),zs=zs.nextEffect}}while(null!==zs);ru=null,zs=r;do{try{for(s=t;null!==zs;){var b=zs.flags;if(16&b&&yt(zs.stateNode,""),128&b){var w=zs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:vs(zs),zs.flags&=-3;break;case 6:vs(zs),zs.flags&=-3,bs(zs.alternate,zs);break;case 1024:zs.flags&=-1025;break;case 1028:zs.flags&=-1025,bs(zs.alternate,zs);break;case 4:bs(zs.alternate,zs);break;case 8:ms(s,u=zs);var E=u.alternate;ps(u),null!==E&&ps(E)}zs=zs.nextEffect}}catch(t){if(null===zs)throw Error(a(330));Ou(zs,t),zs=zs.nextEffect}}while(null!==zs);if(_=Fr,w=hr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&lr(b.ownerDocument.documentElement,b)){null!==s&&fr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=cr(b,E),o=cr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Ke=!!Mr,Fr=Mr=null,t.current=n,zs=r;do{try{for(b=t;null!==zs;){var I=zs.flags;if(36&I&&ls(b,zs.alternate,zs),128&I){w=void 0;var T=zs.ref;if(null!==T){var S=zs.stateNode;switch(zs.tag){case 5:w=S;break;default:w=S}"function"==typeof T?T(w):T.current=w}}zs=zs.nextEffect}}catch(t){if(null===zs)throw Error(a(330));Ou(zs,t),zs=zs.nextEffect}}while(null!==zs);zs=null,Ri(),Ss=i}else t.current=n;if(Hs)Hs=!1,Ks=t,Js=e;else for(zs=r;null!==zs;)e=zs.nextEffect,zs.nextEffect=null,8&zs.flags&&((I=zs).sibling=null,I.stateNode=null),zs=e;if(0===(r=t.pendingLanes)&&(Ws=null),1===r?t===Zs?Xs++:(Xs=0,Zs=t):Xs=0,n=n.stateNode,bi&&"function"==typeof bi.onCommitFiberRoot)try{bi.onCommitFiberRoot(mi,n,void 0,64==(64&n.current.flags))}catch(t){}if(cu(t,ji()),Bs)throw Bs=!1,t=Gs,Gs=null,t;return 0!=(8&Ss)||Bi(),null}function ku(){for(;null!==zs;){var t=zs.alternate;iu||null===ru||(0!=(8&zs.flags)?Xt(zs,ru)&&(iu=!0):13===zs.tag&&_s(t,zs)&&Xt(zs,ru)&&(iu=!0));var e=zs.flags;0!=(256&e)&&cs(t,zs),0==(512&e)||Hs||(Hs=!0,zi(97,(function(){return Cu(),null}))),zs=zs.nextEffect}}function Cu(){if(90!==Js){var t=97<Js?97:Js;return Js=90,qi(t,Nu)}return!1}function xu(t,e){Qs.push(e,t),Hs||(Hs=!0,zi(97,(function(){return Cu(),null})))}function Au(t,e){$s.push(e,t),Hs||(Hs=!0,zi(97,(function(){return Cu(),null})))}function Nu(){if(null===Ks)return!1;var t=Ks;if(Ks=null,0!=(48&Ss))throw Error(a(331));var e=Ss;Ss|=32;var n=$s;$s=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(t){if(null===o)throw Error(a(330));Ou(o,t)}}for(n=Qs,Qs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(t){if(null===o)throw Error(a(330));Ou(o,t)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Ss=e,Bi(),!0}function Pu(t,e,n){ao(t,e=os(0,e=ns(n,e),1)),e=ou(),null!==(t=uu(t,1))&&(qe(t,1,e),cu(t,e))}function Ou(t,e){if(3===t.tag)Pu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Pu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){var i=as(n,t=ns(e,t),1);if(ao(n,i),i=ou(),null!==(n=uu(n,1)))qe(n,1,i),cu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ws||!Ws.has(r)))try{r.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function Ru(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ou(),t.pingedLanes|=t.suspendedLanes&n,ks===t&&(xs&n)===n&&(4===Ps||3===Ps&&(62914560&xs)===xs&&500>ji()-js?gu(t,0):Ms|=n),cu(t,e)}function Du(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===Ui()?1:2:(0===eu&&(eu=Rs),0===(e=Ue(62914560&~eu))&&(e=4194304))),n=ou(),null!==(t=uu(t,e))&&(qe(t,e,n),cu(t,n))}function Lu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(t,e,n,r){return new Lu(t,e,n,r)}function Fu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function ju(t,e){var n=t.alternate;return null===n?((n=Mu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uu(t,e,n,r,i,o){var s=2;if(r=t,"function"==typeof t)Fu(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case T:return Vu(n.children,i,o,e);case M:s=8,i|=16;break;case S:s=8,i|=1;break;case k:return(t=Mu(12,n,e,8|i)).elementType=k,t.type=k,t.lanes=o,t;case N:return(t=Mu(13,n,e,i)).type=N,t.elementType=N,t.lanes=o,t;case P:return(t=Mu(19,n,e,i)).elementType=P,t.lanes=o,t;case F:return qu(n,i,o,e);case j:return(t=Mu(24,n,e,i)).elementType=j,t.lanes=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case C:s=10;break t;case x:s=9;break t;case A:s=11;break t;case O:s=14;break t;case R:s=16,r=null;break t;case D:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Mu(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Vu(t,e,n,r){return(t=Mu(7,t,r,e)).lanes=n,t}function qu(t,e,n,r){return(t=Mu(23,t,r,e)).elementType=F,t.lanes=n,t}function zu(t,e,n){return(t=Mu(6,t,null,e)).lanes=n,t}function Bu(t,e,n){return(e=Mu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gu(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ve(0),this.expirationTimes=Ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.mutableSourceEagerHydrationData=null}function Wu(t,e,n,r){var i=e.current,o=ou(),s=au(i);t:if(n){e:{if(Qt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(fi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(fi(c)){n=vi(n,c,u);break t}}n=u}else n=si;return null===e.context?e.context=n:e.pendingContext=n,(e=oo(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),ao(i,e),su(i,s,o),s}function Hu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Ku(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Ju(t,e){Ku(t,e),(t=t.alternate)&&Ku(t,e)}function Qu(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gu(t,e,null!=n&&!0===n.hydrate),e=Mu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,ro(e),t[Qr]=n.current,Cr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function $u(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Yu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=Hu(a);s.call(t)}}Wu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Qu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var t=Hu(a);u.call(t)}}!function(t,e){var n=Ss;Ss&=-2,Ss|=8;try{t(e)}finally{0===(Ss=n)&&(Vs(),Bi())}}((function(){Wu(e,a,t,i)}))}return Hu(a)}qs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||ci.current)Oa=!0;else{if(0==(n&r)){switch(Oa=!1,e.tag){case 3:za(e),Bo();break;case 5:Po(e);break;case 1:fi(e.type)&&gi(e);break;case 4:Ao(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ai(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?Ka(t,e,n):(ai(Ro,1&Ro.current),null!==(e=Xa(t,e,n))?e.sibling:null);ai(Ro,1&Ro.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(64&t.flags)){if(r)return Ya(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Ro,Ro.current),r)break;return null;case 23:case 24:return e.lanes=0,Fa(t,e,n)}return Xa(t,e,n)}Oa=0!=(16384&t.flags)}else Oa=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=hi(e,ui.current),to(e,n),i=na(null,e,r,t,i,n),e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,fi(r)){var o=!0;gi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ro(e);var s=r.getDerivedStateFromProps;"function"==typeof s&&ho(e,r,s,t),i.updater=fo,e.stateNode=i,i._reactInternals=e,yo(e,r,t,n),e=qa(null,e,r,!0,o,n)}else e.tag=0,Ra(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"==typeof t)return Fu(t)?1:0;if(null!=t){if((t=t.$$typeof)===A)return 11;if(t===O)return 14}return 2}(i),t=Hi(i,t),o){case 0:e=Ua(null,e,i,t,n);break t;case 1:e=Va(null,e,i,t,n);break t;case 11:e=Da(null,e,i,t,n);break t;case 14:e=La(null,e,i,Hi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ua(t,e,r,i=e.elementType===r?i:Hi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Va(t,e,r,i=e.elementType===r?i:Hi(r,i),n);case 3:if(za(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,io(t,e),uo(e,r,null,n),(r=e.memoizedState.element)===i)Bo(),e=Xa(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Mo=Br(e.stateNode.containerInfo.firstChild),Lo=e,o=Fo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Go.push(o);for(n=Io(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ra(t,e,r,n),Bo();e=e.child}return e;case 5:return Po(e),null===t&&Vo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Ur(r,i)?s=null:null!==o&&Ur(r,o)&&(e.flags|=16),ja(t,e),Ra(t,e,s,n),e.child;case 6:return null===t&&Vo(e),null;case 13:return Ka(t,e,n);case 4:return Ao(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Eo(e,null,r,n):Ra(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Da(t,e,r,i=e.elementType===r?i:Hi(r,i),n);case 7:return Ra(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ra(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(ai(Ki,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=or(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!ci.current){e=Xa(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=oo(-1,n&-n)).tag=2,ao(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),Zi(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ra(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,to(e,n),r=r(i=eo(i,o.unstable_observedBits)),e.flags|=1,Ra(t,e,r,n),e.child;case 14:return o=Hi(i=e.type,e.pendingProps),La(t,e,i,o=Hi(i.type,o),r,n);case 15:return Ma(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,fi(r)?(t=!0,gi(e)):t=!1,to(e,n),vo(e,r,i),yo(e,r,i,n),qa(null,e,r,!0,t,n);case 19:return Ya(t,e,n);case 23:case 24:return Fa(t,e,n)}throw Error(a(156,e.tag))},Qu.prototype.render=function(t){Wu(t,this._internalRoot,null,null)},Qu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Wu(null,t,null,(function(){e[Qr]=null}))},Zt=function(t){13===t.tag&&(su(t,4,ou()),Ju(t,4))},te=function(t){13===t.tag&&(su(t,67108864,ou()),Ju(t,67108864))},ee=function(t){if(13===t.tag){var e=ou(),n=au(t);su(t,n,e),Ju(t,n)}},ne=function(t,e){return e()},kt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ti(r);if(!i)throw Error(a(90));Y(r),nt(r,i)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Ot=pu,Rt=function(t,e,n,r,i){var o=Ss;Ss|=4;try{return qi(98,t.bind(null,e,n,r,i))}finally{0===(Ss=o)&&(Vs(),Bi())}},Dt=function(){0==(49&Ss)&&(function(){if(null!==Ys){var t=Ys;Ys=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,cu(t,ji())}))}Bi()}(),Cu())},Lt=function(t,e){var n=Ss;Ss|=2;try{return t(e)}finally{0===(Ss=n)&&(Vs(),Bi())}};var Xu={findFiberByHostInstance:Yr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},Zu={bundleType:Xu.bundleType,version:Xu.version,rendererPackageName:Xu.rendererPackageName,rendererConfig:Xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=function(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Yt(i),t;if(o===r)return Yt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}(t))?null:t.stateNode},findFiberByHostInstance:Xu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{mi=tc.inject(Zu),bi=tc}catch(vt){}}e.render=function(t,e,n){if(!$u(e))throw Error(a(200));return Yu(null,t,e,!1,n)},e.unstable_batchedUpdates=pu},935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(448)},921:(t,e)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case l:case h:case o:case s:case a:case p:return t;default:switch(t=t&&t.$$typeof){case c:case f:case g:case v:case u:return t;default:return e}}case i:return e}}}function E(t){return _(t)===h}e.AsyncMode=l,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=u,e.Element=r,e.ForwardRef=f,e.Fragment=o,e.Lazy=g,e.Memo=v,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=p,e.isAsyncMode=function(t){return E(t)||_(t)===l},e.isConcurrentMode=E,e.isContextConsumer=function(t){return _(t)===c},e.isContextProvider=function(t){return _(t)===u},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return _(t)===f},e.isFragment=function(t){return _(t)===o},e.isLazy=function(t){return _(t)===g},e.isMemo=function(t){return _(t)===v},e.isPortal=function(t){return _(t)===i},e.isProfiler=function(t){return _(t)===s},e.isStrictMode=function(t){return _(t)===a},e.isSuspense=function(t){return _(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===o||t===h||t===s||t===a||t===p||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===v||t.$$typeof===u||t.$$typeof===c||t.$$typeof===f||t.$$typeof===m||t.$$typeof===b||t.$$typeof===w||t.$$typeof===y)},e.typeOf=_},864:(t,e,n)=>{"use strict";t.exports=n(921)},585:t=>{t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},658:(t,e,n)=>{var r=n(585);t.exports=function t(e,n,i){return r(n)||(i=n||i,n=[]),i=i||{},e instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(e,n):r(e)?function(e,n,r){for(var i=[],o=0;o<e.length;o++)i.push(t(e[o],n,r).source);return l(new RegExp("(?:"+i.join("|")+")",h(r)),n)}(e,n,i):function(t,e,n){return f(o(t,n),e,n)}(e,n,i)},t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var h=n[0],f=n[1],p=n.index;if(s+=t.slice(a,p),a=p+h.length,f)s+=f[1];else{var d=t[a],v=n[2],g=n[3],y=n[4],m=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=v&&null!=d&&d!==v,E="+"===b||"*"===b,I="?"===b||"*"===b,T=n[2]||l,S=y||m;r.push({name:g||o++,prefix:v||"",delimiter:T,optional:I,repeat:E,partial:_,asterisk:!!w,pattern:S?c(S):w?".*":"[^"+u(T)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"==typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",h(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!=typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(h=u(f[p]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===p?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"==typeof c)a+=u(c);else{var f=u(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+f+p+")*"),a+=p=c.optional?c.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var d=u(n.delimiter||"/"),v=a.slice(-d.length)===d;return i||(a=(v?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+d+"|$)",l(new RegExp("^"+a,h(n)),e)}},408:(t,e,n)=>{"use strict";var r=n(418),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),e.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}function y(){}function m(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=g.prototype;var b=m.prototype=new y;b.constructor=m,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,r)&&!E.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:w.current}}function T(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var S=/\/+/g;function k(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function C(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=t),t=""===r?"."+k(u,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(S,"$&/")+"/"),C(a,e,n,"",(function(t){return t}))):null!=a&&(T(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=r+k(s=t[c],c);u+=C(s,e,n,l,a)}else if("function"==typeof(l=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t)))for(t=l.call(t),c=0;!(s=t.next()).done;)u+=C(s=s.value,e,n,l=r+k(s,c++),a);else if("object"===s)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function x(t,e,n){if(null==t)return t;var r=[],i=0;return C(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function A(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var N={current:null};function P(){var t=N.current;if(null===t)throw Error(p(321));return t}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:x,forEach:function(t,e,n){x(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return x(t,(function(){e++})),e},toArray:function(t){return x(t,(function(t){return t}))||[]},only:function(t){if(!T(t))throw Error(p(143));return t}},e.Component=g,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(t,e,n){if(null==t)throw Error(p(267,t));var o=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=w.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)_.call(e,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=I,e.createFactory=function(t){var e=I.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:l,_payload:{_status:-1,_result:t},_init:A}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return P().useCallback(t,e)},e.useContext=function(t,e){return P().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return P().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return P().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return P().useLayoutEffect(t,e)},e.useMemo=function(t,e){return P().useMemo(t,e)},e.useReducer=function(t,e,n){return P().useReducer(t,e,n)},e.useRef=function(t){return P().useRef(t)},e.useState=function(t){return P().useState(t)},e.version="17.0.1"},294:(t,e,n)=>{"use strict";t.exports=n(408)},500:function(t,e,n){!function(t){"use strict";function e(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function i(t,e,n){i.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(t,e){o.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,n){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function c(t){var e=void 0===t?"undefined":S(t);return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function l(t,e,n,r,h,f,p){p=p||[];var d=(h=h||[]).slice(0);if(void 0!==f){if(r){if("function"==typeof r&&r(d,f))return;if("object"===(void 0===r?"undefined":S(r))){if(r.prefilter&&r.prefilter(d,f))return;if(r.normalize){var v=r.normalize(d,f,t,e);v&&(t=v[0],e=v[1])}}}d.push(f)}"regexp"===c(t)&&"regexp"===c(e)&&(t=t.toString(),e=e.toString());var g=void 0===t?"undefined":S(t),y=void 0===e?"undefined":S(e),m="undefined"!==g||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(f),b="undefined"!==y||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(f);if(!m&&b)n(new o(d,e));else if(!b&&m)n(new a(d,t));else if(c(t)!==c(e))n(new i(d,t,e));else if("date"===c(t)&&t-e!=0)n(new i(d,t,e));else if("object"===g&&null!==t&&null!==e)if(p.filter((function(e){return e.lhs===t})).length)t!==e&&n(new i(d,t,e));else{if(p.push({lhs:t,rhs:e}),Array.isArray(t)){var w;for(t.length,w=0;w<t.length;w++)w>=e.length?n(new s(d,w,new a(void 0,t[w]))):l(t[w],e[w],n,r,d,w,p);for(;w<e.length;)n(new s(d,w,new o(void 0,e[w++])))}else{var _=Object.keys(t),E=Object.keys(e);_.forEach((function(i,o){var a=E.indexOf(i);a>=0?(l(t[i],e[i],n,r,d,i,p),E=u(E,a)):l(t[i],void 0,n,r,d,i,p)})),E.forEach((function(t){l(void 0,e[t],n,r,d,t,p)}))}p.length=p.length-1}else t!==e&&("number"===g&&isNaN(t)&&isNaN(e)||n(new i(d,t,e)))}function h(t,e,n,r){return r=r||[],l(t,e,(function(t){t&&r.push(t)}),n),r.length?r:void 0}function f(t,e,n){if(n.path&&n.path.length){var r,i=t[e],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":f(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":f(t[e],n.index,n.item);break;case"D":t=u(t,e);break;case"E":case"N":t[e]=n.rhs}return t}function p(t,e,n){if(t&&e&&n&&n.kind){for(var r=t,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":f(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function d(t,e,n){if(n.path&&n.path.length){var r,i=t[e],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":d(t[e],n.index,n.item);break;case"D":case"E":t[e]=n.lhs;break;case"N":t=u(t,e)}return t}function v(t){return"color: "+x[t].color+"; font-weight: bold"}function g(t,e,n,r){var i=h(t,e);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(t){n.log("diff")}i?i.forEach((function(t){var e=t.kind,r=function(t){var e=t.kind,n=t.path,r=t.lhs,i=t.rhs,o=t.index,a=t.item;switch(e){case"E":return[n.join("."),r,"",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}(t);n.log.apply(n,["%c "+x[e].text,v(e)].concat(k(r)))})):n.log(" no diff ");try{n.groupEnd()}catch(t){n.log(" diff end  ")}}function y(t,e,n,r){switch(void 0===t?"undefined":S(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,k(n)):t[r];case"function":return t(e);default:return t}}function m(t,e){var n=e.logger,r=e.actionTransformer,i=e.titleFormatter,o=void 0===i?function(t){var e=t.timestamp,n=t.duration;return function(t,r,i){var o=["action"];return o.push("%c"+String(t.type)),e&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}(e):i,a=e.collapsed,s=e.colors,u=e.level,c=e.diff,l=void 0===e.titleFormatter;t.forEach((function(i,h){var f=i.started,p=i.startedTime,d=i.action,v=i.prevState,m=i.error,b=i.took,w=i.nextState,_=t[h+1];_&&(w=_.prevState,b=_.started-f);var E=r(d),T="function"==typeof a?a((function(){return w}),d,i):a,S=I(p),k=s.title?"color: "+s.title(E)+";":"",C=["color: gray; font-weight: lighter;"];C.push(k),e.timestamp&&C.push("color: gray; font-weight: lighter;"),e.duration&&C.push("color: gray; font-weight: lighter;");var x=o(E,S,b);try{T?s.title&&l?n.groupCollapsed.apply(n,["%c "+x].concat(C)):n.groupCollapsed(x):s.title&&l?n.group.apply(n,["%c "+x].concat(C)):n.group(x)}catch(t){n.log(x)}var A=y(u,E,[v],"prevState"),N=y(u,E,[E],"action"),P=y(u,E,[m,v],"error"),O=y(u,E,[w],"nextState");if(A)if(s.prevState){var R="color: "+s.prevState(v)+"; font-weight: bold";n[A]("%c prev state",R,v)}else n[A]("prev state",v);if(N)if(s.action){var D="color: "+s.action(E)+"; font-weight: bold";n[N]("%c action    ",D,E)}else n[N]("action    ",E);if(m&&P)if(s.error){var L="color: "+s.error(m,v)+"; font-weight: bold;";n[P]("%c error     ",L,m)}else n[P]("error     ",m);if(O)if(s.nextState){var M="color: "+s.nextState(w)+"; font-weight: bold";n[O]("%c next state",M,w)}else n[O]("next state",w);c&&g(v,w,n,T);try{n.groupEnd()}catch(t){n.log(" log end ")}}))}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},A,t),n=e.logger,r=e.stateTransformer,i=e.errorTransformer,o=e.predicate,a=e.logErrors,s=e.diffPredicate;if(void 0===n)return function(){return function(t){return function(e){return t(e)}}};if(t.getState&&t.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(t){return function(e){return t(e)}}};var u=[];return function(t){var n=t.getState;return function(t){return function(c){if("function"==typeof o&&!o(n,c))return t(c);var l={};u.push(l),l.started=T.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var h=void 0;if(a)try{h=t(c)}catch(t){l.error=i(t)}else h=t(c);l.took=T.now()-l.started,l.nextState=r(n());var f=e.diff&&"function"==typeof s?s(n,c):e.diff;if(m(u,Object.assign({},e,{diff:f})),u.length=0,l.error)throw l.error;return h}}}}var w,_,E=function(t,e){return function(t,e){return new Array(e+1).join(t)}("0",e-t.toString().length)+t},I=function(t){return E(t.getHours(),2)+":"+E(t.getMinutes(),2)+":"+E(t.getSeconds(),2)+"."+E(t.getMilliseconds(),3)},T="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},C=[];w="object"===(void 0===n.g?"undefined":S(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(_=w.DeepDiff)&&C.push((function(){void 0!==_&&w.DeepDiff===h&&(w.DeepDiff=_,_=void 0)})),e(i,r),e(o,r),e(a,r),e(s,r),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:function(t,e,n){t&&e&&l(t,e,(function(r){n&&!n(t,e,r)||p(t,e,r)}))},enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:function(t,e,n){if(t&&e&&n&&n.kind){var r,i,o=t;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":d(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==_},enumerable:!0},noConflict:{value:function(){return C&&(C.forEach((function(t){t()})),C=null),h},enumerable:!0}});var x={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},A={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dispatch,n=t.getState;return"function"==typeof e||"function"==typeof n?b()({dispatch:e,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=A,t.createLogger=b,t.logger=N,t.default=N,Object.defineProperty(t,"__esModule",{value:!0})}(e)},53:(t,e)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,h=function(){if(null!==c)try{var t=e.unstable_now();c(!0,t),c=null}catch(t){throw setTimeout(h,0),t}};n=function(t){null!==c?setTimeout(n,0,t):(c=t,setTimeout(h,0))},r=function(t,e){l=setTimeout(t,e)},i=function(){clearTimeout(l)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,m=5,b=0;e.unstable_shouldYield=function(){return e.unstable_now()>=b},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<t?Math.floor(1e3/t):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();b=t+m;try{g(!0,t)?_.postMessage(null):(v=!1,g=null)}catch(t){throw _.postMessage(null),t}}else v=!1},n=function(t){g=t,v||(v=!0,_.postMessage(null))},r=function(t,n){y=f((function(){t(e.unstable_now())}),n)},i=function(){p(y),y=-1}}function E(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<S(i,e)))break t;t[r]=e,t[n]=i,n=r}}function I(t){return void 0===(t=t[0])?null:t}function T(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>S(a,n))void 0!==u&&0>S(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>S(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function S(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var k=[],C=[],x=1,A=null,N=3,P=!1,O=!1,R=!1;function D(t){for(var e=I(C);null!==e;){if(null===e.callback)T(C);else{if(!(e.startTime<=t))break;T(C),e.sortIndex=e.expirationTime,E(k,e)}e=I(C)}}function L(t){if(R=!1,D(t),!O)if(null!==I(k))O=!0,n(M);else{var e=I(C);null!==e&&r(L,e.startTime-t)}}function M(t,n){O=!1,R&&(R=!1,i()),P=!0;var o=N;try{for(D(n),A=I(k);null!==A&&(!(A.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=A.callback;if("function"==typeof a){A.callback=null,N=A.priorityLevel;var s=a(A.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?A.callback=s:A===I(k)&&T(k),D(n)}else T(k);A=I(k)}if(null!==A)var u=!0;else{var c=I(C);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{A=null,N=o,P=!1}}var F=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){O||P||(O=!0,n(M))},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return I(k)},e.unstable_next=function(t){switch(N){case 1:case 2:case 3:var e=3;break;default:e=N}var n=N;N=e;try{return t()}finally{N=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=N;N=t;try{return e()}finally{N=n}},e.unstable_scheduleCallback=function(t,o,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:x++,callback:o,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,E(C,t),null===I(k)&&t===I(C)&&(R?i():R=!0,r(L,a-s))):(t.sortIndex=u,E(k,t),O||P||(O=!0,n(M))),t},e.unstable_wrapCallback=function(t){var e=N;return function(){var n=N;N=e;try{return t.apply(this,arguments)}finally{N=n}}}},840:(t,e,n)=>{"use strict";t.exports=n(53)},774:t=>{t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=t[c],h=e[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},121:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r}),t=n.hmd(t);const r=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:t)},655:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>a,Jh:()=>s,XA:()=>u,CR:()=>c,fl:()=>l,pr:()=>h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=n(294),e=n(935),r=n(697),i=n.n(r),o=t.createContext(null),a=function(t){t()},s=function(){return a},u={notify:function(){}},c=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=u,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var t=s(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var r=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=u)},t}();const l=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var t=new c(n);return t.onStateChange=t.notifyNestedSubs,{store:n,subscription:t}}),[n]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);(0,t.useEffect)((function(){var t=a.subscription;return t.trySubscribe(),s!==n.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[a,s]);var u=r||o;return t.createElement(u.Provider,{value:a},i)};var h=n(679),f=n.n(h),p=n(864),d="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect,v=n(121),g=function(){return Math.random().toString(36).substring(7).split("").join(".")},y={INIT:"@@redux/INIT"+g(),REPLACE:"@@redux/REPLACE"+g(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+g()}};function m(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function b(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(n,!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function T(){return(T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function S(){return(0,t.useContext)(o)}function k(e){void 0===e&&(e=o);var n=e===o?S:function(){return(0,t.useContext)(e)};return function(){return n().store}}var C=k();function x(t){void 0===t&&(t=o);var e=t===o?C:k(t);return function(){return e().dispatch}}var A=x(),N=function(t,e){return t===e};function P(e){void 0===e&&(e=o);var n=e===o?S:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=N);var i=n(),o=function(e,n,r,i){var o,a=(0,t.useReducer)((function(t){return t+1}),0)[1],s=(0,t.useMemo)((function(){return new c(r,i)}),[r,i]),u=(0,t.useRef)(),l=(0,t.useRef)(),h=(0,t.useRef)(),f=(0,t.useRef)(),p=r.getState();try{o=e!==l.current||p!==h.current||u.current?e(p):f.current}catch(t){throw u.current&&(t.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),t}return d((function(){l.current=e,h.current=p,f.current=o,u.current=void 0})),d((function(){function t(){try{var t=l.current(r.getState());if(n(t,f.current))return;f.current=t}catch(t){u.current=t}a()}return s.onStateChange=t,s.trySubscribe(),t(),function(){return s.tryUnsubscribe()}}),[r,s]),o}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(o),o}}var O,R=P();O=e.unstable_batchedUpdates,a=O;var D=n(500),L=n.n(D);function M(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}var F=M();F.withExtraArgument=M;const j=F;var U="ChangeIsLoaded",V="SetTodos",q="SetQueryData",z="SetSortKey",B="SetMaxDisplayNum",G="SetUser",W="ChangeLoadingStatus",H=function(){return(H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},K={isLoaded:!1,maxDisplayNum:10,queryData:{sortKey:"asc",start:"",end:"",keyword:"",isShowDoneTodo:!0},todos:[]};var J=n(99);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Pa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Pa(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function k(t,e,n){this.code=A+t,this.message=e||N[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new k(e.substring(A.length),t.message,t.serverResponse):null}T(k,Error),k.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},k.prototype.toJSON=function(){return this.w()};var x,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(t){for(var e in P)if(P[e].id===t)return{firebaseEndpoint:(t=P[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}x=O("__EID__")?"__EID__":void 0,T(D,Error),D.prototype.name="CustomError",T(L,D),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new F((function(){return new z}),(function(t){t.reset()}));function q(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function z(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Q(t,e){return 0<=B(t,e)}function $(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function X(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ht=s.navigator;if(ht){var ft=ht.userAgent;if(ft){tt=ft;break t}}tt=""}function pt(t){return ct(tt,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<yt.length;o++)n=yt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===Tt&&e||"",this.b=It}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===It?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,It={},Tt={};function St(){if(void 0===Et){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(t){s.console&&s.console.error(t.message)}Et=t}else Et=t}return Et}function kt(t,e){this.a=e===Pt?t:""}function Ct(t){return t instanceof kt&&t.constructor===kt?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function xt(t,e){var n=_t(t);if(!Nt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new kt(t=e?e.createScriptURL(t):t,Pt)}(t=n.replace(At,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?_t(t):encodeURIComponent(String(t))})))}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a.toString()},kt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,Nt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pt={};function Ot(t,e){this.a=e===Ut?t:""}function Rt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ft(t){if(t instanceof Ot)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t))t=new Ot(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&Dt.test(e[1])?new Ot(t,Ut):null}return t}function jt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,Ut))}var Ut={},Vt=new Ot("about:invalid#zClosurez",Ut);function qt(t,e,n){this.a=n===zt?t:""}qt.prototype.sa=!0,qt.prototype.ra=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var zt={};function Bt(t,e,n,r){return t=t instanceof Ot?t:jt(t),e=e||s,n=n instanceof wt?_t(n):n||"",e.open(Rt(t),n,r,void 0)}function Gt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Wt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}Ht[" "]=h;var Kt,Jt,Qt=pt("Opera"),$t=pt("Trident")||pt("MSIE"),Yt=pt("Edge"),Xt=Yt||$t,Zt=pt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!pt("Edge"))&&!(pt("Trident")||pt("MSIE"))&&!pt("Edge"),te=ct(tt.toLowerCase(),"webkit")&&!pt("Edge");function ee(){var t=s.document;return t?t.documentMode:void 0}t:{var ne="",re=(Jt=tt,Zt?/rv:([^\);]+)(\)|;)/.exec(Jt):Yt?/Edge\/([\d\.]+)/.exec(Jt):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Jt):te?/WebKit\/(\S+)/.exec(Jt):Qt?/(?:Version)[ \/]?(\S+)/.exec(Jt):void 0);if(re&&(ne=re?re[1]:""),$t){var ie=ee();if(null!=ie&&ie>parseFloat(ne)){Kt=String(ie);break t}}Kt=ne}var oe,ae={};function se(t){return function(t,e){var n=ae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=et(String(Kt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}s.document&&$t?oe=ee()||parseInt(Kt,10)||void 0:oe=void 0;var ue=oe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Jt){}var ce=!$t||9<=Number(ue);function le(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function he(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var fe,pe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}G(a?Z(o):o,r)}}}function ge(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ye(t){s.setTimeout((function(){throw t}),0)}function me(t,e){pe||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);pe=function(){t.then(_e)}}else pe=function(){var t=_e;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!pt("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(fe||(fe=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!pt("Presto")&&(t=function(){var t=ge(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!pt("Trident")&&!pt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),fe(t)):s.setImmediate(t)}}(),be||(pe(),be=!0),we.add(t,e)}var be=!1,we=new U;function _e(){for(var t;t=q();){try{t.a.call(t.b)}catch(t){ye(t)}j(V,t)}be=!1}function Ee(t,e){if(this.a=Ie,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Me(n,Te,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Me(n,Se,t)}))}catch(t){Me(this,Se,t)}}var Ie=0,Te=2,Se=3;function ke(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ke.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new F((function(){return new ke}),(function(t){t.reset()}));function xe(t,e,n){var r=Ce.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof Ee)return t;var e=new Ee(h);return Me(e,Te,t),e}function Ne(t){return new Ee((function(e,n){n(t)}))}function Pe(t,e,n){Fe(t,e,n,null)||me(E(e,t))}function Oe(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function Re(t,e){if(t.a==Ie)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Ie&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ue(n),Ve(n,i,Se,e)))}t.c=null}else Me(t,Se,e)}function De(t,e){t.b||t.a!=Te&&t.a!=Se||je(t),t.f?t.f.next=e:t.b=e,t.f=e}function Le(t,e,n,r){var i=xe(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,De(t,i),i.a}function Me(t,e,n){t.a==Ie&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Fe(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,je(t),e!=Se||n instanceof Be||function(t,e){t.g=!0,me((function(){t.g&&ze.call(null,e)}))}(t,n)))}function Fe(t,e,n,r){if(t instanceof Ee)return De(t,xe(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function je(t){t.h||(t.h=!0,me(t.fc,t))}function Ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(t){ze.call(null,t)}j(Ce,e)}function qe(t,e,n){e==Te?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return Le(this,d(t)?t:null,d(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(t=Ee.prototype).na=function(t,e){return(t=xe(t,t,e)).c=!0,De(this,t),this},t.o=function(t,e){return Le(this,null,t,e)},t.cancel=function(t){if(this.a==Ie){var e=new Be(t);me((function(){Re(this,e)}),this)}},t.Zc=function(t){this.a=Ie,Me(this,Te,t)},t.$c=function(t){this.a=Ie,Me(this,Se,t)},t.fc=function(){for(var t;t=Ue(this);)Ve(this,t,this.a,this.i);this.h=!1};var ze=ye;function Be(t){D.call(this,t)}function Ge(){0!=We&&(He[g(this)]=this),this.xa=this.xa,this.oa=this.oa}T(Be,D),Be.prototype.name="cancel";var We=0,He={};function Ke(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=We)){var e=g(t);if(0!=We&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Ge.prototype.xa=!1,Ge.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Je=Object.freeze||function(t){return t},Qe=!$t||9<=Number(ue),$e=$t&&!se("9"),Ye=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(t){}return t}();function Xe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Xe.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Ze,Xe);var tn=Je({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++nn,this.va=this.Oa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new rn(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(t,e,n,r,i){if(r&&r.once)pn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=En(n),t&&t[en]?Tn(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!1,r,i)}function fn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=bn,e=Qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else n=En(n),t&&t[en]?Sn(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=En(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function gn(t){return t in ln?ln[t]:ln[t]="on"+t}function yn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&vn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!Qe){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=yn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=yn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return d(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function In(){Ge.call(this),this.v=new an(this),this.$b=this,this.fb=null}function Tn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Sn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function kn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Ua||a.src;a.Oa&&sn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(t,e,n){if(d(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function xn(t){var e=null;return new Ee((function(n,r){-1==(e=Cn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function An(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Nn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function On(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(In,Ge),In.prototype[en]=!0,In.prototype.addEventListener=function(t,e,n,r){hn(this,t,e,n,r)},In.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},In.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Xe(t,n);else if(t instanceof Xe)t.target=t.target||n;else{var i=t;mt(t=new Xe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=kn(a,r,!0,t)&&i}if(i=kn(a=t.b=n,r,!0,t)&&i,i=kn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kn(a=t.b=e[o],r,!1,t)&&i;return i},In.prototype.Da=function(){if(In.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Pn.prototype).V=function(){On(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return On(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof Ln?(this.i=void 0!==e?e:t.i,Mn(this,t.f),this.l=t.l,this.a=t.a,Fn(this,t.g),this.c=t.c,jn(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(Dn))?(this.i=!!e,Mn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Fn(this,n[4]),this.c=Bn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Mn(t,e,n){t.f=n?Bn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function jn(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&(Xn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Gn(e,Qn)),t.b=new Yn(e,t.i))}function Un(t,e,n){t.b.set(e,n)}function Vn(t,e){return t.b.get(e)}function qn(t){return t instanceof Ln?new Ln(t):new Ln(t,void 0)}function zn(t,e,n,r){var i=new Ln(null,void 0);return t&&Mn(i,t),e&&(i.a=e),n&&Fn(i,n),r&&(i.c=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Wn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ln.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Gn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Gn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gn(n,"/"==n.charAt(0)?Jn:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Gn(n,$n)),t.join("")},Ln.prototype.resolve=function(t){var e=new Ln(this),n=!!t.f;n?Mn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Fn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?jn(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,Kn=/[#\?:]/g,Jn=/[#\?]/g,Qn=/[#\?@]/g,$n=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xn(t){t.a||(t.a=new Pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=Nn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=An(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Xn(t),e=ir(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&On(t)))}function er(t,e){return Xn(t),e=ir(t,e),Rn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),Z(n)),t.b+=n.length)}function rr(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new Pn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),lr(r,n),n.push(":"),sr(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":lr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Yn.prototype).add=function(t,e){Xn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Xn(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Xn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Xn(this);var e=[];if("string"==typeof t)er(this,t)&&(e=X(e,this.a.get(ir(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Xn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function hr(){var t=Pr();return $t&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function fr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function pr(t,e){e=e||s.window;var n="about:blank";t&&(n=Rt(Ft(t)||Vt)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||Pr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function gr(t){t=t||s.window;try{t.close()}catch(t){}}function yr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),xr(Pr())==kr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Ft(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((pt("iPhone")&&!pt("iPod")&&!pt("iPad")||pt("iPad")||pt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ge(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:jt(e),a.href=Rt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Bt("",r,n,a),t=Rt(e),a&&(Xt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Wt(t)+'">',t=new qt(t=(r=St())?r.createHTML(t):t,null,zt),r=a.document)&&(r.write(function(t){return t instanceof qt&&t.constructor===qt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Bt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ee((function(e){"complete"==s.document.readyState?e():(t=function(){e()},pn(window,"load",t))})).o((function(e){throw dn(window,"load",t),e}))}function _r(t){return t=t||Pr(),!("file:"!==Mr()&&"ionic:"!==Mr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Ir(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function Tr(){return J.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":J.Z.INTERNAL.hasOwnProperty("node")?"Node":Ir()?"Worker":"Browser"}function Sr(){var t=Tr();return"ReactNative"===t||"Node"===t}var kr="Firefox",Cr="Chrome";function xr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?kr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Cr:"Safari"}var Ar={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Nr(t,e){e=e||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=xr(i=Pr()):"Worker"===r&&(r=xr(i=Pr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Pr(){return s.navigator&&s.navigator.userAgent||""}function Or(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=s.localStorage,e=qr();if(t)return t.setItem(e,"1"),t.removeItem(e),!hr()||!!s.indexedDB}catch(t){return Ir()&&!!s.indexedDB}return!1}function Dr(){return(Lr()||"chrome-extension:"===Mr()||_r())&&!Sr()&&Rr()&&!Ir()}function Lr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return s.location&&s.location.protocol||null}function Fr(t){return!vr(t=t||Pr())&&xr(t)!=kr}function jr(t){return void 0===t?null:or(t)}function Ur(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Vr(t){if(null!==t)return JSON.parse(t)}function qr(t){return t||Math.floor(1e9*Math.random()).toString()}function zr(t){return"Safari"!=xr(t=t||Pr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Gr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Pr(),e=Tr(),this.b=vr(t)||"ReactNative"===e}function Wr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Hr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Kr(){return!(!Or("fireauth.oauthhelper",s)&&!Or("fireauth.iframe",s))}Gr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Lr()&&"chrome-extension:"!==Mr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Jr,Qr={};function $r(t){Qr[t]||(Qr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),Jr=2==Yr.abcd}catch(Jt){Jr=!1}function Xr(t,e,n){Jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Xr(t,n,e[n])}function ti(t){var e={};return Zr(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Xr(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[ai]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Xr(this,"uid",t[ai]),Xr(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),Xr(this,"enrollmentTime",n),Xr(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(t){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(t){ni.call(this,t),Xr(this,"phoneNumber",t[si])}function ci(t){var e={},n=t[pi],r=t[vi],i=t[gi];if(t=ri(t[di]),!i||i!=hi&&i!=fi&&!n||i==fi&&!r||i==li&&!t)throw Error("Invalid checkActionCode response!");i==fi?(e[mi]=n||null,e[wi]=n||null,e[yi]=r):(e[mi]=r||null,e[wi]=r||null,e[yi]=n||null),e[bi]=t||null,Xr(this,Ei,i),Xr(this,_i,ei(e))}T(ui,ni),ui.prototype.w=function(){var t=ui.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var li="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",pi="email",di="mfaInfo",vi="newEmail",gi="requestType",yi="email",mi="fromEmail",bi="multiFactorInfo",wi="previousEmail",_i="data",Ei="operation";function Ii(t){var e=Vn(t=qn(t),Ti)||null,n=Vn(t,Si)||null,r=Vn(t,xi)||null;if(r=r&&Ni[r]||null,!e||!n||!r)throw new k("argument-error",Ti+", "+Si+"and "+xi+" are required in a valid action code URL.");Zr(this,{apiKey:e,operation:r,code:n,continueUrl:Vn(t,ki)||null,languageCode:Vn(t,Ci)||null,tenantId:Vn(t,Ai)||null})}var Ti="apiKey",Si="oobCode",ki="continueUrl",Ci="languageCode",xi="mode",Ai="tenantId",Ni={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:hi,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function Pi(t){try{return new Ii(t)}catch(t){return null}}function Oi(t){var e=t[Fi];if(void 0===e)throw new k("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new k("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"==typeof n){e=n[Vi];var r=n[ji];if(n=n[Ui],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new k("argument-error",Vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Mi])&&"object"==typeof e){if("string"==typeof(e=e[qi])&&e.length)this.f=e;else if(void 0!==e)throw new k("argument-error",qi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new k("argument-error",Mi+" property must be a non null object when specified.");if(void 0!==(e=t[Li])&&"boolean"!=typeof e)throw new k("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Di])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new k("argument-error",Di+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Di="dynamicLinkDomain",Li="handleCodeInApp",Mi="iOS",Fi="url",ji="installApp",Ui="minimumVersion",Vi="packageName",qi="bundleId";function zi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Bi=null;function Gi(t){var e=Hi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,I(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Wi(t){try{return new Gi(t)}catch(t){return null}}function Hi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Bi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Bi){Bi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Bi[o]&&(Bi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(t){}return null}Gi.prototype.S=function(){return this.f},Gi.prototype.i=function(){return this.b},Gi.prototype.toString=function(){return this.g};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ji=["client_id","response_type","scope","redirect_uri","state"],Qi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Ji},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Ji},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Ji},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Ki},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function $i(t){for(var e in Qi)if(Qi[e].fa==t)return Qi[e];return null}function Yi(t){var e={};e["facebook.com"]=no,e["google.com"]=io,e["github.com"]=ro,e["twitter.com"]=oo;var n=t&&t[Zi];try{if(n)return e[n]?new e[n](t):new eo(t);if(void 0!==t[Xi])return new to(t)}catch(t){}return null}var Xi="idToken",Zi="providerId";function to(t){var e=t[Zi];if(!e&&t[Xi]){var n=Wi(t[Xi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Xr(this,"providerId",e),Xr(this,"isNewUser",n)}function eo(t){to.call(this,t),Xr(this,"profile",ei((t=Vr(t.rawUserInfo||"{}"))||{}))}function no(t){if(eo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(eo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",this.profile&&this.profile.login||null)}function io(t){if(eo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(t){if(eo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",t.screenName||null)}function ao(t){var e=qn(t),n=Vn(e,"link"),r=Vn(qn(n),"link");return e=Vn(e,"deep_link_id"),Vn(qn(e),"link")||e||r||n||t}function so(t,e){if(!t&&!e)throw new k("internal-error","Internal assert: no raw session string available");if(t&&e)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?uo:co}T(eo,to),T(no,eo),T(ro,eo),T(io,eo),T(oo,eo);var uo="enroll",co="signin";function lo(){}function ho(t,e){return t.then((function(t){if(t[Za]){var n=Wi(t[Za]);if(!n||e!=n.h)throw new k("user-mismatch");return t}throw new k("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new k("user-mismatch"):t}))}function fo(t,e){if(!e)throw new k("internal-error","failed to construct a credential");this.a=e,Xr(this,"providerId",t),Xr(this,"signInMethod",t)}function po(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function vo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new fo(t.providerId,t.pendingToken)}catch(t){}return null}function go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Xr(this,"idToken",e.idToken),e.accessToken&&Xr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Xr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Xr(this,"accessToken",e.oauthToken),Xr(this,"secret",e.oauthTokenSecret)}Xr(this,"providerId",t),Xr(this,"signInMethod",n)}function yo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new go(t.providerId,e,t.signInMethod)}catch(t){}}return null}function bo(t,e){this.Pc=e||[],Zr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=($i(t)||{}).Ja||null,this.nb=null}function wo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,t,[])}function _o(t){bo.call(this,t,Ji),this.a=[]}function Eo(){_o.call(this,"facebook.com")}function Io(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function To(){_o.call(this,"github.com")}function So(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function ko(){_o.call(this,"google.com"),this.Ca("profile")}function Co(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new ko).credential({idToken:n,accessToken:e})}function xo(){bo.call(this,"twitter.com",Ki)}function Ao(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Xr(this,"providerId","password"),Xr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Oo(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=Do(e)))throw new k("argument-error","Invalid email link!");return new No(t,e.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function Do(t){return(t=Pi(t=ao(t)))&&t.operation===hi?t:null}function Lo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new k("internal-error");this.a=t,Xr(this,"providerId","phone"),this.fa="phone",Xr(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Lo(e)}return null}function Fo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function jo(t){try{this.a=t||J.Z.auth()}catch(t){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Uo(t,e){if(!t)throw new k("missing-verification-id");if(!e)throw new k("missing-verification-code");return new Lo({cb:t,bb:e})}function Vo(t){if(t.temporaryProof&&t.phoneNumber)return new Lo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Co(o,n);case"facebook.com":return Io(n);case"github.com":return So(n);case"twitter.com":return Ao(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new fo(e,a):new go(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new _o(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function qo(t){if(!t.isOAuthProvider)throw new k("invalid-oauth-provider")}function zo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Bo(t){return(t=t||{}).type?new zo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Go(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ja=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},fo.prototype.ja=function(t){return ws(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,_s(t,n)},fo.prototype.c=function(t,e){return ho(Es(t,po(this)),e)},fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ja=function(t){return ws(t,yo(this))},go.prototype.b=function(t,e){var n=yo(this);return n.idToken=e,_s(t,n)},go.prototype.c=function(t,e){return ho(Es(t,yo(this)),e)},go.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},bo.prototype.Ka=function(t){return this.Hb=gt(t),this},T(wo,bo),T(_o,bo),_o.prototype.Ca=function(t){return Q(this.a,t)||this.a.push(t),this},_o.prototype.Pb=function(){return Z(this.a)},_o.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},T(Eo,_o),Xr(Eo,"PROVIDER_ID","facebook.com"),Xr(Eo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(To,_o),Xr(To,"PROVIDER_ID","github.com"),Xr(To,"GITHUB_SIGN_IN_METHOD","github.com"),T(ko,_o),Xr(ko,"PROVIDER_ID","google.com"),Xr(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),T(xo,bo),Xr(xo,"PROVIDER_ID","twitter.com"),Xr(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ja=function(t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ns,{email:this.a,oobCode:this.f}):ru(t,Xs,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ps,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Gs,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return ho(this.ja(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Oo,{PROVIDER_ID:"password"}),Zr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ja=function(t){return t.eb(Fo(this))},Lo.prototype.b=function(t,e){var n=Fo(this);return n.idToken=e,ru(t,tu,n)},Lo.prototype.c=function(t,e){var n=Fo(this);return n.operation="REAUTH",ho(t=ru(t,eu,n),e)},Lo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},jo.prototype.eb=function(t,e){var n=this.a.a;return Ae(e.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==uo?i.Ha().then((function(t){return function(t,e){return ru(t,Hs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==co?i.Ha().then((function(e){return function(t,e){return ru(t,Ks,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,zs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(jo,{PROVIDER_ID:"phone"}),Zr(jo,{PHONE_SIGN_IN_METHOD:"phone"}),zo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},zo.prototype.S=function(){return this.h},zo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wo,Ho=null;function Ko(t){var e="unauthorized-domain",n=void 0,r=qn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Gt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Gt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",k.call(this,e,n)}function Jo(t,e,n){k.call(this,t,n),(t=e||{}).Ib&&Xr(this,"email",t.Ib),t.ea&&Xr(this,"phoneNumber",t.ea),t.credential&&Xr(this,"credential",t.credential),t.Yb&&Xr(this,"tenantId",t.Yb)}function Qo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Vo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new k(e,t.message||void 0);return new Jo(e,n,t.message)}return null}function $o(){}function Yo(t){return t.c||(t.c=t.b())}function Xo(){}function Zo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ta(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.pc,this),this.a.onerror=_(this.Rb,this),this.a.onprogress=_(this.qc,this),this.a.ontimeout=_(this.uc,this)}function na(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ra(t,e,n){this.reset(t,e,n,void 0,void 0)}function ia(t){this.f=t,this.b=this.c=this.a=null}function oa(t,e){this.name=t,this.value=e}T(Ko,k),T(Jo,k),Jo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},Jo.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,T(Xo,$o),Xo.prototype.a=function(){var t=Zo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xo.prototype.b=function(){var t={};return Zo(this)&&(t[0]=!0,t[1]=!0),t},Wo=new Xo,T(ta,$o),ta.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},ta.prototype.b=function(){return{}},(t=ea.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,na(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",na(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,na(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ra.prototype.a=null,ra.prototype.reset=function(t,e,n,r,i){r||I(),delete this.a},oa.prototype.toString=function(){return this.name};var aa=new oa("SEVERE",1e3),sa=new oa("WARNING",900),ua=new oa("CONFIG",700),ca=new oa("FINE",500);function la(t){return t.c?t.c:t.a?la(t.a):(M("Root logger has no level set."),null)}ia.prototype.log=function(t,e,n){if(t.value>=la(this).value)for(d(e)&&(e=e()),t=new ra(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ha={},fa=null;function pa(t){var e;if(fa||(fa=new ia(""),ha[""]=fa,fa.c=ua),!(e=ha[t])){e=new ia(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=pa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ha[t]=e}return e}function da(t,e){t&&t.log(ca,e,void 0)}function va(t){this.f=t}function ga(t){In.call(this),this.u=t,this.h=void 0,this.readyState=ya,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=pa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(va,$o),va.prototype.a=function(){return new ga(this.f)},va.prototype.b=function(t){return function(){return t}}({}),T(ga,In);var ya=0;function ma(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ba(t){t.readyState=4,t.g=null,t.c=null,t.m=null,wa(t)}function wa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function _a(t){In.call(this),this.headers=new Pn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.s=null,this.m=Ea,this.u=this.R=!1}(t=ga.prototype).open=function(t,e){if(this.readyState!=ya)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,wa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this)),this.readyState=ya},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,wa(this)),this.a&&(this.readyState=3,wa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ma(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ba(this):wa(this),3==this.readyState&&ma(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ba(this))},t.rc=function(t){this.a&&(this.response=t,ba(this))},t.Ta=function(t){var e=this.i;e&&e.log(sa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ba(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(sa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(sa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),T(_a,In);var Ea="";_a.prototype.b=pa("goog.net.XhrIo");var Ia=/^https?$/i,Ta=["POST","PUT"];function Sa(t){return"content-type"==t.toLowerCase()}function ka(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ca(t),Aa(t)}function Ca(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xa(t){if(t.c&&void 0!==a)if(t.A[1]&&4==Pa(t)&&2==Oa(t))da(t.b,Ra(t,"Local request error detected and ignored"));else if(t.i&&4==Pa(t))Cn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Pa(t)){da(t.b,Ra(t,"Request complete")),t.c=!1;try{var e,n=Oa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Dn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ia.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Pa(t)?t.a.statusText:""}catch(e){da(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Oa(t)+"]",Ca(t)}}finally{Aa(t)}}}function Aa(t,e){if(t.a){Na(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(aa,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Na(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Pa(t){return t.a?t.a.readyState:0}function Oa(t){try{return 2<Pa(t)?t.a.status:-1}catch(t){return-1}}function Ra(t,e){return e+" ["+t.P+" "+t.l+" "+Oa(t)+"]"}function Da(t){var e=Wa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function La(t,e,n){t.a=!0,t.c=n,t.f=!e,Ua(t)}function Ma(t){if(t.a){if(!t.m)throw new Va(t);t.m=!1}}function Fa(t,e,n,r){t.g.push([e,n,r]),t.a&&Ua(t)}function ja(t){return K(t.g,(function(t){return d(t[1])}))}function Ua(t){if(t.h&&t.a&&ja(t)){var e=t.h,n=Ba[e];n&&(s.clearTimeout(n.a),delete Ba[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(R(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,ja(t)||(n=!0)}}t.c=e,r&&(u=_(t.v,t,!0),r=_(t.v,t,!1),e instanceof Da?(Fa(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new za(e),Ba[e.a]=e,t.h=e.a)}function Va(){D.call(this)}function qa(){D.call(this)}function za(t){this.a=s.setTimeout(_(this.c,this),0),this.b=t}(t=_a.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",da(this.b,Ra(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(da(this.b,Ra(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Aa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Aa(this,!0)),_a.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?xa(this):this.Ic())},t.Ic=function(){xa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ea:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(aa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return da(this.b,"Can not get response: "+t.message),null}},Da.prototype.cancel=function(t){if(this.a)this.c instanceof Da&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new qa(this),Ma(this),La(this,!1,t))}},Da.prototype.v=function(t,e){this.i=!1,La(this,t,e)},Da.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Fa(this,r,(function(t){t instanceof qa?o.cancel():i(t)})),o.then(t,e,n)},Da.prototype.$goog_Thenable=!0,T(Va,D),Va.prototype.message="Deferred has already fired",Va.prototype.name="AlreadyCalledError",T(qa,D),qa.prototype.message="Deferred was canceled",qa.prototype.name="CanceledError",za.prototype.c=function(){throw delete Ba[this.a],this.b};var Ba={};function Ga(t){var e={},n=e.document||document,r=Ct(t).toString(),i=ge(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new Da(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Ha(i,!0);var t=new Qa(Ja,"Timeout reached for loading script "+r);Ma(a),La(a,!1,t)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ha(i,e.wd||!1,u),Ma(a),La(a,!0,null))},i.onerror=function(){Ha(i,!0,u);var t=new Qa(Ka,"Error while loading script "+r);Ma(a),La(a,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Ct(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=l(e.document):(null===c&&(c=l(s.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Wa(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Ha(t,!0,this.Ma)}}function Ha(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ka=0,Ja=1;function Qa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function $a(t){this.f=t}function Ya(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||ts,this.g=gt(t.secureTokenHeaders||es),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||ns,this.a=gt(t.firebaseHeaders||rs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=s.XMLHttpRequest||n&&J.Z.INTERNAL.node&&J.Z.INTERNAL.node.XMLHttpRequest)&&!Ir())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Ir()?this.f=new va(self):Sr()?this.f=new $a(n):this.f=new ta,this.b=null}T(Qa,D),T($a,$o),$a.prototype.a=function(){return new this.f},$a.prototype.b=function(){return{}};var Xa,Za="idToken",ts=new Gr(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ns=new Gr(3e4,6e4),rs={"Content-Type":"application/json"};function is(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function os(t,e){e&&(t.l=as("https://securetoken.googleapis.com/v1/token",e),t.h=as("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=as("https://identitytoolkit.googleapis.com/v2/",e))}function as(t,e){return t=qn(t),e=qn(e.url),t.c=t.a+t.c,Mn(t,e.f),t.a=e.a,Fn(t,e.g),t.toString()}function ss(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function us(t,e,n,r,i,o,a){(function(){var t=Pr();return!((t=xr(t)!=Cr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||$t&&ue&&!(9<ue))})()||Ir()?t=_(t.u,t):(Xa||(Xa=new Ee((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[ls]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Fa(t,null,e,void 0)}(Ga(xt(cs,{onload:ls})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,a)}Ya.prototype.S=function(){return this.b},Ya.prototype.u=function(t,e,n,r,i,o){if(Ir()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new _a(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return da(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),Sn(a,"ready",(function(){u&&clearTimeout(u),Ke(this)})),Sn(a,"timeout",(function(){u&&clearTimeout(u),Ke(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Wo.a(),t.A=t.O?Yo(t.O):Yo(Wo),t.a.onreadystatechange=_(t.Ub,t);try{da(t.b,Ra(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return da(t.b,Ra(t,"Error opening Xhr: "+e.message)),void ka(t,e)}e=r||"";var o=new Pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)G(t,e,void 0);else for(var n=Nn(t),r=An(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Sa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!Q(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Na(t),0<t.g&&(t.u=function(t){return $t&&se(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),da(t.b,Ra(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=Cn(t.Ma,t.g,t)),da(t.b,Ra(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){da(t.b,Ra(t,"Send error: "+e.message)),ka(t,e)}}(a,t,n,r,i)};var cs=new wt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),ls="__fcb"+Math.floor(1e6*Math.random()).toString();function hs(t){if("string"!=typeof(t=t.email)||!br.test(t))throw new k("invalid-email")}function fs(t){"email"in t&&hs(t)}function ps(t){if(!t[Za]){if(t.mfaPendingCredential)throw new k("multi-factor-auth-required",null,gt(t));throw new k("internal-error")}}function ds(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new k("internal-error")}else{if(!t.sessionInfo)throw new k("missing-verification-id");if(!t.code)throw new k("missing-verification-code")}}Ya.prototype.s=function(t,e,n,r,i){var o=this;Xa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ya.prototype.yb=function(){return ru(this,Ws,{})},Ya.prototype.Ab=function(t,e){return ru(this,Bs,{idToken:t,email:e})},Ya.prototype.Bb=function(t,e){return ru(this,Gs,{idToken:t,password:e})};var vs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function gs(t){if(!t.phoneVerificationInfo)throw new k("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new k("missing-verification-code")}function ys(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new k("internal-error")}function ms(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&er(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function bs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Qo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Qo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Qo(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;ps(t)}function ws(t,e){return e.returnIdpCredential=!0,ru(t,Js,e)}function _s(t,e){return e.returnIdpCredential=!0,ru(t,$s,e)}function Es(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Qs,e)}function Is(t){if(!t.oobCode)throw new k("invalid-action-code")}(t=Ya.prototype).Cb=function(t,e){var n={idToken:t},r=[];return dt(vs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Bs,n)},t.ub=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,js,t)},t.vb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Ls,t)},t.tb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ms,t)},t.Db=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Fs,t)},t.eb=function(t){return ru(this,Zs,t)},t.mb=function(t,e){return ru(this,qs,{oobCode:t,newPassword:e})},t.Qa=function(t){return ru(this,Ss,{oobCode:t})},t.ib=function(t){return ru(this,Ts,{oobCode:t})};var Ts={endpoint:"setAccountInfo",B:Is,Z:"email",C:!0},Ss={endpoint:"resetPassword",B:Is,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new k("internal-error")},C:!0},ks={endpoint:"signupNewUser",B:function(t){if(hs(t),!t.password)throw new k("weak-password")},F:ps,U:!0,C:!0},Cs={endpoint:"createAuthUri",C:!0},xs={endpoint:"deleteAccount",M:["idToken"]},As={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new k("internal-error")}},Ns={endpoint:"emailLinkSignin",M:["email","oobCode"],B:hs,F:ps,U:!0,C:!0},Ps={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:hs,F:ps,U:!0},Os={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:gs,F:ps,C:!0,Na:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:gs,F:ps,C:!0,Na:!0},Ds={endpoint:"getAccountInfo"},Ls={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new k("internal-error");hs(t)},Z:"email",C:!0},Ms={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",C:!0},Fs={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",C:!0},js={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new k("internal-error");hs(t)},Z:"email",C:!0},Us={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Vs={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new k("internal-error")}},qs={endpoint:"resetPassword",B:Is,Z:"email",C:!0},zs={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Bs={endpoint:"setAccountInfo",M:["idToken"],B:fs,U:!0},Gs={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(fs(t),!t.password)throw new k("weak-password")},F:ps,U:!0},Ws={endpoint:"signupNewUser",F:ps,U:!0,C:!0},Hs={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new k("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new k("internal-error")},C:!0,Na:!0},Ks={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new k("internal-error")},C:!0,Na:!0},Js={endpoint:"verifyAssertion",B:ys,Xa:ms,F:bs,U:!0,C:!0},Qs={endpoint:"verifyAssertion",B:ys,Xa:ms,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new k("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);ps(t)},U:!0,C:!0},$s={endpoint:"verifyAssertion",B:function(t){if(ys(t),!t.idToken)throw new k("internal-error")},Xa:ms,F:bs,U:!0},Ys={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new k("invalid-custom-token")},F:ps,U:!0,C:!0},Xs={endpoint:"verifyPassword",B:function(t){if(hs(t),!t.password)throw new k("wrong-password")},F:ps,U:!0,C:!0},Zs={endpoint:"verifyPhoneNumber",B:ds,F:ps,C:!0},tu={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new k("internal-error");ds(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Qo(t);ps(t)}},eu={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ds,F:ps,C:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Za]^!!t.refreshToken)throw new k("internal-error")},C:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ne(new k("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Ae(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=qn(e+n);Un(s,"key",t.c),a&&Un(s,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(s,c,i[c]);return new Ee((function(e,n){us(t,s.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new k("network-request-failed"))}),r,u?void 0:or(Ur(i)),t.a,t.m.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new k("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],e);return!e&&t&&(e=jr(t)),new k("internal-error",e)}function au(t){this.b=t,this.a=null,this.qb=function(t){return(lu||(lu=new Ee((function(t,e){function n(){Br(),Or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Br(),e(Error("Network Error"))},timeout:uu.get()})}if(Or("gapi.iframes.Iframe"))t();else if(Or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Or("gapi.load")?n():e(Error("Network Error"))},Ae(Ga(r=xt(su,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw lu=null,t})))).then((function(){return new Ee((function(e,n){Or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new wt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Gr(3e4,6e4),cu=new Gr(5e3,15e3),lu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?zn((t=qn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):zn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.h),Un(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function pu(t){try{return J.Z.app(t).auth().Ga()}catch(t){return[]}}function du(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function vu(t){var e=fr();return function(t){return ru(t,Us,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=qn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:mr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Ko(fr())}))}function gu(t){return t.v||(t.v=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=pu(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.m=new au(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Bo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.v}function yu(t){return t.l||(t.A=t.c?Nr(t.c,pu(t.b)):null,t.l=new Ya(t.g,O(t.i),t.A),t.f&&os(t.l,t.f)),t.l}function mu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new fu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=gt(u||null),t.f=c,t.xb(l).toString()}function bu(t){if(this.a=t||J.Z.INTERNAL.reactNative&&J.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=_(this.c,this)}hu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},fu.prototype.xb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.m){var t=qn(this.m.url);t=zn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=zn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.s),Un(t,"appName",this.c),Un(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=J.Z.app(this.c).auth().ka()}catch(t){n=null}for(var r in e.nb=n,Un(t,"providerId",this.a.providerId),e=Ur((n=this.a).Hb))e[r]=e[r].toString();r=n.Pc,e=gt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),vt(e)||Un(t,"customParameters",jr(e))}if("function"==typeof this.a.Pb&&(n=this.a.Pb()).length&&Un(t,"scopes",n.join(",")),this.l?Un(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):tr(t.b,"eventId"),this.i?Un(t,"v",this.i):tr(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Vn(t,a)&&Un(t,a,this.b[a]);return this.h?Un(t,"tid",this.h):tr(t.b,"tid"),this.f?Un(t,"eid",this.f):tr(t.b,"eid"),(a=pu(this.c)).length&&Un(t,"fw",a.join(",")),t.toString()},(t=du.prototype).Nb=function(t,e,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then((function(){return function(t,e){return t.qb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&gr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Ee((function(e){return function n(){xn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return xn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Pr();return!Fr(t)&&!zr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,a,s){if(!t)return Ne(new k("popup-blocked"));if(a&&!Fr())return this.la().o((function(e){gr(t),i(e)})),r(),Ae();this.a||(this.a=vu(yu(this)));var u=this;return this.a.then((function(){var e=u.la().o((function(e){throw gr(t),i(e),e}));return r(),e})).then((function(){qo(n),a||pr(mu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=vu(yu(this)));var i=this;return this.a.then((function(){qo(e),pr(mu(i.s,i.g,i.b,t,e,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return gu(this).then((function(){return t.m.qb})).o((function(){throw t.a=null,new k("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){Y(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&Vr(t)}))},t.set=function(t,e){return Ae(this.a.setItem(t,jr(e)))},t.T=function(t){return Ae(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var _u,Eu=[];function Iu(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Cu(t,c),e})).o((function(e){throw Cu(t,c),e}))}function Cu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function xu(){if(!Ou())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=s.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Ir()&&self?(this.m=function(){var t=Ir()?self:null;if(G(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Eu.push(e)}return e}(),Iu(this.m,"keyChanged",(function(e,n){return Fu(t).then((function(e){return 0<e.length&&G(t.a,(function(t){t(e)})),{keyProcessed:Q(e,n.key)}}))})),Iu(this.m,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.h=e)&&(t.g=new Su(new Tu(e)),ku(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Q(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Au(t){return new Ee((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Au(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Nu(t){return t.i||(t.i=Au(t)),t.i}function Pu(t,e){var n=0;return new Ee((function r(i,o){Nu(t).then(e).then(i).o((function(e){if(!(3<++n))return Nu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Ou(){try{return!!s.indexedDB}catch(t){return!1}}function Ru(t){return t.objectStore("firebaseLocalStorage")}function Du(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function Fu(t){return Nu(t).then((function(t){var e=Ru(Du(t,!1));return e.getAll?Lu(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r}))}function ju(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(Ou()){var t=qr(),r="__sak"+t;return _u||(_u=new xu),(n=_u).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){G(e.a,(function(e){e(t)}))})),t}))}function Vu(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==Tr();if(!(t=zu()||t&&J.Z.INTERNAL.node&&J.Z.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=zu()||J.Z.INTERNAL.node.localStorage,this.type="localStorage"}function zu(){try{var t=s.localStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Bu(){this.type="nullStorage"}function Gu(){if(!function(){var t="Node"==Tr();if(!(t=Wu()||t&&J.Z.INTERNAL.node&&J.Z.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Wu()||J.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wu(){try{var t=s.sessionStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Hu(){var t={};t.Browser=Qu,t.Node=$u,t.ReactNative=Yu,t.Worker=Xu,this.a=t[Tr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];G(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];G(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),G(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)Cu(this,this.a[0]);this.b=!0},(t=xu.prototype).set=function(t,e){var n=this,r=!1;return Pu(this,(function(e){return Lu((e=Ru(Du(e,!0))).get(t))})).then((function(i){return Pu(n,(function(o){if(o=Ru(Du(o,!0)),i)return i.value=e,Lu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Lu(o.add(a))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).na((function(){r&&n.b--}))},t.get=function(t){return Pu(this,(function(e){return Lu(Ru(Du(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=this,n=!1;return Pu(this,(function(r){return n=!0,e.b++,Lu(Ru(Du(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).na((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){ju(t),function e(){t.f=setTimeout((function(){t.l=Fu(t).then((function(e){0<e.length&&G(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&ju(this)},(t=Uu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t}))},(t=Vu.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.T=function(t){return delete this.a[t],Ae()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Ae().then((function(){return Vr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=jr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&hn(s.window,"storage",t)},t.ia=function(t){s.window&&dn(s.window,"storage",t)},(t=Bu.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.T=function(){return Ae()},t.ca=function(){},t.ia=function(){},(t=Gu.prototype).get=function(t){var e=this;return Ae().then((function(){return Vr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=jr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Ku,Ju,Qu={D:qu,ab:Gu},$u={D:qu,ab:Gu},Yu={D:bu,ab:Bu},Xu={D:qu,ab:Bu},Zu={qd:"local",NONE:"none",sd:"session"};function tc(){var t=!(zr(Pr())||!Er()),e=Fr(),n=Rr();this.v=t,this.h=e,this.l=n,this.a={},Ku||(Ku=new Hu),t=Ku;try{this.g=!hr()&&Kr()||!s.indexedDB?new t.a.D:new Uu(Ir()?new Vu:new t.a.D)}catch(t){this.g=new Vu,this.h=!0}try{this.i=new t.a.ab}catch(t){this.i=new Vu}this.m=new Vu,this.f=_(this.Xb,this),this.b={}}function ec(){return Ju||(Ju=new tc),Ju}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.D&&(t.b[n]=null),nc(t,e.D).T(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function ac(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.D).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),vt(this.a)&&(nc(this,"local").ca(this.f),this.h||(hr()||!Kr())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.v)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.lb(e))},$t&&ue&&10==ue&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,_(this.lb,this))},t.lb=function(t){this.a[t]&&G(this.a[t],(function(t){t()}))};var sc,uc={name:"authEvent",D:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=s.Int32Array?new Int32Array(mc):mc),this.reset()}T(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,pc=[],dc=0;dc<fc;dc++)pc[dc]=0;var vc=X(128,pc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|sc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function yc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Z(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}T(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _c(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.A=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new k("invalid-cordova-configuration",t)}function Ic(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.la().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Sc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ao(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Vr(Vn(o=qn(i),"firebaseError")||null))?C(o):null)?new zo(r.c,r.b,null,null,o,null,r.S()):new zo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Ic(t,i)}))}var n=new zo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=xn(500).then((function(){return Sc(t).then((function(){r||Ic(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Or("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Ho||(Ho=new Go),function(t){var e=Ho;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Or("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Sc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return Bo(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=ec()}(t=_c.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?wr().then((function(){return new Ee((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Or("universalLinks.subscribe",s))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===Or("BuildInfo.packageName",s))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof Or("cordova.plugins.browsertab.openUrl",s))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof Or("cordova.InAppBrowser.open",s))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},t.Nb=function(t,e){return e(new k("operation-not-supported-in-this-environment")),Ae()},t.Lb=function(){return Ne(new k("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Ne(new k("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ae().then((function(){return qo(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new zo(e,r,null,o,new k("no-auth-event"),null,i),u=Or("BuildInfo.packageName",s);if("string"!=typeof u)throw new k("invalid-cordova-configuration");var c=Or("BuildInfo.displayName",s),l={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Pr().toLowerCase().match(/android/))return Ne(new k("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new bc;yc(e,t),t=[];var n=8*e.g;56>e.c?yc(e,vc,56-e.c):yc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=mu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.s);return t.la().then((function(){var e=t.h;return t.A.a.set(uc,a.w(),e)})).then((function(){var e=Or("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new k("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Or("cordova.plugins.browsertab.openUrl",s)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Or("cordova.InAppBrowser.open",s)))throw new k("invalid-cordova-configuration");e=Pr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){u=function(){var e=Or("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=xn(2e3).then((function(){e(new k("redirect-cancelled-by-user"))})))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Sc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new zo("unknown",null,null,null,new k("no-auth-event")),t(e))}))},t.Ra=function(t){Y(this.b,(function(e){return e==t}))};var Cc={name:"pendingRedirect",D:"session"};function xc(t){return ic(t.b,Cc,t.a)}function Ac(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Gc,this.A=new Qc,this.g=new kc(zc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Nc(this.O,this.m,this.v,x,this.G)}function Nc(t,e,n,r,i){var o=J.Z.SDK_VERSION||null;return _r()?new _c(t,e,n,o,r,i):new du(t,e,n,o,r,i)}function Pc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o((function(n){throw t.a==e&&t.reset(),n}))}function Oc(t){t.a.Wb()&&Pc(t).o((function(e){var n=new zo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));jc(e)&&t.s(n)})),t.a.Sb()||Wc(t.b)}function Rc(t,e){Q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Cc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?xc(t.g).then((function(){Pc(t).o((function(e){var n=new zo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));jc(e)&&t.s(n)}))})):Oc(t)})).o((function(){Oc(t)}))}function Dc(t,e){Y(t.h,(function(t){return t==e}))}Ac.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Nc(this.O,this.m,this.v,null,this.G),this.i={}},Ac.prototype.s=function(t){if(!t)throw new k("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=I())),e=!0;break}}return Wc(this.b),e};var Lc=new Gr(2e3,1e4),Mc=new Gr(3e4,6e4);function Fc(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function jc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(Cc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).o((function(e){if(jc(e))throw new k("operation-not-supported-in-this-environment");return o=e,xc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new Ee((function(){})):xc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Vc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Lc.get())}Ac.prototype.qa=function(){return this.b.qa()};var qc={};function zc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Bc(t,e,n,r){var i=zc(e,n,r);return qc[i]||(qc[i]=new Ac(t,e,n,r)),qc[i]}function Gc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(t){t.g||(t.g=!0,Jc(t,!1,null,null))}function Hc(t){t.g&&!t.i&&Jc(t,!1,null,null)}function Kc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Jc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Kc(t,n):Kc(t,{user:null}),t.f=[],t.c=[]}function Qc(){}function $c(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Yc(t,e){this.a=e,Xr(this,"verificationId",t)}function Xc(t,e,n,r){return new jo(t).eb(e,n).then((function(t){return new Yc(t,r)}))}function Zc(t){var e=Hi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:Hr(1e3*e.exp),authTime:Hr(1e3*e.auth_time),issuedAtTime:Hr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function tl(t,e,n){var r=e&&e[nl];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new so(null,r),this.b=[];var i=this;G(e[el]||[],(function(t){(t=ri(t))&&i.b.push(t)})),Xr(this,"auth",this.a),Xr(this,"session",this.c),Xr(this,"hints",this.b)}Gc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Gc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Jc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Jc(t,s,e,null)})).o((function(e){Jc(t,s,null,e)}))}(this,t,e):Ne(new k("invalid-auth-event")):(Jc(this,!1,null,null),Ae())}else Ne(new k("invalid-auth-event"))},Gc.prototype.qa=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new k("timeout");t.a&&t.a.cancel(),t.a=xn(Mc.get()).then((function(){t.b||(t.g=!0,Jc(t,!0,null,e))}))}(t))}))},Qc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).o((function(t){e.ma(r,null,t,n)}))}(t,e):Ne(new k("invalid-auth-event"))}else Ne(new k("invalid-auth-event"))},Yc.prototype.confirm=function(t){return t=Uo(this.verificationId,t),this.a(t)};var el="mfaInfo",nl="mfaPendingCredential";function rl(t,e,n,r){k.call(this,"multi-factor-auth-required",r,e),this.b=new tl(t,e,n),Xr(this,"resolver",this.b)}function il(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rl(e,t.serverResponse,n,t.message)}catch(t){}return null}function ol(){}function al(t){Xr(this,"factorId",t.fa),this.a=t}function sl(t){if(al.call(this,t),this.a.fa!=jo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(t,e){for(var n in Xe.call(this,t),e)this[n]=e[n]}function cl(t,e){this.a=t,this.b=[],this.c=_(this.xc,this),hn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[si]=t.phoneNumber);try{e=new ui(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),ll(this,n)}function ll(t,e){t.b=e,Xr(t,"enrolledFactors",e)}function hl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(t,e){t.stop(),t.b=xn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Wr()||!t?Ae():new Ee((function(n){e=function(){Wr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){fl(t,!0)})).o((function(e){t.i(e)&&fl(t,!1)}))}function pl(t){this.c=t,this.b=this.a=null}function dl(t){return t.b&&1e3*t.b.c||0}function vl(t,e){var n=e.refreshToken;t.b=Wi(e[Za]||""),t.a=n}function gl(t,e){this.a=t||null,this.b=e||null,Zr(this,{lastSignInTime:Hr(e||null),creationTime:Hr(t||null)})}function yl(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ml(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=J.Z.SDK_VERSION?Nr(J.Z.SDK_VERSION):null;this.a=new Ya(this.l,O(x),r),t.emulatorConfig&&os(this.a,t.emulatorConfig),this.b=new pl(this.a),kl(this,e[Za]),vl(this.b,e),Xr(this,"refreshToken",this.b.a),Al(this,n||{}),In.call(this),this.P=!1,this.s&&Dr()&&(this.i=Bc(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new hl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=dl(t.b)-I()-3e5;return 0<e?e:0}))}(this),this.$=_(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.h)},this.ba=null,this.za=function(t){os(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){_l(i,t.f)},this.aa=null,this.N=new cl(this,n),Xr(this,"multiFactor",this.N)}function bl(t,e){t.ba&&dn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&hn(e,"languageCodeChanged",t.Ba)}function wl(t,e){t.W&&dn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&hn(e,"emulatorConfigChanged",t.za)}function _l(t,e){t.X=e,ss(t.a,J.Z.SDK_VERSION?Nr(J.Z.SDK_VERSION,t.X):null)}function El(t,e){t.aa&&dn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&hn(e,"frameworkChanged",t.Aa)}function Il(t){try{return J.Z.app(t.m).auth()}catch(e){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Tl(t){t.A||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.$),hn(t,"tokenChanged",t.$))}function Sl(t){dn(t,"tokenChanged",t.$),t.u.stop()}function kl(t,e){t.ya=e,Xr(t,"_lat",e)}function Cl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Oe(e).then((function(){return t}))}function xl(t){t.i&&!t.P&&(t.P=!0,Rc(t.i,t))}function Al(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Nl(){}function Pl(t){return Ae().then((function(){if(t.A)throw new k("app-deleted")}))}function Ol(t){return H(t.providerData,(function(t){return t.providerId}))}function Rl(t,e){e&&(Dl(t,e.providerId),t.providerData.push(e))}function Dl(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function Ll(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Xr(t,e,n)}function Ml(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Xr(t,"metadata",function(t){return new gl(t.a,t.b)}(e.metadata)):Xr(t,"metadata",new gl),G(e.providerData,(function(e){Rl(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Xr(t,"refreshToken",t.b.a),ll(t.N,e.N.b))}function Fl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Ds,{idToken:e}).then(_(t.Jc,t))}(t,e).then((function(){return n||Ll(t,"isAnonymous",!1),e}))}))}function jl(t,e){e[Za]&&t.ya!=e[Za]&&(vl(t.b,e),t.dispatchEvent(new ul("tokenChanged")),kl(t,e[Za]),Ll(t,"refreshToken",t.b.a))}function Ul(t,e){return Fl(t).then((function(){if(Q(Ol(t),e))return Cl(t).then((function(){throw new k("provider-already-linked")}))}))}function Vl(t,e,n){return ti({user:t,credential:Vo(e),additionalUserInfo:e=Yi(e),operationType:n})}function ql(t,e){return jl(t,e),t.reload().then((function(){return t}))}function zl(t,e,n,r,i){if(!Dr())return Ne(new k("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ne(t.f);var o=$i(n.providerId),a=qr(t.uid+":::"),s=null;(!Fr()||Er())&&t.s&&n.isOAuthProvider&&(s=mu(t.s,t.l,t.m,e,n,null,a,J.Z.SDK_VERSION||null,null,null,t.tenantId));var u=yr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Gl(t),!i)return t.I().then((function(){}))})).then((function(){return Fc(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new Ee((function(n,r){t.ma(e,null,new k("cancelled-popup-request"),t.h||null),t.g=n,t.O=r,t.h=a,t.c=Vc(t.i,t,e,u,a)}))})).then((function(t){return u&&gr(u),t?ti(t):null})).o((function(t){throw u&&gr(u),t})),Wl(t,r,i)}function Bl(t,e,n,r,i){if(!Dr())return Ne(new k("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ne(t.f);var o=null,a=qr(t.uid+":::");return r=r().then((function(){if(Gl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Cl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Jl,t.w(),e.a)),e})).then((function(){return Uc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Ql(t.ha);throw o})).then((function(){if(o)throw o})),Wl(t,r,i)}function Gl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Wl(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Ne(t.f)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new ul("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){$(t.G,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),Il(t),_(t.ic,t))),n||e}))}function Hl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Za]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new ml(e,n,t);return t.providerData&&G(t.providerData,(function(t){t&&Rl(r,ti(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Kl(t){this.a=t,this.b=ec()}tl.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=gt(e.f);return delete n[el],delete n[nl],mt(n,t),e.g(n)}))},T(rl,k),ol.prototype.rb=function(t,e,n){return e.type==uo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),mt(n,{phoneVerificationInfo:Fo(t.a)}),ru(e,Os,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Fo(t.a)}),ru(e,Rs,n)}))}(this,t,e)},T(al,ol),T(sl,al),T(ul,Xe),(t=cl.prototype).xc=function(t){ll(this,function(t){var e=[];return G(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new so(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return jl(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=W(e.b,(function(t){return t.uid!=n}));return ll(e,r),jl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},pl.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:dl(this)}},pl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new k("user-token-expired")):t||!this.b||I()>dl(this)-3e4?this.a?function(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?us(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.v.get()):r(new k("internal-error"))}))}(t.c,e).then((function(e){return t.b=Wi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},gl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(ml,In),ml.prototype.wa=function(t){this.pa=t,is(this.a,t)},ml.prototype.ka=function(){return this.pa},ml.prototype.Ga=function(){return Z(this.X)},ml.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Xr(ml.prototype,"providerId","firebase"),(t=ml.prototype).reload=function(){var t=this;return Wl(this,Pl(this).then((function(){return Fl(t).then((function(){return Cl(t)})).then(Nl)})))},t.nc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return Wl(this,Pl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new k("internal-error");return t.accessToken!=e.ya&&(kl(e,t.accessToken),e.dispatchEvent(new ul("tokenChanged"))),Ll(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new k("internal-error");Al(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new yl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Rl(this,e[n]);Ll(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{gd:t}))},t.Kc=function(t){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Wl(this,t.c(this.a,this.uid).then((function(t){return jl(e,t),n=Vl(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Wl(this,Ul(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Vl(e,t,"link"),ql(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Wl(this,Ul(this,"phone").then((function(){return Xc(Il(n),t,e,_(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Wl(this,Ae().then((function(){return Xc(Il(n),t,e,_(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return jl(e,t),e.reload()})))},t.dd=function(t){var e=this;return Wl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return jl(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return jl(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Pl(this);var e=this;return Wl(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return jl(e,t),Ll(e,"displayName",t.displayName||null),Ll(e,"photoURL",t.photoUrl||null),G(e.providerData,(function(t){"password"===t.providerId&&(Xr(t,"displayName",e.displayName),Xr(t,"photoURL",e.photoURL))})),Cl(e)})).then(Nl))},t.bd=function(t){var e=this;return Wl(this,Fl(this).then((function(n){return Q(Ol(e),t)?function(t,e,n){return ru(t,As,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return G(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),G(Ol(e),(function(t){n[t]||Dl(e,t)})),n[jo.PROVIDER_ID]||Xr(e,"phoneNumber",null),Cl(e)})):Cl(e).then((function(){throw new k("no-such-provider")}))})))},t.delete=function(){var t=this;return Wl(this,this.I().then((function(e){return ru(t.a,xs,{idToken:e})})).then((function(){t.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");bl(t,null),wl(t,null),El(t,null),t.G=[],t.A=!0,Sl(t),Xr(t,"refreshToken",null),t.i&&Dc(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?_(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?_(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Kb,this):null},t.Dc=function(t){var e=this;return zl(this,"linkViaPopup",t,(function(){return Ul(e,t.providerId).then((function(){return Cl(e)}))}),!1)},t.Mc=function(t){return zl(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},t.Ec=function(t){var e=this;return Bl(this,"linkViaRedirect",t,(function(){return Ul(e,t.providerId)}),!1)},t.Nc=function(t){return Bl(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,this.I().then((function(n){return _s(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Vl(i,t,"link"),ql(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,Ae().then((function(){return ho(Es(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Vl(i,t,"reauthenticate"),jl(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Wl(this,this.I().then((function(e){return n=e,void 0===t||vt(t)?{}:zi(new Oi(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Wl(this,this.I().then((function(t){return r=t,void 0===e||vt(e)?{}:zi(new Oi(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Wl(this,t=ho(Ae(t),n.uid).then((function(t){return e=Vl(n,t,"reauthenticate"),jl(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),G(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.N.w()),t};var Jl={name:"redirectUser",D:"session"};function Ql(t){return ic(t.b,Jl,t.a)}function $l(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=Zl("local"),n=Zl("session"),r=Zl("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.D);return t.get(e,n).then((function(o){var a=null;try{a=Vr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Xl,t.a).then((function(t){return t?Zl(t):e}))}))}))})).then((function(e){return t.c=e,Yl(t,e.D)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Zl("local"),this.a,_(this.g,this))}function Yl(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,Zl(Zu[n]),t.a));return r.push(ic(t.b,Xl,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Pe(t[s],E(o,s),a);else e(i)}))}(r)}$l.prototype.g=function(){var t=this,e=Zl("local");rh(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return Yl(t,"local").then((function(){t.c=e}))}))}))};var Xl={name:"persistence",D:"session"};function Zl(t){return{name:"authUser",D:t}}function th(t,e){return rh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function eh(t){return rh(t,(function(){return ic(t.b,t.c,t.a)}))}function nh(t,e,n){return rh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Hl(t||{})}))}))}function rh(t,e){return t.f=t.f.then(e,e),t.f}function ih(t){if(this.m=!1,Xr(this,"settings",new $c),Xr(this,"app",t),!fh(this).options||!fh(this).options.apiKey)throw new k("invalid-api-key");t=J.Z.SDK_VERSION?Nr(J.Z.SDK_VERSION):null,this.a=new Ya(fh(this).options&&fh(this).options.apiKey,O(x),t),this.R=[],this.u=[],this.P=[],this.ac=J.Z.INTERNAL.createSubscribe(_(this.yc,this)),this.X=void 0,this.bc=J.Z.INTERNAL.createSubscribe(_(this.zc,this)),lh(this,null),this.l=new $l(fh(this).options.apiKey+":"+fh(this).name),this.G=new Kl(fh(this).options.apiKey+":"+fh(this).name),this.$=gh(this,function(t){var e=fh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Jl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Hl(t||{})}))}(t.G,fh(t).options.authDomain).then((function(e){return(t.s=e)&&(e.ha=t.G),Ql(t.G)}));return gh(t,e)}(t).then((function(){return nh(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then((function(){return th(t.l,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:eh(t.l)}))):null})).then((function(e){lh(t,e||null)}));return gh(t,n)}(this)),this.i=gh(this,function(t){return t.$.then((function(){return ch(t)})).o((function(){})).then((function(){if(!t.m)return t.pa()})).o((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Zl("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=_(this.Yc,this),this.Ba=_(this.da,this),this.ya=_(this.kc,this),this.za=_(this.vc,this),this.Aa=_(this.wc,this),this.b=null,function(t){var e=fh(t).options.authDomain,n=fh(t).options.apiKey;e&&Dr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Bc(e,n,fh(t).name,t.f),Rc(t.b,t),ph(t)&&xl(ph(t)),t.s){xl(t.s);var r=t.s;r.wa(t.ka()),bl(r,t),_l(r=t.s,t.N),El(r,t),os((r=t.s).a,t.f),wl(r,t),t.s=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Fc,this),this.A=0,In.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function oh(t){Xe.call(this,"languageCodeChanged"),this.h=t}function ah(t){Xe.call(this,"emulatorConfigChanged"),this.c=t}function sh(t){Xe.call(this,"frameworkChanged"),this.f=t}function uh(t){return t.gb||Ne(new k("auth-domain-config-required"))}function ch(t){if(!Dr())return Ne(new k("operation-not-supported-in-this-environment"));var e=uh(t).then((function(){return t.b.qa()})).then((function(t){return t?ti(t):null}));return gh(t,e)}function lh(t,e){ph(t)&&(function(t,e){Y(t.R,(function(t){return t==e}))}(ph(t),t.Ba),dn(ph(t),"tokenChanged",t.ya),dn(ph(t),"userDeleted",t.za),dn(ph(t),"userInvalidated",t.Aa),Sl(ph(t))),e&&(e.R.push(t.Ba),hn(e,"tokenChanged",t.ya),hn(e,"userDeleted",t.za),hn(e,"userInvalidated",t.Aa),0<t.A&&Tl(e)),Xr(t,"currentUser",e),e&&(e.wa(t.ka()),bl(e,t),_l(e,t.N),El(e,t),os(e.a,t.f),wl(e,t))}function hh(t,e){var n=null,r=null;return gh(t,e.then((function(e){return n=Vo(e),r=Yi(e),function(t,e){var n={};return n.apiKey=fh(t).options.apiKey,n.authDomain=fh(t).options.authDomain,n.appName=fh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new ml(t,e);return n&&(i.ha=n),r&&_l(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return ph(t)&&e.uid==ph(t).uid?(Ml(ph(t),e),t.da(e)):(lh(t,e),xl(e),t.da(e))})).then((function(){vh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),t,_(t.jc,t))),n||e})).then((function(){return ti({user:ph(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function fh(t){return t.app}function ph(t){return t.currentUser}function dh(t){return ph(t)&&ph(t)._lat||null}function vh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](dh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](dh(t))}}function gh(t,e){return t.R.push(e),e.na((function(){$(t.R,e)})),e}function yh(){}function mh(){this.a={},this.b=1e12}$l.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ou()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),rh(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,Yl(n,t)})).then((function(){if(n.c=Zl(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},T(ih,In),T(oh,Xe),T(ah,Xe),T(sh,Xe),(t=ih.prototype).wb=function(t){return gh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,is(this.a,this.aa),this.dispatchEvent(new oh(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&wr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,os(this.a,this.f),this.dispatchEvent(new ah(this.f))}},t.Fc=function(t){this.N.push(t),ss(this.a,J.Z.SDK_VERSION?Nr(J.Z.SDK_VERSION,this.N):null),this.dispatchEvent(new sh(this.N))},t.Ga=function(){return Z(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:fh(this).options.apiKey,authDomain:fh(this).options.authDomain,appName:fh(this).name,currentUser:ph(this)&&ph(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?_(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return hh(i,ws(i.a,o))}))},t.Wc=function(t){if(!Dr())return Ne(new k("operation-not-supported-in-this-environment"));var e=this,n=$i(t.providerId),r=qr(),i=null;(!Fr()||Er())&&fh(this).options.authDomain&&t.isOAuthProvider&&(i=mu(fh(this).options.authDomain,fh(this).options.apiKey,fh(this).name,"signInViaPopup",t,null,r,J.Z.SDK_VERSION||null,null,null,this.S(),this.f));var o=yr(i,n&&n.ua,n&&n.ta);return gh(this,n=uh(this).then((function(n){return Fc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new Ee((function(t,n){e.ma("signInViaPopup",null,new k("cancelled-popup-request"),e.h),e.g=t,e.O=n,e.h=r,e.c=Vc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&gr(o),t?ti(t):null})).o((function(t){throw o&&gr(o),t})))},t.Xc=function(t){if(!Dr())return Ne(new k("operation-not-supported-in-this-environment"));var e=this;return gh(this,uh(this).then((function(){return function(t){return rh(t,(function(){return t.b.set(Xl,t.c.D,t.a)}))}(e.l)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return ch(this).then((function(e){return t.b&&Hc(t.b.b),e})).o((function(e){throw t.b&&Hc(t.b.b),e}))},t.cd=function(t){if(!t)return Ne(new k("null-user"));if(this.W!=t.tenantId)return Ne(new k("tenant-id-mismatch"));var e=this,n={};n.apiKey=fh(this).options.apiKey,n.authDomain=fh(this).options.authDomain,n.appName=fh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Za]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ml(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&_l(e,r),Ml(e,t),e}(t,n,e.G,e.Ga());return gh(this,this.i.then((function(){if(fh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ph(e)&&t.uid==ph(e).uid?(Ml(ph(e),t),e.da(t)):(lh(e,r),xl(r),e.da(r))})).then((function(){vh(e)})))},t.zb=function(){var t=this;return gh(this,this.i.then((function(){return t.b&&Hc(t.b.b),ph(t)?(lh(t,null),eh(t.l).then((function(){vh(t)}))):Ae()})))},t.Yc=function(){var t=this;return nh(this.l,fh(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=ph(t)&&e){n=ph(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ml(ph(t),e),ph(t).I();(ph(t)||e)&&(lh(t,e),e&&(xl(e),e.ha=t.G),t.b&&Rc(t.b,t),vh(t))}}))},t.da=function(t){return th(this.l,t)},t.kc=function(){vh(this),this.da(ph(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return hh(e,Ae(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ph(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),gh(t,t.i.then((function(){!t.m&&Q(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(dh(t)))})))}(this,(function(){t.next(ph(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ph(r)):"function"==typeof t.next&&t.next(ph(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(ph(r)):"function"==typeof t.next&&t.next(ph(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return gh(this,this.i.then((function(){return ph(e)?ph(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return hh(e,ru(e.a,Ys,{token:t}))})).then((function(t){var n=t.user;return Ll(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return hh(n,ru(n.a,Xs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return hh(n,ru(n.a,ks,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return hh(e,t.ja(e.a))}))},t.Rc=function(t){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=ph(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return hh(t,t.a.yb()).then((function(e){var n=e.user;return Ll(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ph(this)&&ph(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&ph(this)&&Tl(ph(this))},t.Oc=function(t){var e=this;G(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&ph(this)&&Sl(ph(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),gh(this,this.i.then((function(){e.m||Q(e.u,t)&&t(dh(e))})))},t.removeAuthTokenListener=function(t){Y(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Zl("local"),t.a,this.pa),this.b&&(Dc(this.b,this),Hc(this.b.b)),Promise.resolve()},t.gc=function(t){return gh(this,function(t,e){return ru(t,Cs,{identifier:e,continueUri:Lr()?fr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Do(t)},t.vb=function(t,e){var n=this;return gh(this,Ae().then((function(){var t=new Oi(e);if(!t.c)throw new k("argument-error",Li+" must be true when sending sign in link to email");return zi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return gh(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return gh(this,this.a.Qa(t).then((function(t){return new ci(t)})))},t.ib=function(t){return gh(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return gh(this,Ae().then((function(){return void 0===e||vt(e)?{}:zi(new Oi(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return gh(this,Xc(this,t,e,_(this.Za,this)))},t.Uc=function(t,e){var n=this;return gh(this,Ae().then((function(){var r=e||fr(),i=Ro(t,r);if(!(r=Do(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new k("tenant-id-mismatch");return n.Za(i)})))},yh.prototype.render=function(){},yh.prototype.reset=function(){},yh.prototype.getResponse=function(){},yh.prototype.execute=function(){};var bh=null;function wh(t,e){return(e=_h(e))&&t.a[e]||null}function _h(t){return(t=void 0===t?1e12:t)?t.toString():null}function Eh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Ih(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Th(){}function Sh(){}mh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Eh(t,e),this.b++},mh.prototype.reset=function(t){var e=wh(this,t);t=_h(t),e&&t&&(e.delete(),delete this.a[t])},mh.prototype.getResponse=function(t){return(t=wh(this,t))?t.getResponse():null},mh.prototype.execute=function(t){(t=wh(this,t))&&t.execute()},Eh.prototype.getResponse=function(){return Ih(this),this.b},Eh.prototype.execute=function(){Ih(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Eh.prototype.delete=function(){Ih(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Xr(Th,"FACTOR_ID","phone"),Sh.prototype.g=function(){return bh||(bh=new mh),Ae(bh)},Sh.prototype.c=function(){};var kh=null;function Ch(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xh=new wt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ah=new Gr(3e4,6e4);Ch.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Ah.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete s[e.a]},Ae(Ga(xt(xh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Ch.prototype.c=function(){this.b--};var Nh=null;function Ph(t,e,n,r,i,o,a){if(Xr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(kh||(kh=new Sh),a=kh):(Nh||(Nh=new Ch),a=Nh),this.v=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Dh])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Lh],!s.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ya(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Oh];this.a[Oh]=function(t){if(Mh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Or(c,s);"function"==typeof e&&e(t)}};var l=this.a[Rh];this.a[Rh]=function(){if(Mh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Or(l,s);"function"==typeof t&&t()}}}var Oh="callback",Rh="expired-callback",Dh="sitekey",Lh="size";function Mh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Fh(t,e){return t.h.push(e),e.na((function(){$(t.h,e)})),e}function jh(t){if(t.A)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Uh(t,e,n){var r=!1;try{this.b=n||J.Z.app()}catch(t){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=J.Z.SDK_VERSION?Nr(J.Z.SDK_VERSION,o):null,Ph.call(this,n,t,e,(function(){try{var t=i.b.auth().ka()}catch(e){t=null}return t}),o,O(x),r)}function Vh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=qh.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=qh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new k("argument-error",t+" failed: "+r)}(t=Ph.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Fh(this,Ae().then((function(){if(Lr()&&!Ir())return wr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Vs,{})})).then((function(e){t.a[Dh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){jh(this);var t=this;return Fh(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Wt(a.name),'"'),a.type){o.push(' type="',Wt(a.type),'"');var s={};mt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ge(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):he(o,a)),2<r.length&&ve(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){jh(this);var t=this;return Fh(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){jh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){jh(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Uh,Ph);var qh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function zh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Bh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Gh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Wh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Hh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Kh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Jh(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Qh(t){return v(t)&&"string"==typeof t.uid}function $h(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Yh(t,e){for(var n in e){var r=e[n].name;t[r]=tf(r,t[n],e[n].j)}}function Xh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Vh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function Zh(t,e,n,r){t[e]=tf(e,n,r)}function tf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Vh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Yh(ih.prototype,{ib:{name:"applyActionCode",j:[zh("code")]},Qa:{name:"checkActionCode",j:[zh("code")]},mb:{name:"confirmPasswordReset",j:[zh("code"),zh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[zh("email"),zh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[zh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[zh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[$h(Gh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[$h(Gh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[zh("email"),$h(Gh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[zh("email"),Gh("actionCodeSettings")]},wb:{name:"setPersistence",j:[zh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Kh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Kh()]},Sc:{name:"signInWithCustomToken",j:[zh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[zh("email"),zh("password")]},Uc:{name:"signInWithEmailLink",j:[zh("email"),zh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[$h({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ml)}},Hh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[zh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[zh("url"),Gh("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[zh("code")]}}),Xh(ih.prototype,{lc:{name:"languageCode",jb:$h(zh(),Hh(),"languageCode")},ti:{name:"tenantId",jb:$h(zh(),Hh(),"tenantId")}}),ih.Persistence=Zu,ih.Persistence.LOCAL="local",ih.Persistence.SESSION="session",ih.Persistence.NONE="none",Yh(ml.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Bh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Bh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Kh()]},pb:{name:"linkWithCredential",j:[Kh()]},Cc:{name:"linkWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Kh()]},sb:{name:"reauthenticateWithCredential",j:[Kh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[$h(Gh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[zh(null,!0)]},bd:{name:"unlink",j:[zh("provider")]},Ab:{name:"updateEmail",j:[zh("email")]},Bb:{name:"updatePassword",j:[zh("password")]},dd:{name:"updatePhoneNumber",j:[Kh("phone")]},Cb:{name:"updateProfile",j:[Gh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[zh("email"),$h(Gh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]}}),Yh(mh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(yh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(Ee.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Xh($c.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Bh("appVerificationDisabledForTesting")}}),Yh(Yc.prototype,{confirm:{name:"confirm",j:[zh("verificationCode")]}}),Zh(lo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,Po,Mo,vo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[$h(zh(),Gh(),"json")]),Zh(Oo,"credential",(function(t,e){return new No(t,e)}),[zh("email"),zh("password")]),Yh(No.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),Yh(Eo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Zh(Eo,"credential",Io,[$h(zh(),Gh(),"token")]),Zh(Oo,"credentialWithLink",Ro,[zh("email"),zh("emailLink")]),Yh(To.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Zh(To,"credential",So,[$h(zh(),Gh(),"token")]),Yh(ko.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Zh(ko,"credential",Co,[$h(zh(),$h(Gh(),Hh()),"idToken"),$h(zh(),Hh(),"accessToken",!0)]),Yh(xo.prototype,{Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Zh(xo,"credential",Ao,[$h(zh(),Gh(),"token"),zh("secret",!0)]),Yh(_o.prototype,{Ca:{name:"addScope",j:[zh("scope")]},credential:{name:"credential",j:[$h(zh(),$h(Gh(),Hh()),"optionsOrIdToken"),$h(zh(),Hh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Yh(go.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),Yh(fo.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),Zh(jo,"credential",Uo,[zh("verificationId"),zh("verificationCode")]),Yh(jo.prototype,{eb:{name:"verifyPhoneNumber",j:[$h(zh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Jh(t.session,uo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Jh(t.session,co)&&Qh(t.multiFactorHint):t.session&&t.multiFactorUid?Jh(t.session,co)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Yh(Lo.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),Yh(k.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),Yh(Jo.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),Yh(Ko.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),Yh(rl.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),Yh(tl.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Yh(cl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},zh("displayName",!0)]},ad:{name:"unenroll",j:[$h({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Qh},zh(),"multiFactorInfoIdentifier")]}}),Yh(Uh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Zh(Ii,"parseLink",Pi,[zh("link")]),Zh(Th,"assertion",(function(t){return new sl(t)}),[Kh("phone")]),function(){if(void 0===J.Z||!J.Z.INTERNAL||!J.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ih,AuthCredential:lo,Error:k};Zh(t,"EmailAuthProvider",Oo,[]),Zh(t,"FacebookAuthProvider",Eo,[]),Zh(t,"GithubAuthProvider",To,[]),Zh(t,"GoogleAuthProvider",ko,[]),Zh(t,"TwitterAuthProvider",xo,[]),Zh(t,"OAuthProvider",_o,[zh("providerId")]),Zh(t,"SAMLAuthProvider",wo,[zh("providerId")]),Zh(t,"PhoneAuthProvider",jo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof ih)}}]),Zh(t,"RecaptchaVerifier",Uh,[$h(zh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Gh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof J.Z.app.App)}}]),Zh(t,"ActionCodeURL",Ii,[]),Zh(t,"PhoneMultiFactorGenerator",Th,[]),J.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ih(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),J.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.mc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),J.Z.registerVersion("@firebase/auth","0.16.0"),J.Z.INTERNAL.extendNamespace({User:ml})}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),n(446);var Q=n(594),$=n(589),Y=function(t,e){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function X(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Z,tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},et=et||{},nt=tt||self;function rt(){}function it(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ot(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var at="closure_uid_"+(1e9*Math.random()>>>0),st=0;function ut(t,e,n){return t.call.apply(t.bind,arguments)}function ct(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function lt(t,e,n){return(lt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ut:ct).apply(null,arguments)}function ht(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ft(){return Date.now()}function pt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function dt(){this.j=this.j,this.i=this.i}dt.prototype.j=!1,dt.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,at)&&t[at]||(t[at]=++st)}(this)},dt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var vt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},gt=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function yt(t){return Array.prototype.concat.apply([],arguments)}function mt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function bt(t){return/^[\s\xa0]*$/.test(t)}var wt,_t=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Et(t,e){return-1!=t.indexOf(e)}function It(t,e){return t<e?-1:t>e?1:0}t:{var Tt=nt.navigator;if(Tt){var St=Tt.userAgent;if(St){wt=St;break t}}wt=""}function kt(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ct(t){var e={};for(var n in t)e[n]=t[n];return e}var xt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function At(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<xt.length;o++)n=xt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Nt(t){return Nt[" "](t),t}Nt[" "]=rt;var Pt,Ot,Rt=Et(wt,"Opera"),Dt=Et(wt,"Trident")||Et(wt,"MSIE"),Lt=Et(wt,"Edge"),Mt=Lt||Dt,Ft=Et(wt,"Gecko")&&!(Et(wt.toLowerCase(),"webkit")&&!Et(wt,"Edge"))&&!(Et(wt,"Trident")||Et(wt,"MSIE"))&&!Et(wt,"Edge"),jt=Et(wt.toLowerCase(),"webkit")&&!Et(wt,"Edge");function Ut(){var t=nt.document;return t?t.documentMode:void 0}t:{var Vt="",qt=(Ot=wt,Ft?/rv:([^\);]+)(\)|;)/.exec(Ot):Lt?/Edge\/([\d\.]+)/.exec(Ot):Dt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ot):jt?/WebKit\/(\S+)/.exec(Ot):Rt?/(?:Version)[ \/]?(\S+)/.exec(Ot):void 0);if(qt&&(Vt=qt?qt[1]:""),Dt){var zt=Ut();if(null!=zt&&zt>parseFloat(Vt)){Pt=String(zt);break t}}Pt=Vt}var Bt,Gt={};function Wt(t){return function(t,e){var n=Gt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=_t(String(Pt)).split("."),r=_t(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=It(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||It(0==a[2].length,0==s[2].length)||It(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}nt.document&&Dt?Bt=Ut()||parseInt(Pt,10)||void 0:Bt=void 0;var Ht=Bt,Kt=!Dt||9<=Number(Ht),Jt=Dt&&!Wt("9"),Qt=function(){if(!nt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{nt.addEventListener("test",rt,e),nt.removeEventListener("test",rt,e)}catch(t){}return t}();function $t(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Yt(t,e){if($t.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ft){t:{try{Nt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}$t.prototype.b=function(){this.defaultPrevented=!0},pt(Yt,$t);var Xt={2:"touch",3:"pen",4:"mouse"};Yt.prototype.b=function(){Yt.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Jt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Zt="closure_listenable_"+(1e6*Math.random()|0),te=0;function ee(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++te,this.Y=this.Z=!1}function ne(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function re(t){this.src=t,this.a={},this.b=0}function ie(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=vt(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ne(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function oe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}re.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=oe(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ee(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ae="closure_lm_"+(1e6*Math.random()|0),se={};function ue(t,e,n,r,i){if(r&&r.once)return le(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ue(t,e[o],n,r,i);return null}return n=me(n),t&&t[Zt]?t.va(e,n,ot(r)?!!r.capture:!!r,i):ce(t,e,n,!1,r,i)}function ce(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=ot(i)?!!i.capture:!!i;if(a&&!Kt)return null;var s=ge(t);if(s||(t[ae]=s=new re(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=ve,e=Kt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pe(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function le(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)le(t,e[o],n,r,i);return null}return n=me(n),t&&t[Zt]?t.wa(e,n,ot(r)?!!r.capture:!!r,i):ce(t,e,n,!0,r,i)}function he(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)he(t,e[o],n,r,i);else r=ot(r)?!!r.capture:!!r,n=me(n),t&&t[Zt]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=oe(o=t.a[e],n,r,i))&&(ne(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=ge(t))&&(e=t.a[e.toString()],t=-1,e&&(t=oe(e,n,r,i)),(n=-1<t?e[t]:null)&&fe(n))}function fe(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Zt])ie(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pe(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ge(e))?(ie(n,t),0==n.b&&(n.src=null,e[ae]=null)):ne(t)}}}function pe(t){return t in se?se[t]:se[t]="on"+t}function de(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&fe(t),n.call(r,e)}function ve(t,e){if(t.Y)return!0;if(!Kt){if(!e)t:{e=["window","event"];for(var n=nt,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return de(t,e=new Yt(e,this))}return de(t,new Yt(e,this))}function ge(t){return(t=t[ae])instanceof re?t:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(t){return"function"==typeof t?t:(t[ye]||(t[ye]=function(e){return t.handleEvent(e)}),t[ye])}function be(){dt.call(this),this.c=new re(this),this.J=this,this.C=null}function we(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new $t(e,t);else if(e instanceof $t)e.target=e.target||t;else{var i=e;At(e=new $t(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=_e(a,r,!0,e)&&i}if(i=_e(a=e.a=t,r,!0,e)&&i,i=_e(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=_e(a=e.a=n[o],r,!1,e)&&i}function _e(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&ie(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}pt(be,dt),be.prototype[Zt]=!0,(Z=be.prototype).addEventListener=function(t,e,n,r){ue(this,t,e,n,r)},Z.removeEventListener=function(t,e,n,r){he(this,t,e,n,r)},Z.G=function(){if(be.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ne(n[r]);delete e.a[t],e.b--}}this.C=null},Z.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Z.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ee=nt.JSON.stringify;function Ie(){this.b=this.a=null}var Te,Se=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Ce}),(function(t){t.reset()}));function ke(){var t=Pe,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ce(){this.next=this.b=this.a=null}function xe(t){nt.setTimeout((function(){throw t}),0)}function Ae(t,e){Te||function(){var t=nt.Promise.resolve(void 0);Te=function(){t.then(Oe)}}(),Ne||(Te(),Ne=!0),Pe.add(t,e)}Ie.prototype.add=function(t,e){var n=Se.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ce.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ce.prototype.reset=function(){this.next=this.b=this.a=null};var Ne=!1,Pe=new Ie;function Oe(){for(var t;t=ke();){try{t.a.call(t.b)}catch(t){xe(t)}var e=Se;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ne=!1}function Re(t,e){be.call(this),this.b=t||1,this.a=e||nt,this.f=lt(this.Za,this),this.g=ft()}function De(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Le(t,e,n){if("function"==typeof t)n&&(t=lt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=lt(t.handleEvent,t)}return 2147483647<Number(e)?-1:nt.setTimeout(t,e||0)}function Me(t){t.a=Le((function(){t.a=null,t.c&&(t.c=!1,Me(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}pt(Re,be),(Z=Re.prototype).aa=!1,Z.M=null,Z.Za=function(){if(this.aa){var t=ft()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),we(this,"tick"),this.aa&&(De(this),this.start()))}},Z.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ft())},Z.G=function(){Re.X.G.call(this),De(this),delete this.a};var Fe=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Me(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(nt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(dt);function je(t){dt.call(this),this.b=t,this.a={}}pt(je,dt);var Ue=[];function Ve(t,e,n,r){Array.isArray(n)||(n&&(Ue[0]=n.toString()),n=Ue);for(var i=0;i<n.length;i++){var o=ue(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function qe(t){kt(t.a,(function(t,e){this.a.hasOwnProperty(e)&&fe(t)}),t),t.a={}}function ze(){this.a=!0}function Be(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ee(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}je.prototype.G=function(){je.X.G.call(this),qe(this)},je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ze.prototype.info=function(){};var Ge={},We=null;function He(){return We=We||new be}function Ke(t){$t.call(this,Ge.Fa,t)}function Je(t){var e=He();we(e,new Ke(e,t))}function Qe(t,e){$t.call(this,Ge.STAT_EVENT,t),this.stat=e}function $e(t){var e=He();we(e,new Qe(e,t))}function Ye(t){$t.call(this,Ge.Ga,t)}function Xe(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return nt.setTimeout((function(){t()}),e)}Ge.Fa="serverreachability",pt(Ke,$t),Ge.STAT_EVENT="statevent",pt(Qe,$t),Ge.Ga="timingevent",pt(Ye,$t);var Ze={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},tn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function en(){}function nn(t){var e;return(e=t.a)||(e=t.a={}),e}function rn(){}en.prototype.a=null;var on,an={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function sn(){$t.call(this,"d")}function un(){$t.call(this,"c")}function cn(){}function ln(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new je(this),this.P=hn,t=Mt?125:void 0,this.R=new Re(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}pt(sn,$t),pt(un,$t),pt(cn,en),on=new cn;var hn=45e3,fn={},pn={};function dn(t,e,n){t.H=1,t.i=Mn(Nn(e)),t.j=n,t.I=!0,vn(t,null)}function vn(t,e){t.u=ft(),mn(t),t.l=Nn(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Qn(n.b,"t",r),t.D=0,t.a=Br(t.g,t.g.C?e:null),0<t.O&&(t.F=new Fe(lt(t.Ca,t,t.a),t.O)),Ve(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ct(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Je(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function gn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=yn(t,n);if(i==pn){4==e&&(t.h=4,$e(14),r=!1),Be(t.c,t.f,null,"[Incomplete Response]");break}if(i==fn){t.h=4,$e(15),Be(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Be(t.c,t.f,i,null),In(t,i)}4==e&&0==n.length&&(t.h=1,$e(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lr(e),e.F=!0,$e(11))):(Be(t.c,t.f,n,"[Invalid Chunked Response]"),En(t),_n(t))}function yn(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?pn:(n=Number(e.substring(n,r)),isNaN(n)?fn:(r+=1)+n>e.length?pn:(e=e.substr(r,n),t.D=r+n,e))}function mn(t){t.T=ft()+t.P,bn(t,t.P)}function bn(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Xe(lt(t.Va,t),e)}function wn(t){t.o&&(nt.clearTimeout(t.o),t.o=null)}function _n(t){0==t.g.v||t.A||jr(t.g,t)}function En(t){wn(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,De(t.R),qe(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function In(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nr(n.b,t)))if(n.I=t.N,!t.C&&nr(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Fr(n),kr(n)}Dr(n),$e(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Xe(lt(n.Sa,n),6e3));if(1>=er(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Vr(n,11)}else if((t.C||n.a==t)&&Fr(n),!bt(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Et(l,"spdy")||Et(l,"quic")||Et(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rr(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ln(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ft()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=zr(u,u.C?u.ga:null,u.fa),p.C){ir(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(wn(d),mn(d)),u.a=p}else Rr(u);0<n.g.length&&Ar(n)}else"stop"!=i[0]&&"close"!=i[0]||Vr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Vr(n,7):Sr(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Je(4)}catch(t){}}function Tn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(it(t)||"string"==typeof t)gt(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(it(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(it(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Cn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Cn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Z=ln.prototype).setTimeout=function(t){this.P=t},Z.Xa=function(t){t=t.target;var e=this.F;e&&3==_r(t)?e.f():this.Ca(t)},Z.Ca=function(t){try{if(t==this.a)t:{var e=_r(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Mt&&!this.a.$())){this.A||4!=e||7==n||Je(8==n||0>=r?3:2),wn(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bt(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,$e(12),En(this),_n(this);break t}Be(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,In(this,u)}this.I?(gn(this,e,o),Mt&&this.b&&3==e&&(Ve(this.J,this.R,"tick",this.Wa),this.R.start())):(Be(this.c,this.f,o,null),In(this,o)),4==e&&En(this),this.b&&!this.A&&(4==e?jr(this.g,this):(this.b=!1,mn(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,$e(12)):(this.h=0,$e(13)),En(this),_n(this)}}}catch(t){}},Z.Wa=function(){if(this.a){var t=_r(this.a),e=this.a.$();this.D<e.length&&(wn(this),gn(this,t,e),this.b&&4!=t&&mn(this))}},Z.cancel=function(){this.A=!0,En(this)},Z.Va=function(){this.o=null;var t=ft();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Je(3),$e(17)),En(this),this.h=2,_n(this)):bn(this,this.T-t)},(Z=Sn.prototype).K=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Z.L=function(){return kn(this),this.a.concat()},Z.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},Z.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Z.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function An(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof An){this.a=void 0!==e?e:t.a,Pn(this,t.f),this.j=t.j,On(this,t.c),Rn(this,t.h),this.g=t.g,e=t.b;var n=new Wn;n.c=e.c,e.a&&(n.a=new Sn(e.a),n.b=e.b),Dn(this,n),this.i=t.i}else t&&(n=String(t).match(xn))?(this.a=!!e,Pn(this,n[1]||"",!0),this.j=Fn(n[2]||""),On(this,n[3]||"",!0),Rn(this,n[4]),this.g=Fn(n[5]||"",!0),Dn(this,n[6]||"",!0),this.i=Fn(n[7]||"")):(this.a=!!e,this.b=new Wn(null,this.a))}function Nn(t){return new An(t)}function Pn(t,e,n){t.f=n?Fn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function On(t,e,n){t.c=n?Fn(e,!0):e}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Dn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(Hn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Kn(this,e),Qn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=jn(e,Bn)),t.b=new Wn(e,t.a))}function Ln(t,e,n){t.b.set(e,n)}function Mn(t){return Ln(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ft()).toString(36)),t}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}An.prototype.toString=function(){var t=[],e=this.f;e&&t.push(jn(e,Vn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(jn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?zn:qn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",jn(n,Gn)),t.join("")};var Vn=/[#\/\?@]/g,qn=/[#\?:]/g,zn=/[#\?]/g,Bn=/[#\?@]/g,Gn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Kn(t,e){Hn(t),e=$n(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function Jn(t,e){return Hn(t),e=$n(t,e),Cn(t.a.b,e)}function Qn(t,e,n){Kn(t,e),0<n.length&&(t.c=null,t.a.set($n(t,e),mt(n)),t.b+=n.length)}function $n(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Z=Wn.prototype).add=function(t,e){Hn(this),this.c=null,t=$n(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Z.forEach=function(t,e){Hn(this),this.a.forEach((function(n,r){gt(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Z.L=function(){Hn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Z.K=function(t){Hn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=yt(e,this.a.get($n(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=yt(e,t[n])}return e},Z.set=function(t,e){return Hn(this),this.c=null,Jn(this,t=$n(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Z.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Z.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Yn=function(t,e){this.b=t,this.a=e};function Xn(t){this.g=t||Zn,t=nt.PerformanceNavigationTiming?0<(t=nt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(nt.ia&&nt.ia.ya&&nt.ia.ya()&&nt.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Zn=10;function tr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function er(t){return t.b?1:t.a?t.a.size:0}function nr(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rr(t,e){t.a?t.a.add(e):t.b=e}function ir(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function or(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=X(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return mt(t.c)}function ar(){}function sr(){this.a=new ar}function ur(t,e,n){var r=n||"";try{Tn(t,(function(t,n){var i=t;ot(t)&&(i=Ee(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function cr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Xn.prototype.cancel=function(){var t,e;if(this.c=or(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=X(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ar.prototype.stringify=function(t){return nt.JSON.stringify(t,void 0)},ar.prototype.parse=function(t){return nt.JSON.parse(t,void 0)};var lr=nt.JSON.parse;function hr(t){be.call(this),this.headers=new Sn,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=fr,this.D=this.F=!1}pt(hr,be);var fr="",pr=/^https?$/i,dr=["POST","PUT"];function vr(t){return"content-type"==t.toLowerCase()}function gr(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,yr(t),br(t)}function yr(t){t.u||(t.u=!0,we(t,"complete"),we(t,"error"))}function mr(t){if(t.b&&void 0!==et&&(!t.s[1]||4!=_r(t)||2!=t.W()))if(t.l&&4==_r(t))Le(t.za,0,t);else if(we(t,"readystatechange"),4==_r(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(xn)[1]||null;if(!o&&nt.self&&nt.self.location){var a=nt.self.location.protocol;o=a.substr(0,a.length-1)}i=!pr.test(o?o.toLowerCase():"")}e=i}if(e)we(t,"complete"),we(t,"success");else{t.h=6;try{var s=2<_r(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",yr(t)}}finally{br(t)}}}function br(t,e){if(t.a){wr(t);var n=t.a,r=t.s[0]?rt:null;t.a=null,t.s=null,e||we(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function wr(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(nt.clearTimeout(t.m),t.m=null)}function _r(t){return t.a?t.a.readyState:0}function Er(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return kt(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ln(t,e,n))}function Ir(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Tr(t){this.pa=0,this.g=[],this.c=new ze,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ir("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ir("baseRetryDelayMs",5e3,t),this.Ra=Ir("retryDelaySeedMs",1e4,t),this.Ma=Ir("forwardChannelMaxRetries",2,t),this.ma=Ir("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Xn(t&&t.concurrentRequestLimit),this.ka=new sr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Sr(t){if(Cr(t),3==t.v){var e=t.R++,n=Nn(t.B);Ln(n,"SID",t.J),Ln(n,"RID",e),Ln(n,"TYPE","terminate"),Pr(t,n),(e=new ln(t,t.c,e,void 0)).H=2,e.i=Mn(Nn(n)),n=!1,nt.navigator&&nt.navigator.sendBeacon&&(n=nt.navigator.sendBeacon(e.i.toString(),"")),!n&&nt.Image&&((new Image).src=e.i,n=!0),n||(e.a=Br(e.g,null),e.a.ba(e.i)),e.u=ft(),mn(e)}qr(t)}function kr(t){t.a&&(Lr(t),t.a.cancel(),t.a=null)}function Cr(t){kr(t),t.j&&(nt.clearTimeout(t.j),t.j=null),Fr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&nt.clearTimeout(t.h),t.h=null)}function xr(t,e){t.g.push(new Yn(t.Oa++,e)),3==t.v&&Ar(t)}function Ar(t){tr(t.b)||t.h||(t.h=!0,Ae(t.Ba,t),t.u=0)}function Nr(t,e){var n;n=e?e.f:t.R++;var r=Nn(t.B);Ln(r,"SID",t.J),Ln(r,"RID",n),Ln(r,"AID",t.P),Pr(t,r),t.i&&t.l&&Er(r,t.i,t.l),n=new ln(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Or(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rr(t.b,n),dn(n,r,e)}function Pr(t,e){t.f&&Tn({},(function(t,n){Ln(e,n,t)}))}function Or(t,e,n){n=Math.min(t.g.length,n);var r=t.f?lt(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{ur(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rr(t){t.a||t.j||(t.T=1,Ae(t.Aa,t),t.o=0)}function Dr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Xe(lt(t.Aa,t),Ur(t,t.o)),t.o++,0))}function Lr(t){null!=t.s&&(nt.clearTimeout(t.s),t.s=null)}function Mr(t){t.a=new ln(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Nn(t.la);Ln(e,"RID","rpc"),Ln(e,"SID",t.J),Ln(e,"CI",t.H?"0":"1"),Ln(e,"AID",t.P),Pr(t,e),Ln(e,"TYPE","xmlhttp"),t.i&&t.l&&Er(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Mn(Nn(e)),n.j=null,n.I=!0,vn(n,t)}function Fr(t){null!=t.m&&(nt.clearTimeout(t.m),t.m=null)}function jr(t,e){var n=null;if(t.a==e){Fr(t),Lr(t),t.a=null;var r=2}else{if(!nr(t.b,e))return;n=e.s,ir(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ft()-e.u;var i=t.u;we(r=He(),new Ye(r,n,e,i)),Ar(t)}else Rr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(er(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Xe(lt(t.Ba,t,e),Ur(t,t.u)),t.u++,0)))}(t,e)||2==r&&Dr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Vr(t,5);break;case 4:Vr(t,10);break;case 3:Vr(t,6);break;default:Vr(t,2)}}function Ur(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Vr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=lt(t.Ya,t);n||(n=new An("//www.google.com/images/cleardot.gif"),nt.location&&"http"==nt.location.protocol||Pn(n,"https"),Mn(n)),function(t,e){var n=new ze;if(nt.Image){var r=new Image;r.onload=ht(cr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ht(cr,n,r,"TestLoadImage: error",!1,e),r.onabort=ht(cr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ht(cr,n,r,"TestLoadImage: timeout",!1,e),nt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else $e(2);t.v=0,t.f&&t.f.ra(e),qr(t),Cr(t)}function qr(t){t.v=0,t.I=-1,t.f&&(0==or(t.b).length&&0==t.g.length||(t.b.c.length=0,mt(t.g),t.g.length=0),t.f.qa())}function zr(t,e,n){var r=function(t){return t instanceof An?Nn(t):new An(t,void 0)}(n);if(""!=r.c)e&&On(r,e+"."+r.c),Rn(r,r.h);else{var i=nt.location;r=function(t,e,n,r){var i=new An(null,void 0);return t&&Pn(i,t),e&&On(i,e),n&&Rn(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&kt(t.V,(function(t,e){Ln(r,e,t)})),e=t.A,n=t.na,e&&n&&Ln(r,e,n),Ln(r,"VER",t.ha),Pr(t,r),r}function Br(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hr(t.Na)).F=t.C,e}function Gr(){}function Wr(){if(Dt&&!(10<=Number(Ht)))throw Error("Environmental error: no available transport.")}function Hr(t,e){be.call(this),this.a=new Tr(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!bt(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bt(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Qr(this)}function Kr(t){sn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Jr(){un.call(this),this.status=1}function Qr(t){this.a=t}(Z=hr.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?nn(this.H):nn(on),this.a.onreadystatechange=lt(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void gr(this,t)}t=n||"";var i=new Sn(this.headers);r&&Tn(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=vr,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=nt.FormData&&t instanceof nt.FormData,!(0<=vt(dr,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wr(this),0<this.o&&((this.D=function(t){return Dt&&Wt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=lt(this.xa,this)):this.m=Le(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){gr(this,t)}},Z.xa=function(){void 0!==et&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,we(this,"timeout"),this.abort(8))},Z.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,we(this,"complete"),we(this,"abort"),br(this))},Z.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),br(this,!0)),hr.X.G.call(this)},Z.za=function(){this.j||(this.A||this.l||this.g?mr(this):this.Ua())},Z.Ua=function(){mr(this)},Z.W=function(){try{return 2<_r(this)?this.a.status:-1}catch(t){return-1}},Z.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Z.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),lr(e)}},Z.ua=function(){return this.h},Z.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Z=Tr.prototype).ha=8,Z.v=1,Z.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ln(this,this.c,t,void 0),r=this.l;if(this.O&&(r?At(r=Ct(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Or(this,n,e),Ln(i=Nn(this.B),"RID",t),Ln(i,"CVER",22),this.A&&Ln(i,"X-HTTP-Session-Id",this.A),Pr(this,i),this.i&&r&&Er(i,this.i,r),rr(this.b,n),this.Ia&&Ln(i,"TYPE","init"),this.da?(Ln(i,"$req",e),Ln(i,"SID","null"),n.U=!0,dn(n,i,null)):dn(n,i,e),this.v=2}}else 3==this.v&&(t?Nr(this,t):0==this.g.length||tr(this.b)||Nr(this))},Z.Aa=function(){if(this.j=null,Mr(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Xe(lt(this.Ta,this),t)}},Z.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,$e(10),kr(this),Mr(this))},Z.Sa=function(){null!=this.m&&(this.m=null,kr(this),Dr(this),$e(19))},Z.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),$e(2)):(this.c.info("Failed to ping google.com"),$e(1))},(Z=Gr.prototype).ta=function(){},Z.sa=function(){},Z.ra=function(){},Z.qa=function(){},Z.Ja=function(){},Wr.prototype.a=function(t,e){return new Hr(t,e)},pt(Hr,be),Hr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;$e(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=zr(t,null,t.fa),Ar(t)},Hr.prototype.close=function(){Sr(this.a)},Hr.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,xr(this.a,e)}else this.l?((e={}).__data__=Ee(t),xr(this.a,e)):xr(this.a,t)},Hr.prototype.G=function(){this.a.f=null,delete this.f,Sr(this.a),delete this.a,Hr.X.G.call(this)},pt(Kr,sn),pt(Jr,un),pt(Qr,Gr),Qr.prototype.ta=function(){we(this.a,"a")},Qr.prototype.sa=function(t){we(this.a,new Kr(t))},Qr.prototype.ra=function(t){we(this.a,new Jr(t))},Qr.prototype.qa=function(){we(this.a,"b")},Wr.prototype.createWebChannel=Wr.prototype.a,Hr.prototype.send=Hr.prototype.h,Hr.prototype.open=Hr.prototype.g,Hr.prototype.close=Hr.prototype.close,Ze.NO_ERROR=0,Ze.TIMEOUT=8,Ze.HTTP_ERROR=6,tn.COMPLETE="complete",rn.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",be.prototype.listen=be.prototype.va,hr.prototype.listenOnce=hr.prototype.wa,hr.prototype.getLastError=hr.prototype.Qa,hr.prototype.getLastErrorCode=hr.prototype.ua,hr.prototype.getStatus=hr.prototype.W,hr.prototype.getResponseJson=hr.prototype.Pa,hr.prototype.getResponseText=hr.prototype.$,hr.prototype.send=hr.prototype.ba;var $r=Ze,Yr=tn,Xr=Ge,Zr=10,ti=11,ei=rn,ni=hr,ri=n(655),ii=new Q.Yd("@firebase/firestore");function oi(){return ii.logLevel}function ai(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ii.logLevel<=Q.in.DEBUG){var r=e.map(ci);ii.debug.apply(ii,(0,ri.pr)(["Firestore (8.2.0): "+t],r))}}function si(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ii.logLevel<=Q.in.ERROR){var r=e.map(ci);ii.error.apply(ii,(0,ri.pr)(["Firestore (8.2.0): "+t],r))}}function ui(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ii.logLevel<=Q.in.WARN){var r=e.map(ci);ii.warn.apply(ii,(0,ri.pr)(["Firestore (8.2.0): "+t],r))}}function ci(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function li(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.0) INTERNAL ASSERTION FAILED: "+t;throw si(e),new Error(e)}function hi(t,e){t||li()}function fi(t,e){return t}function pi(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var di=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=pi(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function vi(t,e){return t<e?-1:t>e?1:0}function gi(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function yi(t){return t+"\0"}var mi=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return vi(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();mi.h=new mi("");var bi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},wi=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,ri.ZT)(e,t),e}(Error),_i=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(mi.fromBase64String(e))}catch(e){throw new wi(bi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(mi.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Ei=function(t){this._=t};function Ii(){if("undefined"==typeof Uint8Array)throw new wi(bi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ti(){if("undefined"==typeof atob)throw new wi(bi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Si=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e.fromBase64String=function(t){return Ti(),new e(_i.fromBase64String(t))},e.fromUint8Array=function(t){return Ii(),new e(_i.fromUint8Array(t))},e.prototype.toBase64=function(){return Ti(),this._.toBase64()},e.prototype.toUint8Array=function(){return Ii(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ei),ki=function(){function t(t){this.uid=t}return t.prototype.T=function(){return null!=this.uid},t.prototype.I=function(){return this.T()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();ki.UNAUTHENTICATED=new ki(null),ki.m=new ki("google-credentials-uid"),ki.A=new ki("first-party-uid");var Ci=function(t,e){this.user=e,this.type="OAuth",this.R={},this.R.Authorization="Bearer "+t},xi=function(){function t(){this.P=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.g=function(){},t.prototype.V=function(t){this.P=t,t(ki.UNAUTHENTICATED)},t.prototype.p=function(){this.P=null},t}(),Ai=function(){function t(t){var e=this;this.v=null,this.currentUser=ki.UNAUTHENTICATED,this.S=!1,this.D=0,this.P=null,this.forceRefresh=!1,this.v=function(){e.D++,e.currentUser=e.C(),e.S=!0,e.P&&e.P(e.currentUser)},this.D=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.v):(this.v(null),t.get().then((function(t){e.auth=t,e.v&&e.auth.addAuthTokenListener(e.v)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.D,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.D!==e?(ai("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(hi("string"==typeof n.accessToken),new Ci(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.g=function(){this.forceRefresh=!0},t.prototype.V=function(t){this.P=t,this.S&&t(this.currentUser)},t.prototype.p=function(){this.auth&&this.auth.removeAuthTokenListener(this.v),this.v=null,this.P=null},t.prototype.C=function(){var t=this.auth&&this.auth.getUid();return hi(null===t||"string"==typeof t),new ki(t)},t}(),Ni=function(){function t(t,e){this.N=t,this.F=e,this.type="FirstParty",this.user=ki.A}return Object.defineProperty(t.prototype,"R",{get:function(){var t={"X-Goog-AuthUser":this.F},e=this.N.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Pi=function(){function t(t,e){this.N=t,this.F=e}return t.prototype.getToken=function(){return Promise.resolve(new Ni(this.N,this.F))},t.prototype.V=function(t){t(ki.A)},t.prototype.p=function(){},t.prototype.g=function(){},t}(),Oi=function(t,e,n,r,i,o){this.O=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.k=o},Ri=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"M",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Di=function(){function t(){}return t.prototype.L=function(t){},t.prototype.$=function(){},t}(),Li=function(){function t(){var t=this;this.B=function(){return t.q()},this.U=function(){return t.K()},this.W=[],this.j()}return t.prototype.L=function(t){this.W.push(t)},t.prototype.$=function(){window.removeEventListener("online",this.B),window.removeEventListener("offline",this.U)},t.prototype.j=function(){window.addEventListener("online",this.B),window.addEventListener("offline",this.U)},t.prototype.q=function(){ai("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.W;t<e.length;t++)(0,e[t])(0)},t.prototype.K=function(){ai("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.W;t<e.length;t++)(0,e[t])(1)},t.G=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}();function Mi(t){return null==t}function Fi(t){return 0===t&&1/t==-1/0}function ji(t){return"number"==typeof t&&Number.isInteger(t)&&!Fi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ui,Vi,qi={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};function zi(t){switch(t){case bi.OK:return li();case bi.CANCELLED:case bi.UNKNOWN:case bi.DEADLINE_EXCEEDED:case bi.RESOURCE_EXHAUSTED:case bi.INTERNAL:case bi.UNAVAILABLE:case bi.UNAUTHENTICATED:return!1;case bi.INVALID_ARGUMENT:case bi.NOT_FOUND:case bi.ALREADY_EXISTS:case bi.PERMISSION_DENIED:case bi.FAILED_PRECONDITION:case bi.ABORTED:case bi.OUT_OF_RANGE:case bi.UNIMPLEMENTED:case bi.DATA_LOSS:return!0;default:return li()}}function Bi(t){if(void 0===t)return si("GRPC error has no .code"),bi.UNKNOWN;switch(t){case Ui.OK:return bi.OK;case Ui.CANCELLED:return bi.CANCELLED;case Ui.UNKNOWN:return bi.UNKNOWN;case Ui.DEADLINE_EXCEEDED:return bi.DEADLINE_EXCEEDED;case Ui.RESOURCE_EXHAUSTED:return bi.RESOURCE_EXHAUSTED;case Ui.INTERNAL:return bi.INTERNAL;case Ui.UNAVAILABLE:return bi.UNAVAILABLE;case Ui.UNAUTHENTICATED:return bi.UNAUTHENTICATED;case Ui.INVALID_ARGUMENT:return bi.INVALID_ARGUMENT;case Ui.NOT_FOUND:return bi.NOT_FOUND;case Ui.ALREADY_EXISTS:return bi.ALREADY_EXISTS;case Ui.PERMISSION_DENIED:return bi.PERMISSION_DENIED;case Ui.FAILED_PRECONDITION:return bi.FAILED_PRECONDITION;case Ui.ABORTED:return bi.ABORTED;case Ui.OUT_OF_RANGE:return bi.OUT_OF_RANGE;case Ui.UNIMPLEMENTED:return bi.UNIMPLEMENTED;case Ui.DATA_LOSS:return bi.DATA_LOSS;default:return li()}}(Vi=Ui||(Ui={}))[Vi.OK=0]="OK",Vi[Vi.CANCELLED=1]="CANCELLED",Vi[Vi.UNKNOWN=2]="UNKNOWN",Vi[Vi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vi[Vi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vi[Vi.NOT_FOUND=5]="NOT_FOUND",Vi[Vi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vi[Vi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vi[Vi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vi[Vi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vi[Vi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vi[Vi.ABORTED=10]="ABORTED",Vi[Vi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vi[Vi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vi[Vi.INTERNAL=13]="INTERNAL",Vi[Vi.UNAVAILABLE=14]="UNAVAILABLE",Vi[Vi.DATA_LOSS=15]="DATA_LOSS";var Gi=function(){function t(t){this.H=t.H,this.J=t.J}return t.prototype.Y=function(t){this.X=t},t.prototype.Z=function(t){this.tt=t},t.prototype.onMessage=function(t){this.et=t},t.prototype.close=function(){this.J()},t.prototype.send=function(t){this.H(t)},t.prototype.nt=function(){this.X()},t.prototype.st=function(t){this.tt(t)},t.prototype.it=function(t){this.et(t)},t}(),Wi=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Hi=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.k=e.k,n}return(0,ri.ZT)(e,t),e.prototype.lt=function(t,e,n,r){return new Promise((function(i,o){var a=new ni;a.listenOnce(Yr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case $r.NO_ERROR:var e=a.getResponseJson();ai("Connection","XHR received:",JSON.stringify(e)),i(e);break;case $r.TIMEOUT:ai("Connection",'RPC "'+t+'" timed out'),o(new wi(bi.DEADLINE_EXCEEDED,"Request time out"));break;case $r.HTTP_ERROR:var n=a.getStatus();if(ai("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(bi).indexOf(e)>=0?e:bi.UNKNOWN}(r.status);o(new wi(s,r.message))}else o(new wi(bi.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new wi(bi.UNAVAILABLE,"Connection failed."));break;default:li()}}finally{ai("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.ft=function(t,e){var n=[this.ot,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Wr,i=He(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.O.projectId+"/databases/"+this.O.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.k};this.ht(o.initMessageHeaders,e),(0,$.uI)()||(0,$.b$)()||(0,$.d)()||(0,$.w1)()||(0,$.Mn)()||(0,$.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");ai("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Gi({H:function(t){c?ai("Connection","Not sending because WebChannel is closed:",t):(u||(ai("Connection","Opening WebChannel transport."),s.open(),u=!0),ai("Connection","WebChannel sending:",t),s.send(t))},J:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,ei.EventType.OPEN,(function(){c||ai("Connection","WebChannel transport opened.")})),h(s,ei.EventType.CLOSE,(function(){c||(c=!0,ai("Connection","WebChannel transport closed"),l.st())})),h(s,ei.EventType.ERROR,(function(t){c||(c=!0,ui("Connection","WebChannel transport errored:",t),l.st(new wi(bi.UNAVAILABLE,"The operation could not be completed")))})),h(s,ei.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];hi(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){ai("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Ui[t];if(void 0!==e)return Bi(e)}(o),u=i.message;void 0===a&&(a=bi.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.st(new wi(a,u)),s.close()}else ai("Connection","WebChannel received:",n),l.it(n)}})),h(i,Xr.STAT_EVENT,(function(t){t.stat===Zr?ai("Connection","Detected buffering proxy"):t.stat===ti&&ai("Connection","Detected no buffering proxy")})),setTimeout((function(){l.nt()}),0),l},e}(function(){function t(t){this.rt=t,this.O=t.O;var e=t.ssl?"https":"http";this.ot=e+"://"+t.host,this.ct="projects/"+this.O.projectId+"/databases/"+this.O.database+"/documents"}return t.prototype.at=function(t,e,n,r){var i=this.ut(t,e);ai("RestConnection","Sending: ",i,n);var o={};return this.ht(o,r),this.lt(t,i,o,n).then((function(t){return ai("RestConnection","Received: ",t),t}),(function(e){throw ui("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype._t=function(t,e,n,r){return this.at(t,e,n,r)},t.prototype.ht=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.0",t["Content-Type"]="text/plain",e)for(var n in e.R)e.R.hasOwnProperty(n)&&(t[n]=e.R[n])},t.prototype.ut=function(t,e){var n=qi[t];return this.ot+"/v1/"+e+":"+n},t}()),Ki=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new wi(bi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new wi(bi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new wi(bi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wi(bi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.dt=function(t){return this.seconds===t.seconds?vi(this.nanoseconds,t.nanoseconds):vi(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ji=function(){function t(t){this.timestamp=t}return t.wt=function(e){return new t(e)},t.min=function(){return new t(new Ki(0,0))},t.prototype.u=function(t){return this.timestamp.dt(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.Et=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Tt=function(){return this.timestamp},t}(),Qi=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&li(),void 0===n?n=t.length-e:n>t.length-e&&li(),this.segments=t,this.offset=e,this.It=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.It},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.At(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Rt(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Pt=function(t){return t=void 0===t?1:t,this.Rt(this.segments,this.offset+t,this.length-t)},t.prototype.yt=function(){return this.Rt(this.segments,this.offset,this.length-1)},t.prototype.gt=function(){return this.segments[this.offset]},t.prototype.Vt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.bt=function(){return 0===this.length},t.prototype.vt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.St=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.Dt=function(){return this.segments.slice(this.offset,this.limit())},t.At=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),$i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e.prototype.Rt=function(t,n,r){return new e(t,n,r)},e.prototype.Ct=function(){return this.Dt().join("/")},e.prototype.toString=function(){return this.Ct()},e.xt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new wi(bi.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.Nt=function(){return new e([])},e}(Qi),Yi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e.prototype.Rt=function(t,n,r){return new e(t,n,r)},e.Ft=function(t){return Yi.test(t)},e.prototype.Ct=function(){return this.Dt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Ft(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.Ct()},e.prototype.Ot=function(){return 1===this.length&&"__name__"===this.get(0)},e.kt=function(){return new e(["__name__"])},e.Mt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new wi(bi.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new wi(bi.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new wi(bi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new wi(bi.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.Nt=function(){return new e([])},e}(Qi),Zi=function(){function t(t){this.path=t}return t.Lt=function(e){return new t($i.xt(e))},t.$t=function(e){return new t($i.xt(e).Pt(5))},t.prototype.Bt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===$i.At(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.At=function(t,e){return $i.At(t.path,e.path)},t.qt=function(t){return t.length%2==0},t.Ut=function(e){return new t(new $i(e.slice()))},t}();function to(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function no(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ro=function(){function t(t){this.fields=t,t.sort(Xi.At)}return t.prototype.Qt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].vt(t))return!0;return!1},t.prototype.isEqual=function(t){return gi(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),io=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(hi(!!t),"string"==typeof t){var e=0,n=io.exec(t);if(hi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ao(t.seconds),nanos:ao(t.nanos)}}function ao(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function so(t){return"string"==typeof t?mi.fromBase64String(t):mi.fromUint8Array(t)}function uo(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function co(t){var e=t.mapValue.fields.__previous_value__;return uo(e)?co(e):e}function lo(t){var e=oo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ki(e.seconds,e.nanos)}function ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uo(t)?4:10:li()}function fo(t,e){var n=ho(t);if(n!==ho(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lo(t).isEqual(lo(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=oo(t.timestampValue),r=oo(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return so(t.bytesValue).isEqual(so(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ao(t.geoPointValue.latitude)===ao(e.geoPointValue.latitude)&&ao(t.geoPointValue.longitude)===ao(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ao(t.integerValue)===ao(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ao(t.doubleValue),r=ao(e.doubleValue);return n===r?Fi(n)===Fi(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return gi(t.arrayValue.values||[],e.arrayValue.values||[],fo);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(to(n)!==to(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fo(n[i],r[i])))return!1;return!0}(t,e);default:return li()}}function po(t,e){return void 0!==(t.values||[]).find((function(t){return fo(t,e)}))}function vo(t,e){var n=ho(t),r=ho(e);if(n!==r)return vi(n,r);switch(n){case 0:return 0;case 1:return vi(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ao(t.integerValue||t.doubleValue),r=ao(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return go(t.timestampValue,e.timestampValue);case 4:return go(lo(t),lo(e));case 5:return vi(t.stringValue,e.stringValue);case 6:return function(t,e){var n=so(t),r=so(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=vi(n[i],r[i]);if(0!==o)return o}return vi(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=vi(ao(t.latitude),ao(e.latitude));return 0!==n?n:vi(ao(t.longitude),ao(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=vo(n[i],r[i]);if(o)return o}return vi(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=vi(r[a],o[a]);if(0!==s)return s;var u=vo(n[r[a]],i[o[a]]);if(0!==u)return u}return vi(r.length,o.length)}(t.mapValue,e.mapValue);default:throw li()}}function go(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return vi(t,e);var n=oo(t),r=oo(e),i=vi(n.seconds,r.seconds);return 0!==i?i:vi(n.nanos,r.nanos)}function yo(t){return mo(t)}function mo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=oo(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?so(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Zi.$t(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=mo(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+mo(t.fields[o])}return e+"}"}(t.mapValue):li();var e,n}function bo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.Ct()}}function wo(t){return!!t&&"integerValue"in t}function _o(t){return!!t&&"arrayValue"in t}function Eo(t){return!!t&&"nullValue"in t}function Io(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function To(t){return!!t&&"mapValue"in t}var So=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.bt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!To(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.Vt()])||null},t.prototype.isEqual=function(t){return fo(this.proto,t.proto)},t}(),ko=function(){function t(t){void 0===t&&(t=So.empty()),this.Kt=t,this.Wt=new Map}return t.prototype.set=function(t,e){return this.jt(t,e),this},t.prototype.delete=function(t){return this.jt(t,null),this},t.prototype.jt=function(t,e){for(var n=this.Wt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ho(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.Vt(),e)},t.prototype.Gt=function(){var t=this.zt(Xi.Nt(),this.Wt);return null!=t?new So(t):this.Kt},t.prototype.zt=function(t,e){var n=this,r=!1,i=this.Kt.field(t),o=To(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.zt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Co(t){var e=[];return eo(t.fields||{},(function(t,n){var r=new Xi([t]);if(To(n)){var i=Co(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new ro(e)}var xo=function(t,e){this.key=t,this.version=e},Ao=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Ht=r,o.Jt=!!i.Jt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return(0,ri.ZT)(e,t),e.prototype.field=function(t){return this.Ht.field(t)},e.prototype.data=function(){return this.Ht},e.prototype.Yt=function(){return this.Ht.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Jt===t.Jt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ht.isEqual(t.Ht)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ht.toString()+", {hasLocalMutations: "+this.Jt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Jt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(xo),No=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return(0,ri.ZT)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xo),Po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xo),Oo=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Xt=null};function Ro(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Oo(t,e,n,r,i,o,a)}function Do(t){var e=fi(t);if(null===e.Xt){var n=e.path.Ct();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.Ct()+t.op.toString()+yo(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.Ct()+t.dir}(t)})).join(","),Mi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ko(e.startAt)),e.endAt&&(n+="|ub:",n+=Ko(e.endAt)),e.Xt=n}return e.Xt}function Lo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Qo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!fo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yo(t.startAt,e.startAt)&&Yo(t.endAt,e.endAt)}function Mo(t){return Zi.qt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Fo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,ri.ZT)(e,t),e.create=function(t,n,r){return t.Ot()?"in"===n||"not-in"===n?this.Zt(t,n,r):new jo(t,n,r):"array-contains"===n?new zo(t,r):"in"===n?new Bo(t,r):"not-in"===n?new Go(t,r):"array-contains-any"===n?new Wo(t,r):new e(t,n,r)},e.Zt=function(t,e,n){return"in"===e?new Uo(t,n):new Vo(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.te(vo(e,this.value)):null!==e&&ho(this.value)===ho(e)&&this.te(vo(e,this.value))},e.prototype.te=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return li()}},e.prototype.ee=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),jo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Zi.$t(r.referenceValue),i}return(0,ri.ZT)(e,t),e.prototype.matches=function(t){var e=Zi.At(t.key,this.key);return this.te(e)},e}(Fo),Uo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=qo(0,n),r}return(0,ri.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Fo),Vo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=qo(0,n),r}return(0,ri.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Fo);function qo(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Zi.$t(t.referenceValue)}))}var zo=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,ri.ZT)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return _o(e)&&po(e.arrayValue,this.value)},e}(Fo),Bo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,ri.ZT)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&po(this.value.arrayValue,e)},e}(Fo),Go=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,ri.ZT)(e,t),e.prototype.matches=function(t){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!po(this.value.arrayValue,e)},e}(Fo),Wo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,ri.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!_o(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return po(e.value.arrayValue,t)}))},e}(Fo),Ho=function(t,e){this.position=t,this.before=e};function Ko(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return yo(t)})).join(",")}var Jo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Qo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function $o(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.Ot()?Zi.At(Zi.$t(a.referenceValue),n.key):vo(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Yo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!fo(t.position[n],e.position[n]))return!1;return!0}var Xo=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.ne=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.se=null,this.ie=null,this.startAt,this.endAt};function Zo(t,e,n,r,i,o,a,s){return new Xo(t,e,n,r,i,o,a,s)}function ta(t){return new Xo(t)}function ea(t){return!Mi(t.limit)&&"F"===t.limitType}function na(t){return!Mi(t.limit)&&"L"===t.limitType}function ra(t){return t.ne.length>0?t.ne[0].field:null}function ia(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.ee())return r.field}return null}function oa(t){return null!==t.collectionGroup}function aa(t){var e=fi(t);if(null===e.se){e.se=[];var n=ia(e),r=ra(e);if(null!==n&&null===r)n.Ot()||e.se.push(new Jo(n)),e.se.push(new Jo(Xi.kt(),"asc"));else{for(var i=!1,o=0,a=e.ne;o<a.length;o++){var s=a[o];e.se.push(s),s.field.Ot()&&(i=!0)}if(!i){var u=e.ne.length>0?e.ne[e.ne.length-1].dir:"asc";e.se.push(new Jo(Xi.kt(),u))}}}return e.se}function sa(t){var e=fi(t);if(!e.ie)if("F"===e.limitType)e.ie=Ro(e.path,e.collectionGroup,aa(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=aa(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Jo(o.field,a))}var s=e.endAt?new Ho(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Ho(e.startAt.position,!e.startAt.before):null;e.ie=Ro(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.ie}function ua(t,e,n){return new Xo(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ca(t,e){return Lo(sa(t),sa(e))&&t.limitType===e.limitType}function la(t){return Do(sa(t))+"|lt:"+t.limitType}function ha(t){return"Query(target="+function(t){var e=t.path.Ct();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.Ct()+" "+e.op+" "+yo(e.value);var e})).join(", ")+"]"),Mi(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.Ct()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ko(t.startAt)),t.endAt&&(e+=", endAt: "+Ko(t.endAt)),"Target("+e+")"}(sa(t))+"; limitType="+t.limitType+")"}function fa(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.Bt(t.collectionGroup)&&t.path.vt(n):Zi.qt(t.path)?t.path.isEqual(n):t.path.St(n)}(t,e)&&function(t,e){for(var n=0,r=t.ne;n<r.length;n++){var i=r[n];if(!i.field.Ot()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!$o(t.startAt,aa(t),e)||t.endAt&&$o(t.endAt,aa(t),e))}(t,e)}function pa(t){return function(e,n){for(var r=!1,i=0,o=aa(t);i<o.length;i++){var a=o[i],s=da(a,e,n);if(0!==s)return s;r=r||a.field.Ot()}return 0}}function da(t,e,n){var r=t.field.Ot()?Zi.At(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?vo(r,i):li()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return li()}}var va=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Ji.min()),void 0===o&&(o=Ji.min()),void 0===a&&(a=mi.h),this.target=t,this.targetId=e,this.re=n,this.sequenceNumber=r,this.oe=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.ce=function(e){return new t(this.target,this.targetId,this.re,e,this.oe,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ae=function(e,n){return new t(this.target,this.targetId,this.re,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ue=function(e){return new t(this.target,this.targetId,this.re,this.sequenceNumber,this.oe,e,this.resumeToken)},t}();function ga(t,e){if(t.he){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fi(e)?"-0":e}}function ya(t){return{integerValue:""+t}}function ma(t,e){return ji(e)?ya(e):ga(t,e)}var ba=function(){this.le=void 0};function wa(t,e,n){return t instanceof Ia?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ta?Sa(t,e):t instanceof ka?Ca(t,e):function(t,e){var n=Ea(t,e),r=Aa(n)+Aa(t._e);return wo(n)&&wo(t._e)?ya(r):ga(t.fe,r)}(t,e)}function _a(t,e,n){return t instanceof Ta?Sa(t,e):t instanceof ka?Ca(t,e):n}function Ea(t,e){return t instanceof xa?wo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ia=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e}(ba),Ta=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,ri.ZT)(e,t),e}(ba);function Sa(t,e){for(var n=Na(e),r=function(t){n.some((function(e){return fo(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ka=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,ri.ZT)(e,t),e}(ba);function Ca(t,e){for(var n=Na(e),r=function(t){n=n.filter((function(e){return!fo(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).fe=e,r._e=n,r}return(0,ri.ZT)(e,t),e}(ba);function Aa(t){return ao(t.integerValue||t.doubleValue)}function Na(t){return _o(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Pa=function(t,e){this.field=t,this.transform=e},Oa=function(t,e){this.version=t,this.transformResults=e},Ra=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.de=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"we",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Da(t,e){return void 0!==t.updateTime?e instanceof Ao&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ao}var La=function(){};function Ma(t,e,n){return t instanceof qa?function(t,e,n){var r=t.value;if(n.transformResults){var i=Ga(t.fieldTransforms,e,n.transformResults);r=Ha(t.fieldTransforms,r,i)}return new Ao(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof za?function(t,e,n){if(!Da(t.Ee,e))return new Po(t.key,n.version);var r=Ba(t,e,n.transformResults?Ga(t.fieldTransforms,e,n.transformResults):[]);return new Ao(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new No(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Fa(t,e,n,r){return t instanceof qa?function(t,e,n,r){if(!Da(t.Ee,e))return e;var i=t.value;if(t.fieldTransforms){var o=Wa(t.fieldTransforms,n,e,r);i=Ha(t.fieldTransforms,i,o)}var a=Va(e);return new Ao(t.key,a,i,{Jt:!0})}(t,e,r,n):t instanceof za?function(t,e,n,r){if(!Da(t.Ee,e))return e;var i=Va(e),o=Ba(t,e,Wa(t.fieldTransforms,n,e,r));return new Ao(t.key,i,o,{Jt:!0})}(t,e,r,n):function(t,e){return Da(t.Ee,e)?new No(t.key,Ji.min()):e}(t,e)}function ja(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof Ao?e.field(o.field):void 0,s=Ea(o.transform,a||null);null!=s&&(n=null==n?(new ko).set(o.field,s):n.set(o.field,s))}return n?n.Gt():null}(t.fieldTransforms,e):null}function Ua(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ee.isEqual(e.Ee)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&gi(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ta&&e instanceof Ta||t instanceof ka&&e instanceof ka?gi(t.elements,e.elements,fo):t instanceof xa&&e instanceof xa?fo(t._e,e._e):t instanceof Ia&&e instanceof Ia}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Te.isEqual(e.Te))}function Va(t){return t instanceof Ao?t.version:Ji.min()}var qa=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Ee=r,o.fieldTransforms=i,o.type=0,o}return(0,ri.ZT)(e,t),e}(La),za=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.Te=r,a.Ee=i,a.fieldTransforms=o,a.type=1,a}return(0,ri.ZT)(e,t),e}(La);function Ba(t,e,n){var r;return r=function(t,e){var n=new ko(e);return t.Te.fields.forEach((function(e){if(!e.bt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Gt()}(t,r=e instanceof Ao?e.data():So.empty()),Ha(t.fieldTransforms,r,n)}function Ga(t,e,n){var r=[];hi(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Ao&&(s=e.field(o.field)),r.push(_a(a,s,n[i]))}return r}function Wa(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Ao&&(c=n.field(s.field)),null===c&&r instanceof Ao&&(c=r.field(s.field)),i.push(wa(u,c,e))}return i}function Ha(t,e,n){for(var r=new ko(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.Gt()}var Ka=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ee=n,r.type=2,r.fieldTransforms=[],r}return(0,ri.ZT)(e,t),e}(La),Ja=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ee=n,r.type=3,r.fieldTransforms=[],r}return(0,ri.ZT)(e,t),e}(La),Qa=function(t){this.count=t},$a=function(){function t(t,e){this.At=t,this.root=e||Xa.EMPTY}return t.prototype.Ie=function(e,n){return new t(this.At,this.root.Ie(e,n,this.At).copy(null,null,Xa.me,null,null))},t.prototype.remove=function(e){return new t(this.At,this.root.remove(e,this.At).copy(null,null,Xa.me,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.bt();){var n=this.At(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.bt();){var r=this.At(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.bt=function(){return this.root.bt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Ae=function(){return this.root.Ae()},t.prototype.Re=function(){return this.root.Re()},t.prototype.Pe=function(t){return this.root.Pe(t)},t.prototype.forEach=function(t){this.Pe((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pe((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.ge=function(){return new Ya(this.root,null,this.At,!1)},t.prototype.Ve=function(t){return new Ya(this.root,t,this.At,!1)},t.prototype.pe=function(){return new Ya(this.root,null,this.At,!0)},t.prototype.be=function(t){return new Ya(this.root,t,this.At,!0)},t}(),Ya=function(){function t(t,e,n,r){this.ve=r,this.Se=[];for(var i=1;!t.bt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ve?t.left:t.right;else{if(0===i){this.Se.push(t);break}this.Se.push(t),t=this.ve?t.right:t.left}}return t.prototype.De=function(){var t=this.Se.pop(),e={key:t.key,value:t.value};if(this.ve)for(t=t.left;!t.bt();)this.Se.push(t),t=t.right;else for(t=t.right;!t.bt();)this.Se.push(t),t=t.left;return e},t.prototype.Ce=function(){return this.Se.length>0},t.prototype.xe=function(){if(0===this.Se.length)return null;var t=this.Se[this.Se.length-1];return{key:t.key,value:t.value}},t}(),Xa=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.bt=function(){return!1},t.prototype.Pe=function(t){return this.left.Pe(t)||t(this.key,this.value)||this.right.Pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.bt()?this:this.left.min()},t.prototype.Ae=function(){return this.min().key},t.prototype.Re=function(){return this.right.bt()?this.key:this.right.Re()},t.prototype.Ie=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ie(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ie(t,e,n))).Ne()},t.prototype.Fe=function(){if(this.left.bt())return t.EMPTY;var e=this;return e.left.Oe()||e.left.left.Oe()||(e=e.ke()),(e=e.copy(null,null,null,e.left.Fe(),null)).Ne()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.bt()||i.left.Oe()||i.left.left.Oe()||(i=i.ke()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Oe()&&(i=i.Me()),i.right.bt()||i.right.Oe()||i.right.left.Oe()||(i=i.Le()),0===n(e,i.key)){if(i.right.bt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Fe())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ne()},t.prototype.Oe=function(){return this.color},t.prototype.Ne=function(){var t=this;return t.right.Oe()&&!t.left.Oe()&&(t=t.$e()),t.left.Oe()&&t.left.left.Oe()&&(t=t.Me()),t.left.Oe()&&t.right.Oe()&&(t=t.Be()),t},t.prototype.ke=function(){var t=this.Be();return t.right.left.Oe()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Me())).$e()).Be()),t},t.prototype.Le=function(){var t=this.Be();return t.left.left.Oe()&&(t=(t=t.Me()).Be()),t},t.prototype.$e=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Me=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Be=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.qe=function(){var t=this.Ue();return Math.pow(2,t)<=this.size+1},t.prototype.Ue=function(){if(this.Oe()&&this.left.Oe())throw li();if(this.right.Oe())throw li();var t=this.left.Ue();if(t!==this.right.Ue())throw li();return t+(this.Oe()?0:1)},t}();Xa.EMPTY=null,Xa.RED=!0,Xa.me=!1,Xa.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw li()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw li()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw li()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw li()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw li()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ie=function(t,e,n){return new Xa(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.bt=function(){return!0},t.prototype.Pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ae=function(){return null},t.prototype.Re=function(){return null},t.prototype.Oe=function(){return!1},t.prototype.qe=function(){return!0},t.prototype.Ue=function(){return 0},t}());var Za=function(){function t(t){this.At=t,this.data=new $a(this.At)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ae()},t.prototype.last=function(){return this.data.Re()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pe((function(e,n){return t(e),!1}))},t.prototype.Qe=function(t,e){for(var n=this.data.Ve(t[0]);n.Ce();){var r=n.De();if(this.At(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ke=function(t,e){var n;for(n=void 0!==e?this.data.Ve(e):this.data.ge();n.Ce();)if(!t(n.De().key))return},t.prototype.We=function(t){var e=this.data.Ve(t);return e.Ce()?e.De().key:null},t.prototype.ge=function(){return new ts(this.data.ge())},t.prototype.Ve=function(t){return new ts(this.data.Ve(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ie(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.bt=function(){return this.data.bt()},t.prototype.je=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ge(),r=e.data.ge();n.Ce();){var i=n.De().key,o=r.De().key;if(0!==this.At(i,o))return!1}return!0},t.prototype.Dt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.At);return n.data=e,n},t}(),ts=function(){function t(t){this.Ge=t}return t.prototype.De=function(){return this.Ge.De().key},t.prototype.Ce=function(){return this.Ge.Ce()},t}(),es=new $a(Zi.At);function ns(){return es}function rs(){return ns()}var is=new $a(Zi.At);function os(){return is}var as=new $a(Zi.At);function ss(){return as}var us=new Za(Zi.At);function cs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=us,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ls=new Za(vi);function hs(){return ls}var fs=function(){function t(t){this.At=t?function(e,n){return t(e,n)||Zi.At(e.key,n.key)}:function(t,e){return Zi.At(t.key,e.key)},this.ze=os(),this.He=new $a(this.At)}return t.Je=function(e){return new t(e.At)},t.prototype.has=function(t){return null!=this.ze.get(t)},t.prototype.get=function(t){return this.ze.get(t)},t.prototype.first=function(){return this.He.Ae()},t.prototype.last=function(){return this.He.Re()},t.prototype.bt=function(){return this.He.bt()},t.prototype.indexOf=function(t){var e=this.ze.get(t);return e?this.He.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.He.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.He.Pe((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ze.Ie(t.key,t),e.He.Ie(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ze.remove(t),this.He.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.He.ge(),r=e.He.ge();n.Ce();){var i=n.De().key,o=r.De().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.At=this.At,r.ze=e,r.He=n,r},t}(),ps=function(){function t(){this.Ye=new $a(Zi.At)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Ye.get(e);n?0!==t.type&&3===n.type?this.Ye=this.Ye.Ie(e,t):3===t.type&&1!==n.type?this.Ye=this.Ye.Ie(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Ye=this.Ye.Ie(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Ye=this.Ye.Ie(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Ye=this.Ye.remove(e):1===t.type&&2===n.type?this.Ye=this.Ye.Ie(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Ye=this.Ye.Ie(e,{type:2,doc:t.doc}):li():this.Ye=this.Ye.Ie(e,t)},t.prototype.Xe=function(){var t=[];return this.Ye.Pe((function(e,n){t.push(n)})),t},t}(),ds=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Ze=n,this.docChanges=r,this.tn=i,this.fromCache=o,this.en=a,this.nn=s}return t.sn=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,fs.Je(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.tn.bt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.en===t.en&&this.tn.isEqual(t.tn)&&ca(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ze.isEqual(t.Ze)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vs=function(){function t(t,e,n,r,i){this.oe=t,this.rn=e,this.on=n,this.cn=r,this.an=i}return t.un=function(e,n){var r=new Map;return r.set(e,gs.hn(e,n)),new t(Ji.min(),r,hs(),ns(),cs())},t}(),gs=function(){function t(t,e,n,r,i){this.resumeToken=t,this.ln=e,this._n=n,this.fn=r,this.dn=i}return t.hn=function(e,n){return new t(mi.h,n,cs(),cs(),cs())},t}(),ys=function(t,e,n,r){this.wn=t,this.removedTargetIds=e,this.key=n,this.En=r},ms=function(t,e){this.targetId=t,this.Tn=e},bs=function(t,e,n,r){void 0===n&&(n=mi.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ws=function(){function t(){this.In=0,this.mn=Is(),this.An=mi.h,this.Rn=!1,this.Pn=!0}return Object.defineProperty(t.prototype,"ln",{get:function(){return this.Rn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.An},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yn",{get:function(){return 0!==this.In},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gn",{get:function(){return this.Pn},enumerable:!1,configurable:!0}),t.prototype.Vn=function(t){t.o()>0&&(this.Pn=!0,this.An=t)},t.prototype.pn=function(){var t=cs(),e=cs(),n=cs();return this.mn.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:li()}})),new gs(this.An,this.Rn,t,e,n)},t.prototype.bn=function(){this.Pn=!1,this.mn=Is()},t.prototype.vn=function(t,e){this.Pn=!0,this.mn=this.mn.Ie(t,e)},t.prototype.Sn=function(t){this.Pn=!0,this.mn=this.mn.remove(t)},t.prototype.Dn=function(){this.In+=1},t.prototype.Cn=function(){this.In-=1},t.prototype.xn=function(){this.Pn=!0,this.Rn=!0},t}(),_s=function(){function t(t){this.Nn=t,this.Fn=new Map,this.On=ns(),this.kn=Es(),this.Mn=new Za(vi)}return t.prototype.Ln=function(t){for(var e=0,n=t.wn;e<n.length;e++){var r=n[e];t.En instanceof Ao?this.$n(r,t.En):t.En instanceof No&&this.Bn(r,t.key,t.En)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Bn(r,t.key,t.En)},t.prototype.qn=function(t){var e=this;this.Un(t,(function(n){var r=e.Qn(n);switch(t.state){case 0:e.Kn(n)&&r.Vn(t.resumeToken);break;case 1:r.Cn(),r.yn||r.bn(),r.Vn(t.resumeToken);break;case 2:r.Cn(),r.yn||e.removeTarget(n);break;case 3:e.Kn(n)&&(r.xn(),r.Vn(t.resumeToken));break;case 4:e.Kn(n)&&(e.Wn(n),r.Vn(t.resumeToken));break;default:li()}}))},t.prototype.Un=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fn.forEach((function(t,r){n.Kn(r)&&e(r)}))},t.prototype.jn=function(t){var e=t.targetId,n=t.Tn.count,r=this.Gn(e);if(r){var i=r.target;if(Mo(i))if(0===n){var o=new Zi(i.path);this.Bn(e,o,new No(o,Ji.min()))}else hi(1===n);else this.zn(e)!==n&&(this.Wn(e),this.Mn=this.Mn.add(e))}},t.prototype.Hn=function(t){var e=this,n=new Map;this.Fn.forEach((function(r,i){var o=e.Gn(i);if(o){if(r.ln&&Mo(o.target)){var a=new Zi(o.target.path);null!==e.On.get(a)||e.Jn(i,a)||e.Bn(i,a,new No(a,t))}r.gn&&(n.set(i,r.pn()),r.bn())}}));var r=cs();this.kn.forEach((function(t,n){var i=!0;n.Ke((function(t){var n=e.Gn(t);return!n||2===n.re||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new vs(t,n,this.Mn,this.On,r);return this.On=ns(),this.kn=Es(),this.Mn=new Za(vi),i},t.prototype.$n=function(t,e){if(this.Kn(t)){var n=this.Jn(t,e.key)?2:0;this.Qn(t).vn(e.key,n),this.On=this.On.Ie(e.key,e),this.kn=this.kn.Ie(e.key,this.Yn(e.key).add(t))}},t.prototype.Bn=function(t,e,n){if(this.Kn(t)){var r=this.Qn(t);this.Jn(t,e)?r.vn(e,1):r.Sn(e),this.kn=this.kn.Ie(e,this.Yn(e).delete(t)),n&&(this.On=this.On.Ie(e,n))}},t.prototype.removeTarget=function(t){this.Fn.delete(t)},t.prototype.zn=function(t){var e=this.Qn(t).pn();return this.Nn.Xn(t).size+e._n.size-e.dn.size},t.prototype.Dn=function(t){this.Qn(t).Dn()},t.prototype.Qn=function(t){var e=this.Fn.get(t);return e||(e=new ws,this.Fn.set(t,e)),e},t.prototype.Yn=function(t){var e=this.kn.get(t);return e||(e=new Za(vi),this.kn=this.kn.Ie(t,e)),e},t.prototype.Kn=function(t){var e=null!==this.Gn(t);return e||ai("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Gn=function(t){var e=this.Fn.get(t);return e&&e.yn?null:this.Nn.Zn(t)},t.prototype.Wn=function(t){var e=this;this.Fn.set(t,new ws),this.Nn.Xn(t).forEach((function(n){e.Bn(t,n,null)}))},t.prototype.Jn=function(t,e){return this.Nn.Xn(t).has(e)},t}();function Es(){return new $a(Zi.At)}function Is(){return new $a(Zi.At)}var Ts={asc:"ASCENDING",desc:"DESCENDING"},Ss={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ks=function(t,e){this.O=t,this.he=e};function Cs(t,e){return t.he?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function xs(t,e){return t.he?e.toBase64():e.toUint8Array()}function As(t,e){return Cs(t,e.Tt())}function Ns(t){return hi(!!t),Ji.wt(function(t){var e=oo(t);return new Ki(e.seconds,e.nanos)}(t))}function Ps(t,e){return function(t){return new $i(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).Ct()}function Os(t){var e=$i.xt(t);return hi(nu(e)),e}function Rs(t,e){return Ps(t.O,e.path)}function Ds(t,e){var n=Os(e);if(n.get(1)!==t.O.projectId)throw new wi(bi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.O.projectId);if(n.get(3)!==t.O.database)throw new wi(bi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.O.database);return new Zi(js(n))}function Ls(t,e){return Ps(t.O,e)}function Ms(t){var e=Os(t);return 4===e.length?$i.Nt():js(e)}function Fs(t){return new $i(["projects",t.O.projectId,"databases",t.O.database]).Ct()}function js(t){return hi(t.length>4&&"documents"===t.get(4)),t.Pt(5)}function Us(t,e,n){return{name:Rs(t,e),fields:n.proto.mapValue.fields}}function Vs(t,e,n){var r=Ds(t,e.name),i=Ns(e.updateTime),o=new So({mapValue:{fields:e.fields}});return new Ao(r,i,o,{hasCommittedMutations:!!n})}function qs(t,e){var n;if(e instanceof qa)n={update:Us(t,e.key,e.value)};else if(e instanceof Ka)n={delete:Rs(t,e.key)};else if(e instanceof za)n={update:Us(t,e.key,e.data),updateMask:eu(e.Te)};else{if(!(e instanceof Ja))return li();n={verify:Rs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ia)return{fieldPath:e.field.Ct(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ta)return{fieldPath:e.field.Ct(),appendMissingElements:{values:n.elements}};if(n instanceof ka)return{fieldPath:e.field.Ct(),removeAllFromArray:{values:n.elements}};if(n instanceof xa)return{fieldPath:e.field.Ct(),increment:n._e};throw li()}(0,t)}))),e.Ee.we||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:As(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:li()}(t,e.Ee)),n}function zs(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ra.updateTime(Ns(t.updateTime)):void 0!==t.exists?Ra.exists(t.exists):Ra.de()}(e.currentDocument):Ra.de(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)hi("REQUEST_TIME"===e.setToServerValue),n=new Ia;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Ta(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new ka(i)}else"increment"in e?n=new xa(t,e.increment):li();var o=Xi.Mt(e.fieldPath);return new Pa(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Ds(t,e.update.name),o=new So({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new ro(e.map((function(t){return Xi.Mt(t)})))}(e.updateMask);return new za(i,o,a,n,r)}return new qa(i,o,n,r)}if(e.delete){var s=Ds(t,e.delete);return new Ka(s,n)}if(e.verify){var u=Ds(t,e.verify);return new Ja(u,n)}return li()}function Bs(t,e){return{documents:[Ls(t,e.path)]}}function Gs(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ls(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ls(t,r.yt()),n.structuredQuery.from=[{collectionId:r.Vt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Io(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NAN"}};if(Eo(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Io(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NAN"}};if(Eo(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(t.field),op:$s(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Ys(t.field),direction:Qs(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.he||Mi(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Ks(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ks(e.endAt)),n}function Ws(t){var e=Ms(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Hs(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Jo(Xs(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Mi(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Js(n.startAt));var l=null;return n.endAt&&(l=Js(n.endAt)),Zo(e,i,s,a,u,"F",c,l)}function Hs(t){return t?void 0!==t.unaryFilter?[tu(t)]:void 0!==t.fieldFilter?[Zs(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Hs(t)})).reduce((function(t,e){return t.concat(e)})):li():[]}function Ks(t){return{before:t.before,values:t.position}}function Js(t){var e=!!t.before,n=t.values||[];return new Ho(n,e)}function Qs(t){return Ts[t]}function $s(t){return Ss[t]}function Ys(t){return{fieldPath:t.Ct()}}function Xs(t){return Xi.Mt(t.fieldPath)}function Zs(t){return Fo.create(Xs(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return li()}}(t.fieldFilter.op),t.fieldFilter.value)}function tu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Xs(t.unaryFilter.field);return Fo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Xs(t.unaryFilter.field);return Fo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xs(t.unaryFilter.field);return Fo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xs(t.unaryFilter.field);return Fo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return li()}}function eu(t){var e=[];return t.fields.forEach((function(t){return e.push(t.Ct())})),{fieldPaths:e}}function nu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ru(t){return new ks(t,!0)}var iu=function(){function t(t){var e=this;this.ts=null,this.es=null,this.result=void 0,this.error=void 0,this.ns=!1,this.ss=!1,t((function(t){e.ns=!0,e.result=t,e.ts&&e.ts(t)}),(function(t){e.ns=!0,e.error=t,e.es&&e.es(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.ss&&li(),this.ss=!0,this.ns?this.error?this.rs(n,this.error):this.os(e,this.result):new t((function(t,i){r.ts=function(n){r.os(e,n).next(t,i)},r.es=function(e){r.rs(n,e).next(t,i)}}))},t.prototype.cs=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.us=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.os=function(e,n){return e?this.us((function(){return e(n)})):t.resolve(n)},t.prototype.rs=function(e,n){return e?this.us((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.hs=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.ls=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.hs(r)},t}(),ou=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this._s=new Wi,this.transaction.oncomplete=function(){n._s.resolve()},this.transaction.onabort=function(){e.error?n._s.reject(new uu(t,e.error)):n._s.resolve()},this.transaction.onerror=function(e){var r=pu(e.target.error);n._s.reject(new uu(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new uu(n,e)}},Object.defineProperty(t.prototype,"fs",{get:function(){return this._s.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this._s.reject(t),this.aborted||(ai("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new lu(e)},t}(),au=function(){function t(e,n,r){this.name=e,this.version=n,this.ds=r,12.2===t.ws((0,$.z$)())&&si("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ai("SimpleDb","Removing database:",t),hu(window.indexedDB.deleteDatabase(t)).cs()},t.G=function(){if("undefined"==typeof indexedDB)return!1;if(t.Es())return!0;var e=(0,$.z$)(),n=t.ws(e),r=0<n&&n<10,i=t.Ts(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Es=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Is)},t.As=function(t,e){return t.store(e)},t.ws=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Ts=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Rs=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ai("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new uu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new wi(bi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new uu(t,n))},i.onupgradeneeded=function(t){ai("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.ds.Ps(e,i.transaction,t.oldVersion,n.version).next((function(){ai("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.ys&&(this.db.onversionchange=function(t){return n.ys(t)}),this.db)]}}))}))},t.prototype.gs=function(t){this.ys=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,ri.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,ri.Jh)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return(0,ri.Jh)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Rs(t)];case 2:return s.db=h.sent(),e=ou.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),iu.reject(t)})).cs(),u={},a.catch((function(){})),[4,e.fs];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,ai("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),su=function(){function t(t){this.Vs=t,this.ps=!1,this.bs=null}return Object.defineProperty(t.prototype,"ns",{get:function(){return this.ps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vs",{get:function(){return this.bs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Vs=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ps=!0},t.prototype.Ss=function(t){this.bs=t},t.prototype.delete=function(){return hu(this.Vs.delete())},t}(),uu=function(t){function e(e,n){var r=this;return(r=t.call(this,bi.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,ri.ZT)(e,t),e}(wi);function cu(t){return"IndexedDbTransactionError"===t.name}var lu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ai("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ai("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),hu(n)},t.prototype.add=function(t){return ai("SimpleDb","ADD",this.store.name,t,t),hu(this.store.add(t))},t.prototype.get=function(t){var e=this;return hu(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ai("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ai("SimpleDb","DELETE",this.store.name,t),hu(this.store.delete(t))},t.prototype.count=function(){return ai("SimpleDb","COUNT",this.store.name),hu(this.store.count())},t.prototype.Ds=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.xs=function(t,e){ai("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ns=!1;var r=this.cursor(n);return this.Cs(r,(function(t,e,n){return n.delete()}))},t.prototype.Fs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Cs(r,e)},t.prototype.Os=function(t){var e=this.cursor({});return new iu((function(n,r){e.onerror=function(t){var e=pu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Cs=function(t,e){var n=[];return new iu((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new su(i),a=e(i.primaryKey,i.value,o);if(a instanceof iu){var s=a.catch((function(t){return o.done(),iu.reject(t)}));n.push(s)}o.ns?r():null===o.vs?i.continue():i.continue(o.vs)}else r()}})).next((function(){return iu.hs(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ns?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function hu(t){return new iu((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=pu(t.target.error);n(e)}}))}var fu=!1;function pu(t){var e=au.ws((0,$.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new wi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return fu||(fu=!0,setTimeout((function(){throw r}),0)),r}}return t}var du=function(){function t(t,e,n,r,i){this.ks=t,this.Ms=e,this.Ls=n,this.op=r,this.$s=i,this.Bs=new Wi,this.then=this.Bs.promise.then.bind(this.Bs.promise),this.Bs.promise.catch((function(t){}))}return t.qs=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.Us=setTimeout((function(){return e.Qs()}),t)},t.prototype.Ks=function(){return this.Qs()},t.prototype.cancel=function(t){null!==this.Us&&(this.clearTimeout(),this.Bs.reject(new wi(bi.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Qs=function(){var t=this;this.ks.Ws((function(){return null!==t.Us?(t.clearTimeout(),t.op().then((function(e){return t.Bs.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Us&&(this.$s(this),clearTimeout(this.Us),this.Us=null)},t}();function vu(t,e){if(si("AsyncQueue",e+": "+t),cu(t))return new wi(bi.UNAVAILABLE,e+": "+t);throw t}var gu=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.js=t,this.Ms=e,this.Gs=n,this.zs=r,this.Hs=i,this.Js=0,this.Ys=null,this.Xs=Date.now(),this.reset()}return t.prototype.reset=function(){this.Js=0},t.prototype.Zs=function(){this.Js=this.Hs},t.prototype.ti=function(t){var e=this;this.cancel();var n=Math.floor(this.Js+this.ei()),r=Math.max(0,Date.now()-this.Xs),i=Math.max(0,n-r);i>0&&ai("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Js+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ys=this.js.ni(this.Ms,i,(function(){return e.Xs=Date.now(),t()})),this.Js*=this.zs,this.Js<this.Gs&&(this.Js=this.Gs),this.Js>this.Hs&&(this.Js=this.Hs)},t.prototype.si=function(){null!==this.Ys&&(this.Ys.Ks(),this.Ys=null)},t.prototype.cancel=function(){null!==this.Ys&&(this.Ys.cancel(),this.Ys=null)},t.prototype.ei=function(){return(Math.random()-.5)*this.Js},t}(),yu=function(){function t(t,e,n,r,i,o){this.js=t,this.ii=n,this.ri=r,this.oi=i,this.listener=o,this.state=0,this.ci=0,this.ai=null,this.stream=null,this.ui=new gu(t,e)}return t.prototype.hi=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.li=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this._i()},t.prototype.stop=function(){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){switch(t.label){case 0:return this.hi()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.fi=function(){this.state=0,this.ui.reset()},t.prototype.di=function(){var t=this;this.li()&&null===this.ai&&(this.ai=this.js.ni(this.ii,6e4,(function(){return t.wi()})))},t.prototype.Ei=function(t){this.Ti(),this.stream.send(t)},t.prototype.wi=function(){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){return this.li()?[2,this.close(0)]:[2]}))}))},t.prototype.Ti=function(){this.ai&&(this.ai.cancel(),this.ai=null)},t.prototype.close=function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return this.Ti(),this.ui.cancel(),this.ci++,3!==t?this.ui.reset():e&&e.code===bi.RESOURCE_EXHAUSTED?(si(e.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.ui.Zs()):e&&e.code===bi.UNAUTHENTICATED&&this.oi.g(),null!==this.stream&&(this.Ii(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Z(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Ii=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.mi(this.ci),n=this.ci;this.oi.getToken().then((function(e){t.ci===n&&t.Ai(e)}),(function(n){e((function(){var e=new wi(bi.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ri(e)}))}))},t.prototype.Ai=function(t){var e=this,n=this.mi(this.ci);this.stream=this.Pi(t),this.stream.Y((function(){n((function(){return e.state=2,e.listener.Y()}))})),this.stream.Z((function(t){n((function(){return e.Ri(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype._i=function(){var t=this;this.state=4,this.ui.ti((function(){return(0,ri.mG)(t,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Ri=function(t){return ai("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.mi=function(t){var e=this;return function(n){e.js.Ws((function(){return e.ci===t?n():(ai("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),mu=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).fe=i,a}return(0,ri.ZT)(e,t),e.prototype.Pi=function(t){return this.ri.ft("Listen",t)},e.prototype.onMessage=function(t){this.ui.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:li()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.he?(hi(void 0===e||"string"==typeof e),mi.fromBase64String(e||"")):(hi(void 0===e||e instanceof Uint8Array),mi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?bi.UNKNOWN:Bi(t.code);return new wi(e,t.message||"")}(s);n=new bs(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Ds(t,r.document.name),o=Ns(r.document.updateTime);var s=new So({mapValue:{fields:r.document.fields}}),u=(a=new Ao(i,o,s,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new ys(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Ds(t,r.document),o=r.readTime?Ns(r.readTime):Ji.min(),s=new No(i,o),a=r.removedTargetIds||[],n=new ys([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Ds(t,r.document),o=r.removedTargetIds||[],n=new ys([],o,i,null);else{if(!("filter"in e))return li();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new Qa(r),o=l.targetId,n=new ms(o,i)}return n}(this.fe,t),n=function(t){if(!("targetChange"in t))return Ji.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ji.min():e.readTime?Ns(e.readTime):Ji.min()}(t);return this.listener.yi(e,n)},e.prototype.gi=function(t){var e={};e.database=Fs(this.fe),e.addTarget=function(t,e){var n,r=e.target;return(n=Mo(r)?{documents:Bs(t,r)}:{query:Gs(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=xs(t,e.resumeToken):e.oe.u(Ji.min())>0&&(n.readTime=Cs(t,e.oe.Tt())),n}(this.fe,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return li()}}(0,e.re);return null==n?null:{"goog-listen-tags":n}}(this.fe,t);n&&(e.labels=n),this.Ei(e)},e.prototype.Vi=function(t){var e={};e.database=Fs(this.fe),e.removeTarget=t,this.Ei(e)},e}(yu),bu=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).fe=i,a.pi=!1,a}return(0,ri.ZT)(e,t),Object.defineProperty(e.prototype,"bi",{get:function(){return this.pi},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.pi=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Ii=function(){this.pi&&this.vi([])},e.prototype.Pi=function(t){return this.ri.ft("Write",t)},e.prototype.onMessage=function(t){if(hi(!!t.streamToken),this.lastStreamToken=t.streamToken,this.pi){this.ui.reset();var e=function(t,e){return t&&t.length>0?(hi(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Ns(t.updateTime):Ns(e);n.isEqual(Ji.min())&&(n=Ns(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Oa(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ns(t.commitTime);return this.listener.Si(n,e)}return hi(!t.writeResults||0===t.writeResults.length),this.pi=!0,this.listener.Di()},e.prototype.Ci=function(){var t={};t.database=Fs(this.fe),this.Ei(t)},e.prototype.vi=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return qs(e.fe,t)}))};this.Ei(n)},e}(yu),wu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ri=n,i.fe=r,i.xi=!1,i}return(0,ri.ZT)(e,t),e.prototype.Ni=function(){if(this.xi)throw new wi(bi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.at=function(t,e,n){var r=this;return this.Ni(),this.credentials.getToken().then((function(i){return r.ri.at(t,e,n,i)})).catch((function(t){throw t.code===bi.UNAUTHENTICATED&&r.credentials.g(),t}))},e.prototype._t=function(t,e,n){var r=this;return this.Ni(),this.credentials.getToken().then((function(i){return r.ri._t(t,e,n,i)})).catch((function(t){throw t.code===bi.UNAUTHENTICATED&&r.credentials.g(),t}))},e.prototype.terminate=function(){this.xi=!1},e}((function(){})),_u="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Eu=function(){function t(){this.Fi=[]}return t.prototype.Oi=function(t){this.Fi.push(t)},t.prototype.ki=function(){this.Fi.forEach((function(t){return t()}))},t}(),Iu={Mi:!1,Li:0,$i:0,Bi:0},Tu=function(){function t(t,e,n){this.qi=t,this.Ui=e,this.Qi=n}return t.Ki=function(e){return new t(e,t.Wi,t.ji)},t}();Tu.Wi=10,Tu.ji=1e3,Tu.Gi=new Tu(41943040,Tu.Wi,Tu.ji),Tu.zi=new Tu(-1,0,0);var Su=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Hi=function(t){return n.Ji(t)},this.Yi=function(t){return e.Xi(t)})}return t.prototype.Ji=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Yi&&this.Yi(t),t},t}();function ku(t){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){if(t.code!==bi.FAILED_PRECONDITION||t.message!==_u)throw t;return ai("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}Su.Zi=-1;var Cu=function(t,e){this.progress=t,this.tr=e},xu=function(){function t(t,e,n,r){this.batchId=t,this.er=e,this.baseMutations=n,this.mutations=r}return t.prototype.nr=function(t,e,n){for(var r=n.sr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ma(o,e,r[i]))}return e},t.prototype.ir=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Fa(i,e,e,this.er))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=Fa(u,e,o,this.er))}return e},t.prototype.rr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ir(r.key,t.get(r.key));i&&(n=n.Ie(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),cs())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&gi(this.mutations,t.mutations,(function(t,e){return Ua(t,e)}))&&gi(this.baseMutations,t.baseMutations,(function(t,e){return Ua(t,e)}))},t}(),Au=function(){function t(t,e,n,r){this.batch=t,this.cr=e,this.sr=n,this.ar=r}return t.from=function(e,n,r){hi(e.mutations.length===r.length);for(var i=ss(),o=e.mutations,a=0;a<o.length;a++)i=i.Ie(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Nu=function(){function t(t,e){this.ur=t,this.hr=e,this.lr={}}return t.prototype.get=function(t){var e=this.ur(t),n=this.lr[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.hr(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ur(t),r=this.lr[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.hr(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.lr[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ur(t),n=this.lr[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.hr(n[r][0],t))return 1===n.length?delete this.lr[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){eo(this.lr,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.bt=function(){return no(this.lr)},t}(),Pu=function(){function t(){this._r=new Nu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.dr=!1}return t.prototype.wr=function(t){var e=this._r.get(t);return e?e.readTime:Ji.min()},t.prototype.Er=function(t,e){this.Tr(),this._r.set(t.key,{Ir:t,readTime:e})},t.prototype.mr=function(t,e){void 0===e&&(e=null),this.Tr(),this._r.set(t,{Ir:null,readTime:e})},t.prototype.Ar=function(t,e){this.Tr();var n=this._r.get(e);return void 0!==n?iu.resolve(n.Ir):this.Rr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Tr(),this.dr=!0,this.yr(t)},t.prototype.Tr=function(){},t}();function Ou(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=vi(n,i);return 0===a?vi(r,o):a}var Ru=function(){function t(t){this.gr=t,this.buffer=new Za(Ou),this.Vr=0}return t.prototype.pr=function(){return++this.Vr},t.prototype.br=function(t){var e=[t,this.pr()];if(this.buffer.size<this.gr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ou(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Du=function(){function t(t,e){this.vr=t,this.ks=e,this.Sr=!1,this.Dr=null}return t.prototype.start=function(t){-1!==this.vr.params.qi&&this.Cr(t)},t.prototype.stop=function(){this.Dr&&(this.Dr.cancel(),this.Dr=null)},Object.defineProperty(t.prototype,"Nr",{get:function(){return null!==this.Dr},enumerable:!1,configurable:!0}),t.prototype.Cr=function(t){var e=this,n=this.Sr?3e5:6e4;ai("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Dr=this.ks.ni("lru_garbage_collection",n,(function(){return(0,ri.mG)(e,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:this.Dr=null,this.Sr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Fr(this.vr)];case 2:return n.sent(),[3,7];case 3:return cu(e=n.sent())?(ai("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ku(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Cr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Lu=function(){function t(t,e){this.Or=t,this.params=e}return t.prototype.kr=function(t,e){return this.Or.Mr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Lr=function(t,e){var n=this;if(0===e)return iu.resolve(Su.Zi);var r=new Ru(e);return this.Or.Un(t,(function(t){return r.br(t.sequenceNumber)})).next((function(){return n.Or.$r(t,(function(t){return r.br(t)}))})).next((function(){return r.maxValue}))},t.prototype.Br=function(t,e,n){return this.Or.Br(t,e,n)},t.prototype.qr=function(t,e){return this.Or.qr(t,e)},t.prototype.Ur=function(t,e){var n=this;return-1===this.params.qi?(ai("LruGarbageCollector","Garbage collection skipped; disabled"),iu.resolve(Iu)):this.Qr(t).next((function(r){return r<n.params.qi?(ai("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.qi),Iu):n.Kr(t,e)}))},t.prototype.Qr=function(t){return this.Or.Qr(t)},t.prototype.Kr=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.kr(t,this.params.Ui).next((function(e){return e>c.params.Qi?(ai("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Qi+" from "+e),r=c.params.Qi):r=e,o=Date.now(),c.Lr(t,r)})).next((function(r){return n=r,a=Date.now(),c.Br(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.qr(t,n)})).next((function(t){return u=Date.now(),oi()<=Q.in.DEBUG&&ai("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),iu.resolve({Mi:!0,Li:r,$i:i,Bi:t})}))},t}();function Mu(t,e,n){if(!n)throw new wi(bi.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Fu(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new wi(bi.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ju(t,e,n,r){if(!0===e&&!0===r)throw new wi(bi.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Uu(t){if(!Zi.qt(t))throw new wi(bi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Vu(t){if(Zi.qt(t))throw new wi(bi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function qu(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":li()}function zu(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new wi(bi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qu(t);throw new wi(bi.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Bu(t,e){if(e<=0)throw new wi(bi.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Gu=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new wi(bi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new wi(bi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ju("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Wu=new Map,Hu=function(){function t(t,e){this.Wr="(lite)",this.jr=new Gu({}),this.Gr=!1,t instanceof Ri?(this.zr=t,this.Hr=new xi):(this.Jr=t,this.zr=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new wi(bi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ri(t.options.projectId)}(t),this.Hr=new Ai(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Jr)throw new wi(bi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Jr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yr",{get:function(){return this.Gr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xr",{get:function(){return void 0!==this.Zr},enumerable:!1,configurable:!0}),t.prototype.eo=function(t){if(this.Gr)throw new wi(bi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.jr=new Gu(t),void 0!==t.credentials&&(this.Hr=function(t){if(!t)return new xi;switch(t.type){case"gapi":var e=t.client;return hi(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Pi(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new wi(bi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.no=function(){return this.jr},t.prototype.so=function(){return this.Gr=!0,this.jr},t.prototype._delete=function(){return this.Zr||(this.Zr=this.io()),this.Zr},t.prototype.io=function(){return(t=Wu.get(this))&&(ai("ComponentProvider","Removing Datastore"),Wu.delete(this),t.terminate()),Promise.resolve();var t},t}();function Ku(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Qu(e)),e=Ju(t.get(n),e);return Qu(e)}function Ju(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Qu(t){return t+""}function $u(t){var e=t.length;if(hi(e>=2),2===e)return hi(""===t.charAt(0)&&""===t.charAt(1)),$i.Nt();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&li(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:li()}o=a+2}return new $i(r)}var Yu=function(t,e){this.seconds=t,this.nanoseconds=e},Xu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Xu.store="owner",Xu.key="owner";var Zu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Zu.store="mutationQueues",Zu.keyPath="userId";var tc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};tc.store="mutations",tc.keyPath="batchId",tc.userMutationsIndex="userMutationsIndex",tc.userMutationsKeyPath=["userId","batchId"];var ec=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ku(e)]},t.key=function(t,e,n){return[t,Ku(e),n]},t}();ec.store="documentMutations",ec.PLACEHOLDER=new ec;var nc=function(t,e){this.path=t,this.readTime=e},rc=function(t,e){this.path=t,this.version=e},ic=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ic.store="remoteDocuments",ic.readTimeIndex="readTimeIndex",ic.readTimeIndexPath="readTime",ic.collectionReadTimeIndex="collectionReadTimeIndex",ic.collectionReadTimeIndexPath=["parentPath","readTime"];var oc=function(t){this.byteSize=t};oc.store="remoteDocumentGlobal",oc.key="remoteDocumentGlobalKey";var ac=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ac.store="targets",ac.keyPath="targetId",ac.queryTargetsIndexName="queryTargetsIndex",ac.queryTargetsKeyPath=["canonicalId","targetId"];var sc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};sc.store="targetDocuments",sc.keyPath=["targetId","path"],sc.documentTargetsIndex="documentTargetsIndex",sc.documentTargetsKeyPath=["path","targetId"];var uc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};uc.key="targetGlobalKey",uc.store="targetGlobal";var cc=function(t,e){this.collectionId=t,this.parent=e};cc.store="collectionParents",cc.keyPath=["collectionId","parent"];var lc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};lc.store="clientMetadata",lc.keyPath="clientId";var hc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};hc.store="bundles",hc.keyPath="bundleId";var fc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};fc.store="namedQueries",fc.keyPath="name";var pc=(0,ri.pr)((0,ri.pr)((0,ri.pr)((0,ri.pr)([Zu.store,tc.store,ec.store,ic.store,ac.store,Xu.store,uc.store,sc.store],[lc.store]),[oc.store]),[cc.store]),[hc.store,fc.store]),dc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ro=e,r.oo=n,r}return(0,ri.ZT)(e,t),e}(Eu);function vc(t,e){var n=fi(t);return au.As(n.ro,e)}var gc=function(t){this.co=t};function yc(t,e){if(e.document)return Vs(t.co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Zi.Ut(e.noDocument.path),r=Ec(e.noDocument.readTime);return new No(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Zi.Ut(e.unknownDocument.path);return r=Ec(e.unknownDocument.version),new Po(i,r)}return li()}function mc(t,e,n){var r=bc(n),i=e.key.path.yt().Dt();if(e instanceof Ao){var o=function(t,e){return{name:Rs(t,e.key),fields:e.Yt().mapValue.fields,updateTime:Cs(t,e.version.Tt())}}(t.co,e),a=e.hasCommittedMutations;return new ic(null,null,o,a,r,i)}if(e instanceof No){var s=e.key.path.Dt(),u=_c(e.version);return a=e.hasCommittedMutations,new ic(null,new nc(s,u),null,a,r,i)}if(e instanceof Po){var c=e.key.path.Dt(),l=_c(e.version);return new ic(new rc(c,l),null,null,!0,r,i)}return li()}function bc(t){var e=t.Tt();return[e.seconds,e.nanoseconds]}function wc(t){var e=new Ki(t[0],t[1]);return Ji.wt(e)}function _c(t){var e=t.Tt();return new Yu(e.seconds,e.nanoseconds)}function Ec(t){var e=new Ki(t.seconds,t.nanoseconds);return Ji.wt(e)}function Ic(t,e){for(var n=(e.baseMutations||[]).map((function(e){return zs(t.co,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return zs(t.co,e)})),a=Ki.fromMillis(e.localWriteTimeMs);return new xu(e.batchId,a,n,o)}function Tc(t){var e,n,r=Ec(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ec(t.lastLimboFreeSnapshotVersion):Ji.min();return void 0!==t.query.documents?(hi(1===(n=t.query).documents.length),e=sa(ta(Ms(n.documents[0])))):e=function(t){return sa(Ws(t))}(t.query),new va(e,t.targetId,0,t.lastListenSequenceNumber,r,i,mi.fromBase64String(t.resumeToken))}function Sc(t,e){var n,r=_c(e.oe),i=_c(e.lastLimboFreeSnapshotVersion);n=Mo(e.target)?Bs(t.co,e.target):Gs(t.co,e.target);var o=e.resumeToken.toBase64();return new ac(e.targetId,Do(e.target),r,o,e.sequenceNumber,i,n)}function kc(t){var e=Ws({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ua(e,e.limit,"L"):e}var Cc=function(){function t(){}return t.prototype.ao=function(t,e){return xc(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ec(e.createTime),version:e.version};var e}))},t.prototype.uo=function(t,e){return xc(t).put({bundleId:(n=e).id,createTime:_c(Ns(n.createTime)),version:n.version});var n},t.prototype.ho=function(t,e){return Ac(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:kc(e.bundledQuery),readTime:Ec(e.readTime)};var e}))},t.prototype.lo=function(t,e){return Ac(t).put(function(t){return{name:t.name,readTime:_c(Ns(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function xc(t){return vc(t,hc.store)}function Ac(t){return vc(t,fc.store)}var Nc=function(){function t(){this._o=new Pc}return t.prototype.fo=function(t,e){return this._o.add(e),iu.resolve()},t.prototype.wo=function(t,e){return iu.resolve(this._o.getEntries(e))},t}(),Pc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.Vt(),n=t.yt(),r=this.index[e]||new Za($i.At),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.Vt(),n=t.yt(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Za($i.At)).Dt()},t}(),Oc=function(){function t(){this.Eo=new Pc}return t.prototype.fo=function(t,e){var n=this;if(!this.Eo.has(e)){var r=e.Vt(),i=e.yt();t.Oi((function(){n.Eo.add(e)}));var o={collectionId:r,parent:Ku(i)};return Rc(t).put(o)}return iu.resolve()},t.prototype.wo=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[yi(e),""],!1,!0);return Rc(t).Ds(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push($u(o.parent))}return n}))},t}();function Rc(t){return vc(t,cc.store)}function Dc(t,e,n){var r=t.store(tc.store),i=t.store(ec.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Fs({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){hi(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=ec.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return iu.hs(o).next((function(){return c}))}function Lc(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw li();e=t.noDocument}return JSON.stringify(e).length}var Mc=function(){function t(t,e,n,r){this.userId=t,this.fe=e,this.To=n,this.Io=r,this.mo={}}return t.Ao=function(e,n,r,i){return hi(""!==e.uid),new t(e.T()?e.uid:"",n,r,i)},t.prototype.Ro=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jc(t).Fs({index:tc.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Po=function(t,e,n,r){var i=this,o=Uc(t),a=jc(t);return a.add({}).next((function(s){hi("number"==typeof s);for(var u=new xu(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return qs(t.co,e)})),i=n.mutations.map((function(e){return qs(t.co,e)}));return new tc(e,n.batchId,n.er.toMillis(),r,i)}(i.fe,i.userId,u),l=[],h=new Za((function(t,e){return vi(t.Ct(),e.Ct())})),f=0,p=r;f<p.length;f++){var d=p[f],v=ec.key(i.userId,d.key.path,s);h=h.add(d.key.path.yt()),l.push(a.put(c)),l.push(o.put(v,ec.PLACEHOLDER))}return h.forEach((function(e){l.push(i.To.fo(t,e))})),t.Oi((function(){i.mo[s]=u.keys()})),iu.hs(l).next((function(){return u}))}))},t.prototype.yo=function(t,e){var n=this;return jc(t).get(e).next((function(t){return t?(hi(t.userId===n.userId),Ic(n.fe,t)):null}))},t.prototype.Vo=function(t,e){var n=this;return this.mo[e]?iu.resolve(this.mo[e]):this.yo(t,e).next((function(t){if(t){var r=t.keys();return n.mo[e]=r,r}return null}))},t.prototype.po=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return jc(t).Fs({index:tc.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(hi(e.batchId>=r),o=Ic(n.fe,e)),i.done()})).next((function(){return o}))},t.prototype.bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jc(t).Fs({index:tc.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.vo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jc(t).Ds(tc.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ic(e.fe,t)}))}))},t.prototype.So=function(t,e){var n=this,r=ec.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Uc(t).Fs({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=$u(u);if(s===n.userId&&e.path.isEqual(l))return jc(t).get(c).next((function(t){if(!t)throw li();hi(t.userId===n.userId),o.push(Ic(n.fe,t))}));a.done()})).next((function(){return o}))},t.prototype.Do=function(t,e){var n=this,r=new Za(vi),i=[];return e.forEach((function(e){var o=ec.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Uc(t).Fs({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=$u(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),iu.hs(i).next((function(){return n.Co(t,r)}))},t.prototype.xo=function(t,e){var n=this,r=e.path,i=r.length+1,o=ec.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Za(vi);return Uc(t).Fs({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=$u(u);a===n.userId&&r.vt(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Co(t,s)}))},t.prototype.Co=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(jc(t).get(e).next((function(t){if(null===t)throw li();hi(t.userId===n.userId),r.push(Ic(n.fe,t))})))})),iu.hs(i).next((function(){return r}))},t.prototype.No=function(t,e){var n=this;return Dc(t.ro,this.userId,e).next((function(r){return t.Oi((function(){n.Fo(e.batchId)})),iu.forEach(r,(function(e){return n.Io.Oo(t,e)}))}))},t.prototype.Fo=function(t){delete this.mo[t]},t.prototype.ko=function(t){var e=this;return this.Ro(t).next((function(n){if(!n)return iu.resolve();var r=IDBKeyRange.lowerBound(ec.prefixForUser(e.userId)),i=[];return Uc(t).Fs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=$u(t[1]);i.push(o)}else r.done()})).next((function(){hi(0===i.length)}))}))},t.prototype.Mo=function(t,e){return Fc(t,this.userId,e)},t.prototype.Lo=function(t){var e=this;return Vc(t).get(this.userId).next((function(t){return t||new Zu(e.userId,-1,"")}))},t}();function Fc(t,e,n){var r=ec.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Uc(t).Fs({range:o,Ns:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function jc(t){return vc(t,tc.store)}function Uc(t){return vc(t,ec.store)}function Vc(t){return vc(t,Zu.store)}var qc=function(){function t(t){this.$o=t}return t.prototype.next=function(){return this.$o+=2,this.$o},t.Bo=function(){return new t(0)},t.qo=function(){return new t(-1)},t}(),zc=function(){function t(t,e){this.Io=t,this.fe=e}return t.prototype.Uo=function(t){var e=this;return this.Qo(t).next((function(n){var r=new qc(n.highestTargetId);return n.highestTargetId=r.next(),e.Ko(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Wo=function(t){return this.Qo(t).next((function(t){return Ji.wt(new Ki(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.jo=function(t){return this.Qo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Go=function(t,e,n){var r=this;return this.Qo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Tt()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ko(t,i)}))},t.prototype.zo=function(t,e){var n=this;return this.Ho(t,e).next((function(){return n.Qo(t).next((function(r){return r.targetCount+=1,n.Jo(e,r),n.Ko(t,r)}))}))},t.prototype.Yo=function(t,e){return this.Ho(t,e)},t.prototype.Xo=function(t,e){var n=this;return this.Zo(t,e.targetId).next((function(){return Bc(t).delete(e.targetId)})).next((function(){return n.Qo(t)})).next((function(e){return hi(e.targetCount>0),e.targetCount-=1,n.Ko(t,e)}))},t.prototype.Br=function(t,e,n){var r=this,i=0,o=[];return Bc(t).Fs((function(a,s){var u=Tc(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Xo(t,u)))})).next((function(){return iu.hs(o)})).next((function(){return i}))},t.prototype.Un=function(t,e){return Bc(t).Fs((function(t,n){var r=Tc(n);e(r)}))},t.prototype.Qo=function(t){return Gc(t).get(uc.key).next((function(t){return hi(null!==t),t}))},t.prototype.Ko=function(t,e){return Gc(t).put(uc.key,e)},t.prototype.Ho=function(t,e){return Bc(t).put(Sc(this.fe,e))},t.prototype.Jo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tc=function(t){return this.Qo(t).next((function(t){return t.targetCount}))},t.prototype.ec=function(t,e){var n=Do(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bc(t).Fs({range:r,index:ac.queryTargetsIndexName},(function(t,n,r){var o=Tc(n);Lo(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.nc=function(t,e,n){var r=this,i=[],o=Wc(t);return e.forEach((function(e){var a=Ku(e.path);i.push(o.put(new sc(n,a))),i.push(r.Io.sc(t,n,e))})),iu.hs(i)},t.prototype.ic=function(t,e,n){var r=this,i=Wc(t);return iu.forEach(e,(function(e){var o=Ku(e.path);return iu.hs([i.delete([n,o]),r.Io.rc(t,n,e)])}))},t.prototype.Zo=function(t,e){var n=Wc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.oc=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Wc(t),i=cs();return r.Fs({range:n,Ns:!0},(function(t,e,n){var r=$u(t[1]),o=new Zi(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mo=function(t,e){var n=Ku(e.path),r=IDBKeyRange.bound([n],[yi(n)],!1,!0),i=0;return Wc(t).Fs({index:sc.documentTargetsIndex,Ns:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Zn=function(t,e){return Bc(t).get(e).next((function(t){return t?Tc(t):null}))},t}();function Bc(t){return vc(t,ac.store)}function Gc(t){return vc(t,uc.store)}function Wc(t){return vc(t,sc.store)}var Hc=function(){function t(t,e){this.db=t,this.vr=function(t,e){return new Lu(t,e)}(this,e)}return t.prototype.Mr=function(t){var e=this.cc(t);return this.db.ac().tc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.cc=function(t){var e=0;return this.$r(t,(function(t){e++})).next((function(){return e}))},t.prototype.Un=function(t,e){return this.db.ac().Un(t,e)},t.prototype.$r=function(t,e){return this.uc(t,(function(t,n){return e(n)}))},t.prototype.sc=function(t,e,n){return Kc(t,n)},t.prototype.rc=function(t,e,n){return Kc(t,n)},t.prototype.Br=function(t,e,n){return this.db.ac().Br(t,e,n)},t.prototype.Oo=function(t,e){return Kc(t,e)},t.prototype.hc=function(t,e){return function(t,e){var n=!1;return Vc(t).Os((function(r){return Fc(t,r,e).next((function(t){return t&&(n=!0),iu.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.qr=function(t,e){var n=this,r=this.db._c().lc(),i=[],o=0;return this.uc(t,(function(a,s){if(s<=e){var u=n.hc(t,a).next((function(e){if(!e)return o++,r.Ar(t,a).next((function(){return r.mr(a),Wc(t).delete([0,Ku(a.path)])}))}));i.push(u)}})).next((function(){return iu.hs(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.ce(t.oo);return this.db.ac().Yo(t,n)},t.prototype.fc=function(t,e){return Kc(t,e)},t.prototype.uc=function(t,e){var n,r=Wc(t),i=Su.Zi;return r.Fs({index:sc.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Su.Zi&&e(new Zi($u(n)),i),i=s,n=a):i=Su.Zi})).next((function(){i!==Su.Zi&&e(new Zi($u(n)),i)}))},t.prototype.Qr=function(t){return this.db._c().dc(t)},t}();function Kc(t,e){return Wc(t).put(function(t,e){return new sc(0,Ku(t.path),e)}(e,t.oo))}var Jc=function(){function t(t,e){this.fe=t,this.To=e}return t.prototype.Er=function(t,e,n){return Yc(t).put(Xc(e),n)},t.prototype.mr=function(t,e){var n=Yc(t),r=Xc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.wc(t,r)}))},t.prototype.Ar=function(t,e){var n=this;return Yc(t).get(Xc(e)).next((function(t){return n.Ec(t)}))},t.prototype.Tc=function(t,e){var n=this;return Yc(t).get(Xc(e)).next((function(t){var e=n.Ec(t);return e?{Ir:e,size:Lc(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=rs();return this.Ic(t,e,(function(t,e){var i=n.Ec(e);r=r.Ie(t,i)})).next((function(){return r}))},t.prototype.mc=function(t,e){var n=this,r=rs(),i=new $a(Zi.At);return this.Ic(t,e,(function(t,e){var o=n.Ec(e);o?(r=r.Ie(t,o),i=i.Ie(t,Lc(e))):(r=r.Ie(t,null),i=i.Ie(t,0))})).next((function(){return{Ac:r,Rc:i}}))},t.prototype.Ic=function(t,e,n){if(e.bt())return iu.resolve();var r=IDBKeyRange.bound(e.first().path.Dt(),e.last().path.Dt()),i=e.ge(),o=i.De();return Yc(t).Fs({range:r},(function(t,e,r){for(var a=Zi.Ut(t);o&&Zi.At(o,a)<0;)n(o,null),o=i.De();o&&o.isEqual(a)&&(n(o,e),o=i.Ce()?i.De():null),o?r.Ss(o.path.Dt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Ce()?i.De():null}))},t.prototype.Pc=function(t,e,n){var r=this,i=os(),o=e.path.length+1,a={};if(n.isEqual(Ji.min())){var s=e.path.Dt();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.Dt(),c=bc(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=ic.collectionReadTimeIndex}return Yc(t).Fs(a,(function(t,n,a){if(t.length===o){var s=yc(r.fe,n);e.path.vt(s.key.path)?s instanceof Ao&&fa(e,s)&&(i=i.Ie(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.lc=function(t){return new Qc(this,!!t&&t.yc)},t.prototype.dc=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return $c(t).get(oc.key).next((function(t){return hi(!!t),t}))},t.prototype.wc=function(t,e){return $c(t).put(oc.key,e)},t.prototype.Ec=function(t){if(t){var e=yc(this.fe,t);return e instanceof No&&e.version.isEqual(Ji.min())?null:e}return null},t}(),Qc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).gc=e,r.yc=n,r.Vc=new Nu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return(0,ri.ZT)(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new Za((function(t,e){return vi(t.Ct(),e.Ct())}));return this._r.forEach((function(o,a){var s=e.Vc.get(o);if(a.Ir){var u=mc(e.gc.fe,a.Ir,e.wr(o));i=i.add(o.path.yt());var c=Lc(u);r+=c-s,n.push(e.gc.Er(t,o,u))}else if(r-=s,e.yc){var l=mc(e.gc.fe,new No(o,Ji.min()),e.wr(o));n.push(e.gc.Er(t,o,l))}else n.push(e.gc.mr(t,o))})),i.forEach((function(r){n.push(e.gc.To.fo(t,r))})),n.push(this.gc.updateMetadata(t,r)),iu.hs(n)},e.prototype.Rr=function(t,e){var n=this;return this.gc.Tc(t,e).next((function(t){return null===t?(n.Vc.set(e,0),null):(n.Vc.set(e,t.size),t.Ir)}))},e.prototype.Pr=function(t,e){var n=this;return this.gc.mc(t,e).next((function(t){var e=t.Ac;return t.Rc.forEach((function(t,e){n.Vc.set(t,e)})),e}))},e}(Pu);function $c(t){return vc(t,oc.store)}function Yc(t){return vc(t,ic.store)}function Xc(t){return t.path.Dt()}var Zc=function(){function t(t){this.fe=t}return t.prototype.Ps=function(t,e,n,r){var i=this;hi(n<r&&n>=0&&r<=11);var o=new ou("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Xu.store)}(t),function(t){t.createObjectStore(Zu.store,{keyPath:Zu.keyPath}),t.createObjectStore(tc.store,{keyPath:tc.keyPath,autoIncrement:!0}).createIndex(tc.userMutationsIndex,tc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ec.store)}(t),tl(t),function(t){t.createObjectStore(ic.store)}(t));var a=iu.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(sc.store),t.deleteObjectStore(ac.store),t.deleteObjectStore(uc.store)}(t),tl(t)),a=a.next((function(){return function(t){var e=t.store(uc.store),n=new uc(0,0,Ji.min().Tt(),0);return e.put(uc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(tc.store).Ds().next((function(n){t.deleteObjectStore(tc.store),t.createObjectStore(tc.store,{keyPath:tc.keyPath,autoIncrement:!0}).createIndex(tc.userMutationsIndex,tc.userMutationsKeyPath,{unique:!0});var r=e.store(tc.store),i=n.map((function(t){return r.put(t)}));return iu.hs(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(lc.store,{keyPath:lc.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.bc(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(oc.store)}(t),i.vc(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Sc(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Dc(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ic.store);e.createIndex(ic.readTimeIndex,ic.readTimeIndexPath,{unique:!1}),e.createIndex(ic.collectionReadTimeIndex,ic.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Cc(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(hc.store,{keyPath:hc.keyPath})}(t),function(t){t.createObjectStore(fc.store,{keyPath:fc.keyPath})}(t)}))),a},t.prototype.vc=function(t){var e=0;return t.store(ic.store).Fs((function(t,n){e+=Lc(n)})).next((function(){var n=new oc(e);return t.store(oc.store).put(oc.key,n)}))},t.prototype.bc=function(t){var e=this,n=t.store(Zu.store),r=t.store(tc.store);return n.Ds().next((function(n){return iu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ds(tc.userMutationsIndex,i).next((function(r){return iu.forEach(r,(function(r){hi(r.userId===n.userId);var i=Ic(e.fe,r);return Dc(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Sc=function(t){var e=t.store(sc.store),n=t.store(ic.store);return t.store(uc.store).get(uc.key).next((function(t){var r=[];return n.Fs((function(n,i){var o=new $i(n),a=function(t){return[0,Ku(t)]}(o);r.push(e.get(a).next((function(n){return n?iu.resolve():function(n){return e.put(new sc(0,Ku(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return iu.hs(r)}))}))},t.prototype.Dc=function(t,e){t.createObjectStore(cc.store,{keyPath:cc.keyPath});var n=e.store(cc.store),r=new Pc,i=function(t){if(r.add(t)){var e=t.Vt(),i=t.yt();return n.put({collectionId:e,parent:Ku(i)})}};return e.store(ic.store).Fs({Ns:!0},(function(t,e){var n=new $i(t);return i(n.yt())})).next((function(){return e.store(ec.store).Fs({Ns:!0},(function(t,e){t[0];var n=t[1],r=(t[2],$u(n));return i(r.yt())}))}))},t.prototype.Cc=function(t){var e=this,n=t.store(ac.store);return n.Fs((function(t,r){var i=Tc(r),o=Sc(e.fe,i);return n.put(o)}))},t}();function tl(t){t.createObjectStore(sc.store,{keyPath:sc.keyPath}).createIndex(sc.documentTargetsIndex,sc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ac.store,{keyPath:ac.keyPath}).createIndex(ac.queryTargetsIndexName,ac.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(uc.store)}var el="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nl=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.js=o,this.window=a,this.document=s,this.xc=c,this.Nc=l,this.Fc=null,this.Oc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kc=null,this.inForeground=!1,this.Mc=null,this.Lc=null,this.$c=Number.NEGATIVE_INFINITY,this.Bc=function(t){return Promise.resolve()},!t.G())throw new wi(bi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Io=new Hc(this,i),this.qc=n+"main",this.fe=new gc(u),this.Uc=new au(this.qc,11,new Zc(this.fe)),this.Qc=new zc(this.Io,this.fe),this.To=new Oc,this.Kc=function(t,e){return new Jc(t,e)}(this.fe,this.To),this.Wc=new Cc,this.window&&this.window.localStorage?this.jc=this.window.localStorage:(this.jc=null,!1===l&&si("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Gc().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new wi(bi.FAILED_PRECONDITION,el);return t.zc(),t.Hc(),t.Jc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Qc.jo(e)}))})).then((function(e){t.Fc=new Su(e,t.xc)})).then((function(){t.Oc=!0})).catch((function(e){return t.Uc&&t.Uc.close(),Promise.reject(e)}))},t.prototype.Yc=function(t){var e=this;return this.Bc=function(n){return(0,ri.mG)(e,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){return this.Nr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Xc=function(t){var e=this;this.Uc.gs((function(n){return(0,ri.mG)(e,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Zc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.Ws((function(){return(0,ri.mG)(e,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){switch(t.label){case 0:return this.Nr?[4,this.Gc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Gc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return il(e).put(new lc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ta(e).next((function(e){e||(t.isPrimary=!1,t.js.ea((function(){return t.Bc(!1)})))}))})).next((function(){return t.na(e)})).next((function(n){return t.isPrimary&&!n?t.sa(e).next((function(){return!1})):!!n&&t.ia(e).next((function(){return!0}))}))})).catch((function(e){if(cu(e))return ai("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ai("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.js.ea((function(){return t.Bc(e)})),t.isPrimary=e}))},t.prototype.ta=function(t){var e=this;return rl(t).get(Xu.key).next((function(t){return iu.resolve(e.ra(t))}))},t.prototype.oa=function(t){return il(t).delete(this.clientId)},t.prototype.ca=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e,n,r,i=this;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.aa(this.$c,18e5)?[3,2]:(this.$c=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=vc(t,lc.store);return e.Ds().next((function(t){var n=i.ua(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return iu.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.jc)for(e=0,n=t;e<n.length;e++)r=n[e],this.jc.removeItem(this.ha(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Jc=function(){var t=this;this.Lc=this.js.ni("client_metadata_refresh",4e3,(function(){return t.Gc().then((function(){return t.ca()})).then((function(){return t.Jc()}))}))},t.prototype.ra=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.na=function(t){var e=this;return this.Nc?iu.resolve(!0):rl(t).get(Xu.key).next((function(n){if(null!==n&&e.aa(n.leaseTimestampMs,5e3)&&!e.la(n.ownerId)){if(e.ra(n)&&e.networkEnabled)return!0;if(!e.ra(n)){if(!n.allowTabSynchronization)throw new wi(bi.FAILED_PRECONDITION,el);return!1}}return!(!e.networkEnabled||!e.inForeground)||il(t).Ds().next((function(t){return void 0===e.ua(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&ai("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.$=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t=this;return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return this.Oc=!1,this._a(),this.Lc&&(this.Lc.cancel(),this.Lc=null),this.fa(),this.da(),[4,this.Uc.runTransaction("shutdown","readwrite",[Xu.store,lc.store],(function(e){var n=new dc(e,Su.Zi);return t.sa(n).next((function(){return t.oa(n)}))}))];case 1:return e.sent(),this.Uc.close(),this.wa(),[2]}}))}))},t.prototype.ua=function(t,e){var n=this;return t.filter((function(t){return n.aa(t.updateTimeMs,e)&&!n.la(t.clientId)}))},t.prototype.Ea=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return il(e).Ds().next((function(e){return t.ua(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Nr",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Ta=function(t){return Mc.Ao(t,this.fe,this.To,this.Io)},t.prototype.ac=function(){return this.Qc},t.prototype._c=function(){return this.Kc},t.prototype.Ia=function(){return this.To},t.prototype.ma=function(){return this.Wc},t.prototype.runTransaction=function(t,e,n){var r=this;ai("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Uc.runTransaction(t,o,pc,(function(o){return i=new dc(o,r.Fc?r.Fc.next():Su.Zi),"readwrite-primary"===e?r.ta(i).next((function(t){return!!t||r.na(i)})).next((function(e){if(!e)throw si("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.js.ea((function(){return r.Bc(!1)})),new wi(bi.FAILED_PRECONDITION,_u);return n(i)})).next((function(t){return r.ia(i).next((function(){return t}))})):r.Aa(i).next((function(){return n(i)}))})).then((function(t){return i.ki(),t}))},t.prototype.Aa=function(t){var e=this;return rl(t).get(Xu.key).next((function(t){if(null!==t&&e.aa(t.leaseTimestampMs,5e3)&&!e.la(t.ownerId)&&!e.ra(t)&&!(e.Nc||e.allowTabSynchronization&&t.allowTabSynchronization))throw new wi(bi.FAILED_PRECONDITION,el)}))},t.prototype.ia=function(t){var e=new Xu(this.clientId,this.allowTabSynchronization,Date.now());return rl(t).put(Xu.key,e)},t.G=function(){return au.G()},t.prototype.sa=function(t){var e=this,n=rl(t);return n.get(Xu.key).next((function(t){return e.ra(t)?(ai("IndexedDbPersistence","Releasing primary lease."),n.delete(Xu.key)):iu.resolve()}))},t.prototype.aa=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(si("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.zc=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Mc=function(){t.js.Ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.Gc()}))},this.document.addEventListener("visibilitychange",this.Mc),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fa=function(){this.Mc&&(this.document.removeEventListener("visibilitychange",this.Mc),this.Mc=null)},t.prototype.Hc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.kc=function(){e._a(),e.js.Ws((function(){return e.$()}))},this.window.addEventListener("unload",this.kc))},t.prototype.da=function(){this.kc&&(this.window.removeEventListener("unload",this.kc),this.kc=null)},t.prototype.la=function(t){var e;try{var n=null!==(null===(e=this.jc)||void 0===e?void 0:e.getItem(this.ha(t)));return ai("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return si("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._a=function(){if(this.jc)try{this.jc.setItem(this.ha(this.clientId),String(Date.now()))}catch(t){si("Failed to set zombie client id.",t)}},t.prototype.wa=function(){if(this.jc)try{this.jc.removeItem(this.ha(this.clientId))}catch(t){}},t.prototype.ha=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function rl(t){return vc(t,Xu.store)}function il(t){return vc(t,lc.store)}function ol(t,e){var n=t.projectId;return t.M||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var al=function(){function t(t,e,n){this.Kc=t,this.Ra=e,this.To=n}return t.prototype.Pa=function(t,e){var n=this;return this.Ra.So(t,e).next((function(r){return n.ya(t,e,r)}))},t.prototype.ya=function(t,e,n){return this.Kc.Ar(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ir(e,t);return t}))},t.prototype.ga=function(t,e,n){var r=rs();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ir(t,e);r=r.Ie(t,e)})),r},t.prototype.Va=function(t,e){var n=this;return this.Kc.getEntries(t,e).next((function(e){return n.pa(t,e)}))},t.prototype.pa=function(t,e){var n=this;return this.Ra.Do(t,e).next((function(r){var i=n.ga(t,e,r),o=ns();return i.forEach((function(t,e){e||(e=new No(t,Ji.min())),o=o.Ie(t,e)})),o}))},t.prototype.Pc=function(t,e,n){return function(t){return Zi.qt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ba(t,e.path):oa(e)?this.va(t,e,n):this.Sa(t,e,n)},t.prototype.ba=function(t,e){return this.Pa(t,new Zi(e)).next((function(t){var e=os();return t instanceof Ao&&(e=e.Ie(t.key,t)),e}))},t.prototype.va=function(t,e,n){var r=this,i=e.collectionGroup,o=os();return this.To.wo(t,i).next((function(a){return iu.forEach(a,(function(a){var s=function(t,e){return new Xo(e,null,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Sa(t,s,n).next((function(t){t.forEach((function(t,e){o=o.Ie(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Sa=function(t,e,n){var r,i,o=this;return this.Kc.Pc(t,e,n).next((function(n){return r=n,o.Ra.xo(t,e)})).next((function(e){return i=e,o.Da(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=Fa(u,l,l,o.er);r=h instanceof Ao?r.Ie(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){fa(e,n)||(r=r.remove(t))})),r}))},t.prototype.Da=function(t,e,n){for(var r=cs(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof za&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Kc.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Ao&&(c=c.Ie(t,e))})),c}))},t}(),sl=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ca=n,this.xa=r}return t.Na=function(e,n){for(var r=cs(),i=cs(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ul=function(){function t(){}return t.prototype.Fa=function(t){this.Oa=t},t.prototype.Pc=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.ne.length||1===t.ne.length&&t.ne[0].field.Ot())}(e)||n.isEqual(Ji.min())?this.ka(t,e):this.Oa.Va(t,r).next((function(o){var a=i.Ma(e,o);return(ea(e)||na(e))&&i.La(e.limitType,a,r,n)?i.ka(t,e):(oi()<=Q.in.DEBUG&&ai("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ha(e)),i.Oa.Pc(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ie(e.key,e)})),t})))}))},t.prototype.Ma=function(t,e){var n=new Za(pa(t));return e.forEach((function(e,r){r instanceof Ao&&fa(t,r)&&(n=n.add(r))})),n},t.prototype.La=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.ka=function(t,e){return oi()<=Q.in.DEBUG&&ai("QueryEngine","Using full collection scan to execute query:",ha(e)),this.Oa.Pc(t,e,Ji.min())},t}(),cl=function(){function t(t,e,n,r){this.persistence=t,this.$a=e,this.fe=r,this.Ba=new $a(vi),this.qa=new Nu((function(t){return Do(t)}),Lo),this.Ua=Ji.min(),this.Ra=t.Ta(n),this.Qa=t._c(),this.Qc=t.ac(),this.Ka=new al(this.Qa,this.Ra,this.persistence.Ia()),this.Wc=t.ma(),this.$a.Fa(this.Ka)}return t.prototype.Fr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Ur(n,e.Ba)}))},t}();function ll(t,e,n,r){return new cl(t,e,n,r)}function hl(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,ri.Jh)(this,(function(a){switch(a.label){case 0:return n=fi(t),r=n.Ra,i=n.Ka,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ra.vo(t).next((function(a){return o=a,r=n.persistence.Ta(e),i=new al(n.Qa,r,n.persistence.Ia()),r.vo(t)})).next((function(e){for(var n=[],r=[],a=cs(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];a=a.add(m.key)}}return i.Va(t,a).next((function(t){return{Wa:t,ja:n,Ga:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Ra=r,n.Ka=i,n.$a.Fa(n.Ka),o)]}}))}))}function fl(t,e){var n=fi(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Qa.lc({yc:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=iu.resolve();return o.forEach((function(t){a=a.next((function(){return r.Ar(e,t)})).next((function(e){var o=e,a=n.ar.get(t);hi(null!==a),(!o||o.version.u(a)<0)&&(o=i.nr(t,o,n))&&r.Er(o,n.cr)}))})),a.next((function(){return t.Ra.No(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ra.ko(t)})).next((function(){return n.Ka.Va(t,r)}))}))}function pl(t){var e=fi(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Qc.Wo(t)}))}function dl(t,e){var n=fi(t),r=e.oe,i=n.Ba;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Qa.lc({yc:!0});i=n.Ba;var a=[];e.rn.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.Qc.ic(t,e.dn,o).next((function(){return n.Qc.nc(t,e._n,o)})));var u=e.resumeToken;if(u.o()>0){var c=s.ae(u,r).ce(t.oo);i=i.Ie(o,c),function(t,e,n){return hi(e.resumeToken.o()>0),0===t.resumeToken.o()||e.oe.Et()-t.oe.Et()>=3e8||n._n.size+n.fn.size+n.dn.size>0}(s,c,e)&&a.push(n.Qc.Yo(t,c))}}}));var s=ns();if(e.cn.forEach((function(r,i){e.an.has(r)&&a.push(n.persistence.Io.fc(t,r))})),a.push(vl(t,o,e.cn,r,void 0).next((function(t){s=t}))),!r.isEqual(Ji.min())){var u=n.Qc.Wo(t).next((function(e){return n.Qc.Go(t,t.oo,r)}));a.push(u)}return iu.hs(a).next((function(){return o.apply(t)})).next((function(){return n.Ka.pa(t,s)}))})).then((function(t){return n.Ba=i,t}))}function vl(t,e,n,r,i){var o=cs();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=ns();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof No&&a.version.isEqual(Ji.min())?(e.mr(n,u),o=o.Ie(n,a)):null==s||a.version.u(s.version)>0||0===a.version.u(s.version)&&s.hasPendingWrites?(e.Er(a,u),o=o.Ie(n,a)):ai("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function gl(t,e){var n=fi(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ra.po(t,e)}))}function yl(t,e){var n=fi(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Qc.ec(t,e).next((function(i){return i?(r=i,iu.resolve(r)):n.Qc.Uo(t).next((function(i){return r=new va(e,i,0,t.oo),n.Qc.zo(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Ba.get(t.targetId);return(null===r||t.oe.u(r.oe)>0)&&(n.Ba=n.Ba.Ie(t.targetId,t),n.qa.set(e,t.targetId)),t}))}function ml(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,ri.Jh)(this,(function(s){switch(s.label){case 0:r=fi(t),i=r.Ba.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Io.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!cu(a=s.sent()))throw a;return ai("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Ba=r.Ba.remove(e),r.qa.delete(i.target),[2]}}))}))}function bl(t,e,n){var r=fi(t),i=Ji.min(),o=cs();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=fi(t),i=r.qa.get(n);return void 0!==i?iu.resolve(r.Ba.get(i)):r.Qc.ec(e,n)}(r,t,sa(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Qc.oc(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.$a.Pc(t,e,n?i:Ji.min(),n?o:cs())})).next((function(t){return{documents:t,za:o}}))}))}function wl(t,e){var n=fi(t),r=fi(n.Qc),i=n.Ba.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Zn(t,e).next((function(t){return t?t.target:null}))}))}function _l(t){var e=fi(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=fi(t),i=ns(),o=bc(n),a=Yc(e),s=IDBKeyRange.lowerBound(o,!0);return a.Fs({index:ic.readTimeIndex,range:s},(function(t,e){var n=yc(r.fe,e);i=i.Ie(n.key,n),o=e.readTime})).next((function(){return{tr:i,readTime:wc(o)}}))}(e.Qa,t,e.Ua)})).then((function(t){var n=t.tr,r=t.readTime;return e.Ua=r,n}))}function El(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){return[2,(e=fi(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Yc(t),n=Ji.min();return e.Fs({index:ic.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=wc(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ua=t}))]}))}))}function Il(t,e,n,r){return(0,ri.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,p;return(0,ri.Jh)(this,(function(d){switch(d.label){case 0:for(i=fi(t),o=cs(),a=ns(),s=ss(),u=0,c=n;u<c.length;u++)l=c[u],h=e.Ha(l.metadata.name),l.document&&(o=o.add(h)),a=a.Ie(h,e.Ja(l)),s=s.Ie(h,e.Ya(l.metadata.readTime));return f=i.Qa.lc({yc:!0}),[4,yl(i,function(t){return sa(ta($i.xt("__bundle__/docs/"+t)))}(r))];case 1:return p=d.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return vl(t,f,a,Ji.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.Qc.Zo(t,p.targetId).next((function(){return i.Qc.nc(t,o,p.targetId)})).next((function(){return i.Ka.pa(t,e)}))}))}))]}}))}))}function Tl(t,e,n){return void 0===n&&(n=cs()),(0,ri.mG)(this,void 0,void 0,(function(){var r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return[4,yl(t,sa(kc(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=fi(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Ns(e.readTime);if(r.oe.u(o)>=0)return i.Wc.lo(t,e);var a=r.ae(mi.h,o);return i.Ba=i.Ba.Ie(a.targetId,a),i.Qc.Yo(t,a).next((function(){return i.Qc.Zo(t,r.targetId)})).next((function(){return i.Qc.nc(t,n,r.targetId)})).next((function(){return i.Wc.lo(t,e)}))}))]}}))}))}var Sl=function(){function t(t){this.fe=t,this.Xa=new Map,this.Za=new Map}return t.prototype.ao=function(t,e){return iu.resolve(this.Xa.get(e))},t.prototype.uo=function(t,e){var n;return this.Xa.set(e.id,{id:(n=e).id,version:n.version,createTime:Ns(n.createTime)}),iu.resolve()},t.prototype.ho=function(t,e){return iu.resolve(this.Za.get(e))},t.prototype.lo=function(t,e){return this.Za.set(e.name,function(t){return{name:t.name,query:kc(t.bundledQuery),readTime:Ns(t.readTime)}}(e)),iu.resolve()},t}(),kl=function(){function t(){this.tu=new Za(Cl.eu),this.nu=new Za(Cl.su)}return t.prototype.bt=function(){return this.tu.bt()},t.prototype.sc=function(t,e){var n=new Cl(t,e);this.tu=this.tu.add(n),this.nu=this.nu.add(n)},t.prototype.iu=function(t,e){var n=this;t.forEach((function(t){return n.sc(t,e)}))},t.prototype.rc=function(t,e){this.ru(new Cl(t,e))},t.prototype.ou=function(t,e){var n=this;t.forEach((function(t){return n.rc(t,e)}))},t.prototype.cu=function(t){var e=this,n=new Zi(new $i([])),r=new Cl(n,t),i=new Cl(n,t+1),o=[];return this.nu.Qe([r,i],(function(t){e.ru(t),o.push(t.key)})),o},t.prototype.au=function(){var t=this;this.tu.forEach((function(e){return t.ru(e)}))},t.prototype.ru=function(t){this.tu=this.tu.delete(t),this.nu=this.nu.delete(t)},t.prototype.uu=function(t){var e=new Zi(new $i([])),n=new Cl(e,t),r=new Cl(e,t+1),i=cs();return this.nu.Qe([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mo=function(t){var e=new Cl(t,0),n=this.tu.We(e);return null!==n&&t.isEqual(n.key)},t}(),Cl=function(){function t(t,e){this.key=t,this.hu=e}return t.eu=function(t,e){return Zi.At(t.key,e.key)||vi(t.hu,e.hu)},t.su=function(t,e){return vi(t.hu,e.hu)||Zi.At(t.key,e.key)},t}(),xl=function(){function t(t,e){this.To=t,this.Io=e,this.Ra=[],this.lu=1,this._u=new Za(Cl.eu)}return t.prototype.Ro=function(t){return iu.resolve(0===this.Ra.length)},t.prototype.Po=function(t,e,n,r){var i=this.lu;this.lu++,this.Ra.length>0&&this.Ra[this.Ra.length-1];var o=new xu(i,e,n,r);this.Ra.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this._u=this._u.add(new Cl(u.key,i)),this.To.fo(t,u.key.path.yt())}return iu.resolve(o)},t.prototype.yo=function(t,e){return iu.resolve(this.fu(e))},t.prototype.po=function(t,e){var n=e+1,r=this.du(n),i=r<0?0:r;return iu.resolve(this.Ra.length>i?this.Ra[i]:null)},t.prototype.bo=function(){return iu.resolve(0===this.Ra.length?-1:this.lu-1)},t.prototype.vo=function(t){return iu.resolve(this.Ra.slice())},t.prototype.So=function(t,e){var n=this,r=new Cl(e,0),i=new Cl(e,Number.POSITIVE_INFINITY),o=[];return this._u.Qe([r,i],(function(t){var e=n.fu(t.hu);o.push(e)})),iu.resolve(o)},t.prototype.Do=function(t,e){var n=this,r=new Za(vi);return e.forEach((function(t){var e=new Cl(t,0),i=new Cl(t,Number.POSITIVE_INFINITY);n._u.Qe([e,i],(function(t){r=r.add(t.hu)}))})),iu.resolve(this.wu(r))},t.prototype.xo=function(t,e){var n=e.path,r=n.length+1,i=n;Zi.qt(i)||(i=i.child(""));var o=new Cl(new Zi(i),0),a=new Za(vi);return this._u.Ke((function(t){var e=t.key.path;return!!n.vt(e)&&(e.length===r&&(a=a.add(t.hu)),!0)}),o),iu.resolve(this.wu(a))},t.prototype.wu=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.fu(t);null!==r&&n.push(r)})),n},t.prototype.No=function(t,e){var n=this;hi(0===this.Eu(e.batchId,"removed")),this.Ra.shift();var r=this._u;return iu.forEach(e.mutations,(function(i){var o=new Cl(i.key,e.batchId);return r=r.delete(o),n.Io.Oo(t,i.key)})).next((function(){n._u=r}))},t.prototype.Fo=function(t){},t.prototype.Mo=function(t,e){var n=new Cl(e,0),r=this._u.We(n);return iu.resolve(e.isEqual(r&&r.key))},t.prototype.ko=function(t){return this.Ra.length,iu.resolve()},t.prototype.Eu=function(t,e){return this.du(t)},t.prototype.du=function(t){return 0===this.Ra.length?0:t-this.Ra[0].batchId},t.prototype.fu=function(t){var e=this.du(t);return e<0||e>=this.Ra.length?null:this.Ra[e]},t}(),Al=function(){function t(t,e){this.To=t,this.Tu=e,this.docs=new $a(Zi.At),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Tu(e);return this.docs=this.docs.Ie(r,{Ir:e,size:a,readTime:n}),this.size+=a-o,this.To.fo(t,r.path.yt())},t.prototype.mr=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ar=function(t,e){var n=this.docs.get(e);return iu.resolve(n?n.Ir:null)},t.prototype.getEntries=function(t,e){var n=this,r=rs();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ie(t,e?e.Ir:null)})),iu.resolve(r)},t.prototype.Pc=function(t,e,n){for(var r=os(),i=new Zi(e.path.child("")),o=this.docs.Ve(i);o.Ce();){var a=o.De(),s=a.key,u=a.value,c=u.Ir,l=u.readTime;if(!e.path.vt(s.path))break;l.u(n)<=0||c instanceof Ao&&fa(e,c)&&(r=r.Ie(c.key,c))}return iu.resolve(r)},t.prototype.Iu=function(t,e){return iu.forEach(this.docs,(function(t){return e(t)}))},t.prototype.lc=function(t){return new Nl(this)},t.prototype.dc=function(t){return iu.resolve(this.size)},t}(),Nl=function(t){function e(e){var n=this;return(n=t.call(this)||this).gc=e,n}return(0,ri.ZT)(e,t),e.prototype.yr=function(t){var e=this,n=[];return this._r.forEach((function(r,i){i&&i.Ir?n.push(e.gc.Er(t,i.Ir,e.wr(r))):e.gc.mr(r)})),iu.hs(n)},e.prototype.Rr=function(t,e){return this.gc.Ar(t,e)},e.prototype.Pr=function(t,e){return this.gc.getEntries(t,e)},e}(Pu),Pl=function(){function t(t){this.persistence=t,this.mu=new Nu((function(t){return Do(t)}),Lo),this.lastRemoteSnapshotVersion=Ji.min(),this.highestTargetId=0,this.Au=0,this.Ru=new kl,this.targetCount=0,this.Pu=qc.Bo()}return t.prototype.Un=function(t,e){return this.mu.forEach((function(t,n){return e(n)})),iu.resolve()},t.prototype.Wo=function(t){return iu.resolve(this.lastRemoteSnapshotVersion)},t.prototype.jo=function(t){return iu.resolve(this.Au)},t.prototype.Uo=function(t){return this.highestTargetId=this.Pu.next(),iu.resolve(this.highestTargetId)},t.prototype.Go=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Au&&(this.Au=e),iu.resolve()},t.prototype.Ho=function(t){this.mu.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Pu=new qc(e),this.highestTargetId=e),t.sequenceNumber>this.Au&&(this.Au=t.sequenceNumber)},t.prototype.zo=function(t,e){return this.Ho(e),this.targetCount+=1,iu.resolve()},t.prototype.Yo=function(t,e){return this.Ho(e),iu.resolve()},t.prototype.Xo=function(t,e){return this.mu.delete(e.target),this.Ru.cu(e.targetId),this.targetCount-=1,iu.resolve()},t.prototype.Br=function(t,e,n){var r=this,i=0,o=[];return this.mu.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.mu.delete(a),o.push(r.Zo(t,s.targetId)),i++)})),iu.hs(o).next((function(){return i}))},t.prototype.tc=function(t){return iu.resolve(this.targetCount)},t.prototype.ec=function(t,e){var n=this.mu.get(e)||null;return iu.resolve(n)},t.prototype.nc=function(t,e,n){return this.Ru.iu(e,n),iu.resolve()},t.prototype.ic=function(t,e,n){this.Ru.ou(e,n);var r=this.persistence.Io,i=[];return r&&e.forEach((function(e){i.push(r.Oo(t,e))})),iu.hs(i)},t.prototype.Zo=function(t,e){return this.Ru.cu(e),iu.resolve()},t.prototype.oc=function(t,e){var n=this.Ru.uu(e);return iu.resolve(n)},t.prototype.Mo=function(t,e){return iu.resolve(this.Ru.Mo(e))},t}(),Ol=function(){function t(t,e){var n=this;this.yu={},this.Fc=new Su(0),this.Oc=!1,this.Oc=!0,this.Io=t(this),this.Qc=new Pl(this),this.To=new Nc,this.Kc=function(t,e){return new Al(t,(function(t){return n.Io.gu(t)}))}(this.To),this.fe=new gc(e),this.Wc=new Sl(this.fe)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$=function(){return this.Oc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Nr",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Xc=function(){},t.prototype.Zc=function(){},t.prototype.Ia=function(){return this.To},t.prototype.Ta=function(t){var e=this.yu[t.I()];return e||(e=new xl(this.To,this.Io),this.yu[t.I()]=e),e},t.prototype.ac=function(){return this.Qc},t.prototype._c=function(){return this.Kc},t.prototype.ma=function(){return this.Wc},t.prototype.runTransaction=function(t,e,n){var r=this;ai("MemoryPersistence","Starting transaction:",t);var i=new Rl(this.Fc.next());return this.Io.Vu(),n(i).next((function(t){return r.Io.pu(i).next((function(){return t}))})).cs().then((function(t){return i.ki(),t}))},t.prototype.bu=function(t,e){return iu.ls(Object.values(this.yu).map((function(n){return function(){return n.Mo(t,e)}})))},t}(),Rl=function(t){function e(e){var n=this;return(n=t.call(this)||this).oo=e,n}return(0,ri.ZT)(e,t),e}(Eu),Dl=function(){function t(t){this.persistence=t,this.vu=new kl,this.Su=null}return t.Du=function(e){return new t(e)},Object.defineProperty(t.prototype,"Cu",{get:function(){if(this.Su)return this.Su;throw li()},enumerable:!1,configurable:!0}),t.prototype.sc=function(t,e,n){return this.vu.sc(n,e),this.Cu.delete(n.toString()),iu.resolve()},t.prototype.rc=function(t,e,n){return this.vu.rc(n,e),this.Cu.add(n.toString()),iu.resolve()},t.prototype.Oo=function(t,e){return this.Cu.add(e.toString()),iu.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.vu.cu(e.targetId).forEach((function(t){return n.Cu.add(t.toString())}));var r=this.persistence.ac();return r.oc(t,e.targetId).next((function(t){t.forEach((function(t){return n.Cu.add(t.toString())}))})).next((function(){return r.Xo(t,e)}))},t.prototype.Vu=function(){this.Su=new Set},t.prototype.pu=function(t){var e=this,n=this.persistence._c().lc();return iu.forEach(this.Cu,(function(r){var i=Zi.Lt(r);return e.xu(t,i).next((function(t){t||n.mr(i)}))})).next((function(){return e.Su=null,n.apply(t)}))},t.prototype.fc=function(t,e){var n=this;return this.xu(t,e).next((function(t){t?n.Cu.delete(e.toString()):n.Cu.add(e.toString())}))},t.prototype.gu=function(t){return 0},t.prototype.xu=function(t,e){var n=this;return iu.ls([function(){return iu.resolve(n.vu.Mo(e))},function(){return n.persistence.ac().Mo(t,e)},function(){return n.persistence.bu(t,e)}])},t}();function Ll(t,e){return"firestore_clients_"+t+"_"+e}function Ml(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.T()&&(r+="_"+e.uid),r}function Fl(t,e){return"firestore_targets_"+t+"_"+e}var jl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Nu=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new wi(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(si("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ul=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Nu=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new wi(r.error.code,r.error.message)),i?new t(e,r.state,o):(si("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Nu=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=hs(),a=0;i&&a<r.activeTargetIds.length;++a)i=ji(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(si("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ql=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Nu=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(si("SharedClientState","Failed to parse online state: "+e),null)},t}(),zl=function(){function t(){this.activeTargetIds=hs()}return t.prototype.Ou=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ku=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fu=function(){var t={activeTargetIds:this.activeTargetIds.Dt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Bl=function(){function t(t,e,n,r,i){this.window=t,this.js=e,this.persistenceKey=n,this.Mu=r,this.Lu=null,this.$u=null,this.Hi=null,this.Bu=this.qu.bind(this),this.Uu=new $a(vi),this.Nr=!1,this.Qu=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ku=Ll(this.persistenceKey,this.Mu),this.Wu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Uu=this.Uu.Ie(this.Mu,new zl),this.ju=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Gu=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.zu=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Hu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ju=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Bu)}return t.G=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l,h=this;return(0,ri.Jh)(this,(function(f){switch(f.label){case 0:return[4,this.Lu.Ea()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Mu&&(i=this.getItem(Ll(this.persistenceKey,r)))&&(o=Vl.Nu(r,i))&&(this.Uu=this.Uu.Ie(o.clientId,o));for(this.Yu(),(a=this.storage.getItem(this.Hu))&&(s=this.Xu(a))&&this.Zu(s),u=0,c=this.Qu;u<c.length;u++)l=c[u],this.qu(l);return this.Qu=[],this.window.addEventListener("unload",(function(){return h.$()})),this.Nr=!0,[2]}}))}))},t.prototype.Xi=function(t){this.setItem(this.Wu,JSON.stringify(t))},t.prototype.th=function(){return this.eh(this.Uu)},t.prototype.nh=function(t){var e=!1;return this.Uu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.sh=function(t){this.ih(t,"pending")},t.prototype.rh=function(t,e,n){this.ih(t,e,n),this.oh(t)},t.prototype.ah=function(t){var e="not-current";if(this.nh(t)){var n=this.storage.getItem(Fl(this.persistenceKey,t));if(n){var r=Ul.Nu(t,n);r&&(e=r.state)}}return this.uh.Ou(t),this.Yu(),e},t.prototype.hh=function(t){this.uh.ku(t),this.Yu()},t.prototype.lh=function(t){return this.uh.activeTargetIds.has(t)},t.prototype._h=function(t){this.removeItem(Fl(this.persistenceKey,t))},t.prototype.fh=function(t,e,n){this.dh(t,e,n)},t.prototype.wh=function(t,e,n){var r=this;e.forEach((function(t){r.oh(t)})),this.currentUser=t,n.forEach((function(t){r.sh(t)}))},t.prototype.Eh=function(t){this.Th(t)},t.prototype.Ih=function(){this.mh()},t.prototype.$=function(){this.Nr&&(this.window.removeEventListener("storage",this.Bu),this.removeItem(this.Ku),this.Nr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ai("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ai("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ai("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.qu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ai("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ku)return void si("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.ea((function(){return(0,ri.mG)(e,void 0,void 0,(function(){var t,e,r,i,o,a;return(0,ri.Jh)(this,(function(s){if(this.Nr){if(null!==n.key)if(this.ju.test(n.key)){if(null==n.newValue)return t=this.Ah(n.key),[2,this.Rh(t,null)];if(e=this.Ph(n.key,n.newValue))return[2,this.Rh(e.clientId,e)]}else if(this.Gu.test(n.key)){if(null!==n.newValue&&(r=this.yh(n.key,n.newValue)))return[2,this.gh(r)]}else if(this.zu.test(n.key)){if(null!==n.newValue&&(i=this.Vh(n.key,n.newValue)))return[2,this.ph(i)]}else if(n.key===this.Hu){if(null!==n.newValue&&(o=this.Xu(n.newValue)))return[2,this.Zu(o)]}else if(n.key===this.Wu)(a=function(t){var e=Su.Zi;if(null!=t)try{var n=JSON.parse(t);hi("number"==typeof n),e=n}catch(t){si("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Su.Zi&&this.Hi(a);else if(n.key===this.Ju)return[2,this.Lu.bh()]}else this.Qu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"uh",{get:function(){return this.Uu.get(this.Mu)},enumerable:!1,configurable:!0}),t.prototype.Yu=function(){this.setItem(this.Ku,this.uh.Fu())},t.prototype.ih=function(t,e,n){var r=new jl(this.currentUser,t,e,n),i=Ml(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fu())},t.prototype.oh=function(t){var e=Ml(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Th=function(t){var e={clientId:this.Mu,onlineState:t};this.storage.setItem(this.Hu,JSON.stringify(e))},t.prototype.dh=function(t,e,n){var r=Fl(this.persistenceKey,t),i=new Ul(t,e,n);this.setItem(r,i.Fu())},t.prototype.mh=function(){this.setItem(this.Ju,"value-not-used")},t.prototype.Ah=function(t){var e=this.ju.exec(t);return e?e[1]:null},t.prototype.Ph=function(t,e){var n=this.Ah(t);return Vl.Nu(n,e)},t.prototype.yh=function(t,e){var n=this.Gu.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jl.Nu(new ki(i),r,e)},t.prototype.Vh=function(t,e){var n=this.zu.exec(t),r=Number(n[1]);return Ul.Nu(r,e)},t.prototype.Xu=function(t){return ql.Nu(t)},t.prototype.gh=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.Lu.Sh(t.batchId,t.state,t.error)]:(ai("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.ph=function(t){return this.Lu.Dh(t.targetId,t.state,t.error)},t.prototype.Rh=function(t,e){var n=this,r=e?this.Uu.Ie(t,e):this.Uu.remove(t),i=this.eh(this.Uu),o=this.eh(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.Lu.Ch(a,s).then((function(){n.Uu=r}))},t.prototype.Zu=function(t){this.Uu.get(t.clientId)&&this.$u(t.onlineState)},t.prototype.eh=function(t){var e=hs();return t.forEach((function(t,n){e=e.je(n.activeTargetIds)})),e},t}(),Gl=function(){function t(){this.xh=new zl,this.Nh={},this.$u=null,this.Hi=null}return t.prototype.sh=function(t){},t.prototype.rh=function(t,e,n){},t.prototype.ah=function(t){return this.xh.Ou(t),this.Nh[t]||"not-current"},t.prototype.fh=function(t,e,n){this.Nh[t]=e},t.prototype.hh=function(t){this.xh.ku(t)},t.prototype.lh=function(t){return this.xh.activeTargetIds.has(t)},t.prototype._h=function(t){delete this.Nh[t]},t.prototype.th=function(){return this.xh.activeTargetIds},t.prototype.nh=function(t){return this.xh.activeTargetIds.has(t)},t.prototype.start=function(){return this.xh=new zl,Promise.resolve()},t.prototype.wh=function(t,e,n){},t.prototype.Eh=function(t){},t.prototype.$=function(){},t.prototype.Xi=function(t){},t.prototype.Ih=function(){},t}();function Wl(){return"undefined"!=typeof window?window:null}function Hl(){return"undefined"!=typeof document?document:null}var Kl=function(){function t(t,e){this.ks=t,this.$u=e,this.state="Unknown",this.Fh=0,this.Oh=null,this.kh=!0}return t.prototype.Mh=function(){var t=this;0===this.Fh&&(this.Lh("Unknown"),this.Oh=this.ks.ni("online_state_timeout",1e4,(function(){return t.Oh=null,t.$h("Backend didn't respond within 10 seconds."),t.Lh("Offline"),Promise.resolve()})))},t.prototype.Bh=function(t){"Online"===this.state?this.Lh("Unknown"):(this.Fh++,this.Fh>=1&&(this.qh(),this.$h("Connection failed 1 times. Most recent error: "+t.toString()),this.Lh("Offline")))},t.prototype.set=function(t){this.qh(),this.Fh=0,"Online"===t&&(this.kh=!1),this.Lh(t)},t.prototype.Lh=function(t){t!==this.state&&(this.state=t,this.$u(t))},t.prototype.$h=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.kh?(si(e),this.kh=!1):ai("OnlineStateTracker",e)},t.prototype.qh=function(){null!==this.Oh&&(this.Oh.cancel(),this.Oh=null)},t}(),Jl=function(t,e,n,r,i){var o=this;this.Uh=t,this.Qh=e,this.ks=n,this.Kh={},this.Wh=[],this.jh=new Map,this.Gh=new Set,this.zh=[],this.Hh=i,this.Hh.L((function(t){n.Ws((function(){return(0,ri.mG)(o,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){switch(t.label){case 0:return rh(this)?(ai("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return(e=fi(t)).Gh.add(4),[4,$l(e)];case 1:return n.sent(),e.Jh.set("Unknown"),e.Gh.delete(4),[4,Ql(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Jh=new Kl(n,r)};function Ql(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:if(!rh(t))return[3,4];e=0,n=t.zh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function $l(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:e=0,n=t.zh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Yl(t,e){var n=fi(t);n.jh.has(e.targetId)||(n.jh.set(e.targetId,e),nh(n)?eh(n):mh(n).li()&&Zl(n,e))}function Xl(t,e){var n=fi(t),r=mh(n);n.jh.delete(e),r.li()&&th(n,e),0===n.jh.size&&(r.li()?r.di():rh(n)&&n.Jh.set("Unknown"))}function Zl(t,e){t.Yh.Dn(e.targetId),mh(t).gi(e)}function th(t,e){t.Yh.Dn(e),mh(t).Vi(e)}function eh(t){t.Yh=new _s({Xn:function(e){return t.Kh.Xn(e)},Zn:function(e){return t.jh.get(e)||null}}),mh(t).start(),t.Jh.Mh()}function nh(t){return rh(t)&&!mh(t).hi()&&t.jh.size>0}function rh(t){return 0===fi(t).Gh.size}function ih(t){t.Yh=void 0}function oh(t){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){return t.jh.forEach((function(e,n){Zl(t,e)})),[2]}))}))}function ah(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(n){return ih(t),nh(t)?(t.Jh.Bh(e),eh(t)):t.Jh.set("Unknown"),[2]}))}))}function sh(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,ri.Jh)(this,(function(a){switch(a.label){case 0:if(t.Jh.set("Online"),!(e instanceof bs&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,ri.Jh)(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.jh.has(o)?[4,t.Kh.Xh(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.jh.delete(o),t.Yh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),ai("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,uh(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ys?t.Yh.Ln(e):e instanceof ms?t.Yh.jn(e):t.Yh.qn(e),n.isEqual(Ji.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,pl(t.Uh)];case 8:return i=a.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Yh.Hn(e);return n.rn.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.jh.get(r);i&&t.jh.set(r,i.ae(n.resumeToken,e))}})),n.on.forEach((function(e){var n=t.jh.get(e);if(n){t.jh.set(e,n.ae(mi.h,n.oe)),th(t,e);var r=new va(n.target,e,1,n.sequenceNumber);Zl(t,r)}})),t.Kh.Zh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ai("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,uh(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function uh(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r=this;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:if(!cu(e))throw e;return t.Gh.add(1),[4,$l(t)];case 1:return i.sent(),t.Jh.set("Offline"),n||(n=function(){return pl(t.Uh)}),t.ks.ea((function(){return(0,ri.mG)(r,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return ai("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Gh.delete(1),[4,Ql(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function ch(t,e){return e().catch((function(n){return uh(t,n,e)}))}function lh(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r,i,o;return(0,ri.Jh)(this,(function(a){switch(a.label){case 0:e=fi(t),n=bh(e),r=e.Wh.length>0?e.Wh[e.Wh.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return rh(t)&&t.Wh.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,gl(e.Uh,r)];case 3:return null===(i=a.sent())?(0===e.Wh.length&&n.di(),[3,7]):(r=i.batchId,function(t,e){t.Wh.push(e);var n=bh(t);n.li()&&n.bi&&n.vi(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,uh(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return hh(e)&&fh(e),[2]}}))}))}function hh(t){return rh(t)&&!bh(t).hi()&&t.Wh.length>0}function fh(t){bh(t).start()}function ph(t){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){return bh(t).Ci(),[2]}))}))}function dh(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r,i;return(0,ri.Jh)(this,(function(o){for(e=bh(t),n=0,r=t.Wh;n<r.length;n++)i=r[n],e.vi(i.mutations);return[2]}))}))}function vh(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return r=t.Wh.shift(),i=Au.from(r,e,n),[4,ch(t,(function(){return t.Kh.tl(i)}))];case 1:return o.sent(),[4,lh(t)];case 2:return o.sent(),[2]}}))}))}function gh(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return e&&bh(t).bi?[4,function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return zi(r=e.code)&&r!==bi.ABORTED?(n=t.Wh.shift(),bh(t).fi(),[4,ch(t,(function(){return t.Kh.el(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,lh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return hh(t)&&fh(t),[2]}}))}))}function yh(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return n=fi(t),e?(n.Gh.delete(2),[4,Ql(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Gh.add(2),[4,$l(n)]);case 3:r.sent(),n.Jh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function mh(t){var e=this;return t.nl||(t.nl=function(t,e,n){var r=fi(t);return r.Ni(),new mu(e,r.ri,r.credentials,r.fe,n)}(t.Qh,t.ks,{Y:oh.bind(null,t),Z:ah.bind(null,t),yi:sh.bind(null,t)}),t.zh.push((function(n){return(0,ri.mG)(e,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.nl.fi(),nh(t)?eh(t):t.Jh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.nl.stop()];case 2:e.sent(),ih(t),e.label=3;case 3:return[2]}}))}))}))),t.nl}function bh(t){var e=this;return t.sl||(t.sl=function(t,e,n){var r=fi(t);return r.Ni(),new bu(e,r.ri,r.credentials,r.fe,n)}(t.Qh,t.ks,{Y:ph.bind(null,t),Z:gh.bind(null,t),Di:dh.bind(null,t),Si:vh.bind(null,t)}),t.zh.push((function(n){return(0,ri.mG)(e,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.sl.fi(),[4,lh(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.sl.stop()];case 3:e.sent(),t.Wh.length>0&&(ai("RemoteStore","Stopping write stream with "+t.Wh.length+" pending writes"),t.Wh=[]),e.label=4;case 4:return[2]}}))}))}))),t.sl}var wh=function(){this.il=void 0,this.listeners=[]},_h=function(){this.queries=new Nu((function(t){return la(t)}),ca),this.onlineState="Unknown",this.rl=new Set};function Eh(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,ri.Jh)(this,(function(c){switch(c.label){case 0:if(n=fi(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new wh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.ol(r)];case 2:return a.il=c.sent(),[3,4];case 3:return s=c.sent(),u=vu(s,"Initialization of query '"+ha(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.cl(n.onlineState),o.il&&e.al(o.il)&&kh(n),[2]}}))}))}function Ih(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,ri.Jh)(this,(function(s){return n=fi(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.ul(r))]:[2]}))}))}function Th(t,e){for(var n=fi(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].al(a)&&(r=!0);u.il=a}}r&&kh(n)}function Sh(t,e,n){var r=fi(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function kh(t){t.rl.forEach((function(t){t.next()}))}var Ch=function(){function t(t,e,n){this.query=t,this.hl=e,this.ll=!1,this._l=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.al=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ds(t.query,t.docs,t.Ze,e,t.tn,t.fromCache,t.en,!0)}var o=!1;return this.ll?this.fl(t)&&(this.hl.next(t),o=!0):this.dl(t,this.onlineState)&&(this.wl(t),o=!0),this._l=t,o},t.prototype.onError=function(t){this.hl.error(t)},t.prototype.cl=function(t){this.onlineState=t;var e=!1;return this._l&&!this.ll&&this.dl(this._l,t)&&(this.wl(this._l),e=!0),e},t.prototype.dl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.El&&n||t.docs.bt()&&"Offline"!==e)},t.prototype.fl=function(t){if(t.docChanges.length>0)return!0;var e=this._l&&this._l.hasPendingWrites!==t.hasPendingWrites;return!(!t.en&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.wl=function(t){t=ds.sn(t.query,t.docs,t.tn,t.fromCache),this.ll=!0,this.hl.next(t)},t}(),xh=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.Tl=function(){return"metadata"in this.payload},t}(),Ah=function(){function t(t){this.fe=t}return t.prototype.Ha=function(t){return Ds(this.fe,t)},t.prototype.Ja=function(t){return t.metadata.exists?Vs(this.fe,t.document,!1):new No(this.Ha(t.metadata.name),this.Ya(t.metadata.readTime))},t.prototype.Ya=function(t){return Ns(t)},t}(),Nh=function(){function t(t,e,n){this.Il=t,this.Uh=e,this.fe=n,this.queries=[],this.documents=[],this.progress=Ph(t)}return t.prototype.ml=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.Al=function(t){for(var e=new Map,n=new Ah(this.fe),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Ha(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||cs()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e,n,r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return[4,Il(this.Uh,new Ah(this.fe),this.documents,this.Il.id)];case 1:t=o.sent(),e=this.Al(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Tl(this.Uh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Cu(Object.assign({},this.progress),t))]}}))}))},t}();function Ph(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Oh=function(t){this.key=t},Rh=function(t){this.key=t},Dh=function(){function t(t,e){this.query=t,this.Rl=e,this.Pl=null,this.ln=!1,this.yl=cs(),this.tn=cs(),this.gl=pa(t),this.Vl=new fs(this.gl)}return Object.defineProperty(t.prototype,"pl",{get:function(){return this.Rl},enumerable:!1,configurable:!0}),t.prototype.bl=function(t,e){var n=this,r=e?e.vl:new ps,i=e?e.Vl:this.Vl,o=e?e.tn:this.tn,a=i,s=!1,u=ea(this.query)&&i.size===this.query.limit?i.last():null,c=na(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pe((function(t,e){var l=i.get(t),h=e instanceof Ao?e:null;h&&(h=fa(n.query,h)?h:null);var f=!!l&&n.tn.has(l.key),p=!!h&&(h.Jt||n.tn.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Sl(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.gl(h,u)>0||c&&n.gl(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),ea(this.query)||na(this.query))for(;a.size>this.query.limit;){var l=ea(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Vl:a,vl:r,La:s,tn:o}},t.prototype.Sl=function(t,e){return t.Jt&&e.hasCommittedMutations&&!e.Jt},t.prototype.yr=function(t,e,n){var r=this,i=this.Vl;this.Vl=t.Vl,this.tn=t.tn;var o=t.vl.Xe();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return li()}};return n(t)-n(e)}(t.type,e.type)||r.gl(t.doc,e.doc)})),this.Dl(n);var a=e?this.Cl():[],s=0===this.yl.size&&this.ln?1:0,u=s!==this.Pl;return this.Pl=s,0!==o.length||u?{snapshot:new ds(this.query,t.Vl,i,o,t.tn,0===s,u,!1),xl:a}:{xl:a}},t.prototype.cl=function(t){return this.ln&&"Offline"===t?(this.ln=!1,this.yr({Vl:this.Vl,vl:new ps,tn:this.tn,La:!1},!1)):{xl:[]}},t.prototype.Nl=function(t){return!this.Rl.has(t)&&!!this.Vl.has(t)&&!this.Vl.get(t).Jt},t.prototype.Dl=function(t){var e=this;t&&(t._n.forEach((function(t){return e.Rl=e.Rl.add(t)})),t.fn.forEach((function(t){})),t.dn.forEach((function(t){return e.Rl=e.Rl.delete(t)})),this.ln=t.ln)},t.prototype.Cl=function(){var t=this;if(!this.ln)return[];var e=this.yl;this.yl=cs(),this.Vl.forEach((function(e){t.Nl(e.key)&&(t.yl=t.yl.add(e.key))}));var n=[];return e.forEach((function(e){t.yl.has(e)||n.push(new Rh(e))})),this.yl.forEach((function(t){e.has(t)||n.push(new Oh(t))})),n},t.prototype.Fl=function(t){this.Rl=t.za,this.yl=cs();var e=this.bl(t.documents);return this.yr(e,!0)},t.prototype.Ol=function(){return ds.sn(this.query,this.Vl,this.tn,0===this.Pl)},t}(),Lh=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Mh=function(t){this.key=t,this.kl=!1},Fh=function(){function t(t,e,n,r,i,o){this.Uh=t,this.Ml=e,this.Ll=n,this.$l=r,this.currentUser=i,this.Bl=o,this.ql={},this.Ul=new Nu((function(t){return la(t)}),ca),this.Ql=new Map,this.Kl=[],this.Wl=new $a(Zi.At),this.jl=new Map,this.Gl=new kl,this.zl={},this.Hl=new Map,this.Jl=qc.qo(),this.onlineState="Unknown",this.Yl=void 0}return Object.defineProperty(t.prototype,"Xl",{get:function(){return!0===this.Yl},enumerable:!1,configurable:!0}),t}();function jh(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,ri.Jh)(this,(function(u){switch(u.label){case 0:return n=df(t),(o=n.Ul.get(e))?(r=o.targetId,n.$l.ah(r),i=o.view.Ol(),[3,4]):[3,1];case 1:return[4,yl(n.Uh,sa(e))];case 2:return a=u.sent(),s=n.$l.ah(a.targetId),r=a.targetId,[4,Uh(n,e,r,"current"===s)];case 3:i=u.sent(),n.Xl&&Yl(n.Ml,a),u.label=4;case 4:return[2,i]}}))}))}function Uh(t,e,n,r){return(0,ri.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,ri.Jh)(this,(function(l){switch(l.label){case 0:return t.Zl=function(e,n,r){return function(t,e,n,r){return(0,ri.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,ri.Jh)(this,(function(s){switch(s.label){case 0:return(i=e.view.bl(n)).La?[4,bl(t.Uh,e.query,!1).then((function(t){var n=t.documents;return e.view.bl(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.rn.get(e.targetId),a=e.view.yr(i,t.Xl,o),[2,(Xh(t,e.targetId,a.xl),a.snapshot)]}}))}))}(t,e,n,r)},[4,bl(t.Uh,e,!0)];case 1:return i=l.sent(),o=new Dh(e,i.za),a=o.bl(i.documents),s=gs.hn(n,r&&"Offline"!==t.onlineState),u=o.yr(a,t.Xl,s),Xh(t,n,u.xl),c=new Lh(e,n,o),[2,(t.Ul.set(e,c),t.Ql.has(n)?t.Ql.get(n).push(e):t.Ql.set(n,[e]),u.snapshot)]}}))}))}function Vh(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return n=fi(t),r=n.Ul.get(e),(i=n.Ql.get(r.targetId)).length>1?[2,(n.Ql.set(r.targetId,i.filter((function(t){return!ca(t,e)}))),void n.Ul.delete(e))]:n.Xl?(n.$l.hh(r.targetId),n.$l.nh(r.targetId)?[3,2]:[4,ml(n.Uh,r.targetId,!1).then((function(){n.$l._h(r.targetId),Xl(n.Ml,r.targetId),$h(n,r.targetId)})).catch(ku)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return $h(n,r.targetId),[4,ml(n.Uh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function qh(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,ri.Jh)(this,(function(s){switch(s.label){case 0:r=vf(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=fi(t),i=Ki.now(),o=e.reduce((function(t,e){return t.add(e.key)}),cs());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ka.Va(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=ja(c,n.get(c.key));null!=l&&a.push(new za(c.key,l,Co(l.proto.mapValue),Ra.exists(!0)))}return r.Ra.Po(t,i,a,e)}))})).then((function(t){var e=t.rr(n);return{batchId:t.batchId,_r:e}}))}(r.Uh,e)];case 2:return i=s.sent(),r.$l.sh(i.batchId),function(t,e,n){var r=t.zl[t.currentUser.I()];r||(r=new $a(vi)),r=r.Ie(e,n),t.zl[t.currentUser.I()]=r}(r,i.batchId,n),[4,ef(r,i._r)];case 3:return s.sent(),[4,lh(r.Ml)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=vu(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function zh(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:n=fi(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,dl(n.Uh,e)];case 2:return r=i.sent(),e.rn.forEach((function(t,e){var r=n.jl.get(e);r&&(hi(t._n.size+t.fn.size+t.dn.size<=1),t._n.size>0?r.kl=!0:t.fn.size>0?hi(r.kl):t.dn.size>0&&(hi(r.kl),r.kl=!1))})),[4,ef(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ku(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Bh(t,e,n){var r=fi(t);if(r.Xl&&0===n||!r.Xl&&1===n){var i=[];r.Ul.forEach((function(t,n){var r=n.view.cl(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=fi(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].cl(e)&&(r=!0)})),r&&kh(n)}(r.Ll,e),i.length&&r.ql.yi(i),r.onlineState=e,r.Xl&&r.$l.Eh(e)}}function Gh(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,ri.Jh)(this,(function(c){switch(c.label){case 0:return(r=fi(t)).$l.fh(e,"rejected",n),i=r.jl.get(e),(o=i&&i.key)?(a=(a=new $a(Zi.At)).Ie(o,new No(o,Ji.min())),s=cs().add(o),u=new vs(Ji.min(),new Map,new Za(vi),a,s),[4,zh(r,u)]):[3,2];case 1:return c.sent(),r.Wl=r.Wl.remove(o),r.jl.delete(e),tf(r),[3,4];case 2:return[4,ml(r.Uh,e,!1).then((function(){return $h(r,e,n)})).catch(ku)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Wh(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:n=fi(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,fl(n.Uh,e)];case 2:return i=o.sent(),Qh(n,r,null),Jh(n,r),n.$l.rh(r,"acknowledged"),[4,ef(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ku(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Hh(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:r=fi(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=fi(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ra.yo(t,e).next((function(e){return hi(null!==e),r=e.keys(),n.Ra.No(t,e)})).next((function(){return n.Ra.ko(t)})).next((function(){return n.Ka.Va(t,r)}))}))}(r.Uh,e)];case 2:return i=o.sent(),Qh(r,e,n),Jh(r,e),r.$l.rh(e,"rejected",n),[4,ef(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ku(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Kh(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,ri.Jh)(this,(function(s){switch(s.label){case 0:rh((n=fi(t)).Ml)||ai("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=fi(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ra.bo(t)}))}(n.Uh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Hl.get(r)||[]).push(e),n.Hl.set(r,i),[3,4]);case 3:return o=s.sent(),a=vu(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Jh(t,e){(t.Hl.get(e)||[]).forEach((function(t){t.resolve()})),t.Hl.delete(e)}function Qh(t,e,n){var r=fi(t),i=r.zl[r.currentUser.I()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.zl[r.currentUser.I()]=i}}function $h(t,e,n){void 0===n&&(n=null),t.$l.hh(e);for(var r=0,i=t.Ql.get(e);r<i.length;r++){var o=i[r];t.Ul.delete(o),n&&t.ql.t_(o,n)}t.Ql.delete(e),t.Xl&&t.Gl.cu(e).forEach((function(e){t.Gl.Mo(e)||Yh(t,e)}))}function Yh(t,e){var n=t.Wl.get(e);null!==n&&(Xl(t.Ml,n),t.Wl=t.Wl.remove(e),t.jl.delete(n),tf(t))}function Xh(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Oh?(t.Gl.sc(o.key,e),Zh(t,o)):o instanceof Rh?(ai("SyncEngine","Document no longer in limbo: "+o.key),t.Gl.rc(o.key,e),t.Gl.Mo(o.key)||Yh(t,o.key)):li()}}function Zh(t,e){var n=e.key;t.Wl.get(n)||(ai("SyncEngine","New document in limbo: "+n),t.Kl.push(n),tf(t))}function tf(t){for(;t.Kl.length>0&&t.Wl.size<t.Bl;){var e=t.Kl.shift(),n=t.Jl.next();t.jl.set(n,new Mh(e)),t.Wl=t.Wl.Ie(e,n),Yl(t.Ml,new va(sa(ta(e.path)),n,2,Su.Zi))}}function ef(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,ri.Jh)(this,(function(s){switch(s.label){case 0:return r=fi(t),i=[],o=[],a=[],r.Ul.bt()?[3,3]:(r.Ul.forEach((function(t,s){a.push(r.Zl(s,e,n).then((function(t){if(t){r.Xl&&r.$l.fh(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=sl.Na(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.ql.yi(i),[4,function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,ri.Jh)(this,(function(h){switch(h.label){case 0:n=fi(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return iu.forEach(e,(function(e){return iu.forEach(e.Ca,(function(r){return n.persistence.Io.sc(t,e.targetId,r)})).next((function(){return iu.forEach(e.xa,(function(r){return n.persistence.Io.rc(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!cu(r=h.sent()))throw r;return ai("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Ba.get(s),c=u.oe,l=u.ue(c),n.Ba=n.Ba.Ie(s,l));return[2]}}))}))}(r.Uh,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function nf(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return(n=fi(t)).currentUser.isEqual(e)?[3,3]:(ai("SyncEngine","User change. New user:",e.I()),[4,hl(n.Uh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Hl.forEach((function(t){t.forEach((function(t){t.reject(new wi(bi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Hl.clear()}(n),n.$l.wh(e,r.ja,r.Ga),[4,ef(n,r.Wa)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function rf(t,e){var n=fi(t),r=n.jl.get(e);if(r&&r.kl)return cs().add(r.key);var i=cs(),o=n.Ql.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Ul.get(u);i=i.je(c.view.pl)}return i}function of(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return[4,bl((n=fi(t)).Uh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Fl(r),[2,(n.Xl&&Xh(n,e.targetId,i.xl),i)]}}))}))}function af(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){return[2,_l((e=fi(t)).Uh).then((function(t){return ef(e,t)}))]}))}))}function sf(t,e,n,r){return(0,ri.mG)(this,void 0,void 0,(function(){var i,o;return(0,ri.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=fi(t),r=fi(n.Ra);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Vo(t,e).next((function(e){return e?n.Ka.Va(t,e):iu.resolve(null)}))}))}((i=fi(t)).Uh,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,lh(i.Ml)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Qh(i,e,r||null),Jh(i,e),function(t,e){fi(fi(t).Ra).Fo(e)}(i.Uh,e)):li(),a.label=4;case 4:return[4,ef(i,o)];case 5:return a.sent(),[3,7];case 6:ai("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function uf(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,ri.Jh)(this,(function(l){switch(l.label){case 0:return df(n=fi(t)),vf(n),!0!==e||!0===n.Yl?[3,3]:(r=n.$l.th(),[4,cf(n,r.Dt())]);case 1:return i=l.sent(),n.Yl=!0,[4,yh(n.Ml,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Yl(n.Ml,s);return[3,7];case 3:return!1!==e||!1===n.Yl?[3,7]:(u=[],c=Promise.resolve(),n.Ql.forEach((function(t,e){n.$l.lh(e)?u.push(e):c=c.then((function(){return $h(n,e),ml(n.Uh,e,!0)})),Xl(n.Ml,e)})),[4,c]);case 4:return l.sent(),[4,cf(n,u)];case 5:return l.sent(),function(t){var e=fi(t);e.jl.forEach((function(t,n){Xl(e.Ml,n)})),e.Gl.au(),e.jl=new Map,e.Wl=new $a(Zi.At)}(n),n.Yl=!1,[4,yh(n.Ml,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function cf(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,p,d,v;return(0,ri.Jh)(this,(function(g){switch(g.label){case 0:n=fi(t),r=[],i=[],o=0,a=e,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Ql.get(s))&&0!==c.length?[4,yl(n.Uh,sa(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],p=n.Ul.get(f),[4,of(n,p)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,wl(n.Uh,s)];case 8:return v=g.sent(),[4,yl(n.Uh,v)];case 9:return u=g.sent(),[4,Uh(n,lf(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.ql.yi(i),r)]}}))}))}function lf(t){return Zo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function hf(t){var e=fi(t);return fi(fi(e.Uh).persistence).Ea()}function ff(t,e,n,r){return(0,ri.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,ri.Jh)(this,(function(s){switch(s.label){case 0:return(i=fi(t)).Yl?(ai("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Ql.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_l(i.Uh)];case 3:return o=s.sent(),a=vs.un(e,"current"===n),[4,ef(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,ml(i.Uh,e,!0)];case 6:return s.sent(),$h(i,e,r),[3,8];case 7:li(),s.label=8;case 8:return[2]}}))}))}function pf(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,ri.Jh)(this,(function(p){switch(p.label){case 0:if(!(r=df(t)).Yl)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(a=o[i],r.Ql.has(a)?(ai("SyncEngine","Adding an already active target "+a),[3,5]):[4,wl(r.Uh,a)]):[3,6];case 2:return s=p.sent(),[4,yl(r.Uh,s)];case 3:return u=p.sent(),[4,Uh(r,lf(s),u.targetId,!1)];case 4:p.sent(),Yl(r.Ml,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return r.Ql.has(t)?[4,ml(r.Uh,t,!1).then((function(){Xl(r.Ml,t),$h(r,t)})).catch(ku)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,p.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function df(t){var e=fi(t);return e.Ml.Kh.Zh=zh.bind(null,e),e.Ml.Kh.Xn=rf.bind(null,e),e.Ml.Kh.Xh=Gh.bind(null,e),e.ql.yi=Th.bind(null,e.Ll),e.ql.t_=Sh.bind(null,e.Ll),e}function vf(t){var e=fi(t);return e.Ml.Kh.tl=Wh.bind(null,e),e.Ml.Kh.el=Hh.bind(null,e),e}function gf(t,e,n){var r=fi(t);(function(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,ri.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=c.sent(),[4,function(t,e){var n=fi(t),r=Ns(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Wc.ao(t,e.id)})).then((function(t){return!!t&&t.createTime.u(r)>=0}))}(t.Uh,r)];case 2:return c.sent()?[4,e.close()]:[3,4];case 3:return[2,(c.sent(),void n.e_(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n.n_(Ph(r)),i=new Nh(r,t.Uh,e.fe),[4,e.s_()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.ml(o)]:[3,10];case 7:return(a=c.sent())&&n.n_(a),[4,e.s_()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,ef(t,s.tr,void 0)];case 12:return c.sent(),[4,function(t,e){var n=fi(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Wc.uo(t,e)}))}(t.Uh,r)];case 13:return c.sent(),n.e_(s.progress),[3,15];case 14:return ui("SyncEngine","Loading bundle failed with "+(u=c.sent())),n.i_(u),[3,15];case 15:return[2]}}))}))})(r,e,n).then((function(){r.$l.Ih()}))}var yf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return this.fe=ru(t.rt.O),this.$l=this.r_(t),this.persistence=this.o_(t),[4,this.persistence.start()];case 1:return e.sent(),this.c_=this.a_(t),this.Uh=this.u_(t),[2]}}))}))},t.prototype.a_=function(t){return null},t.prototype.u_=function(t){return ll(this.persistence,new ul,t.h_,this.fe)},t.prototype.o_=function(t){return new Ol(Dl.Du,this.fe)},t.prototype.r_=function(t){return new Gl},t.prototype.terminate=function(){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){switch(t.label){case 0:return this.c_&&this.c_.stop(),[4,this.$l.$()];case 1:return t.sent(),[4,this.persistence.$()];case 2:return t.sent(),[2]}}))}))},t}(),mf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).l_=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,ri.ZT)(e,t),e.prototype.initialize=function(e){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,El(this.Uh)];case 2:return n.sent(),[4,this.l_.initialize(this,e)];case 3:return n.sent(),[4,vf(this.l_.Lu)];case 4:return n.sent(),[4,lh(this.l_.Ml)];case 5:return n.sent(),[2]}}))}))},e.prototype.u_=function(t){return ll(this.persistence,new ul,t.h_,this.fe)},e.prototype.a_=function(t){var e=this.persistence.Io.vr;return new Du(e,t.ks)},e.prototype.o_=function(t){var e=ol(t.rt.O,t.rt.persistenceKey),n=void 0!==this.cacheSizeBytes?Tu.Ki(this.cacheSizeBytes):Tu.Gi;return new nl(this.synchronizeTabs,e,t.clientId,n,t.ks,Wl(),Hl(),this.fe,this.$l,!!this.forceOwnership)},e.prototype.r_=function(t){return new Gl},e}(yf),bf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).l_=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,ri.ZT)(e,t),e.prototype.initialize=function(e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.l_.Lu,this.$l instanceof Bl?(this.$l.Lu={Sh:sf.bind(null,n),Dh:ff.bind(null,n),Ch:pf.bind(null,n),Ea:hf.bind(null,n),bh:af.bind(null,n)},[4,this.$l.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Yc((function(t){return(0,ri.mG)(r,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return[4,uf(this.l_.Lu,t)];case 1:return e.sent(),this.c_&&(t&&!this.c_.Nr?this.c_.start(this.Uh):t||this.c_.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.r_=function(t){var e=Wl();if(!Bl.G(e))throw new wi(bi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ol(t.rt.O,t.rt.persistenceKey);return new Bl(e,t.ks,n,t.clientId,t.h_)},e}(mf),wf=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n=this;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return this.Uh?[3,2]:(this.Uh=t.Uh,this.$l=t.$l,this.Qh=this.__(e),this.Ml=this.f_(e),this.Ll=this.d_(e),this.Lu=this.w_(e,!t.synchronizeTabs),this.$l.$u=function(t){return Bh(n.Lu,t,1)},this.Ml.Kh.E_=nf.bind(null,this.Lu),[4,yh(this.Ml,this.Lu.Xl)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.d_=function(t){return new _h},t.prototype.__=function(t){var e,n=ru(t.rt.O),r=(e=t.rt,new Hi(e));return function(t,e,n){return new wu(t,e,n)}(t.credentials,r,n)},t.prototype.f_=function(t){var e,n,r,i,o,a=this;return e=this.Uh,n=this.Qh,r=t.ks,i=function(t){return Bh(a.Lu,t,0)},o=Li.G()?new Li:new Di,new Jl(e,n,r,i,o)},t.prototype.w_=function(t,e){return function(t,e,n,r,i,o,a){var s=new Fh(t,e,n,r,i,o);return a&&(s.Yl=!0),s}(this.Uh,this.Ml,this.Ll,this.$l,t.h_,t.Bl,e)},t.prototype.terminate=function(){return function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return e=fi(t),ai("RemoteStore","RemoteStore shutting down."),e.Gh.add(5),[4,$l(e)];case 1:return n.sent(),e.Hh.$(),e.Jh.set("Unknown"),[2]}}))}))}(this.Ml)},t}();function _f(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return(0,ri.mG)(this,void 0,void 0,(function(){var r;return(0,ri.Jh)(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){return[2]}))}))},releaseLock:function(){}}}var Ef=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.T_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.T_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.I_=function(){this.muted=!0},t.prototype.T_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),If=function(){function t(t,e){var n=this;this.m_=t,this.fe=e,this.metadata=new Wi,this.buffer=new Uint8Array,this.A_=new TextDecoder("utf-8"),this.R_().then((function(t){t&&t.Tl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.m_.cancel()},t.prototype.getMetadata=function(){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.s_=function(){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.R_())]}}))}))},t.prototype.R_=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e,n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.P_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.A_.decode(t),n=Number(e),isNaN(n)&&this.y_("length string ("+e+") is not valid number"),[4,this.g_(n)]);case 2:return r=i.sent(),[2,new xh(JSON.parse(r),t.length+n)]}}))}))},t.prototype.V_=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.P_=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return this.V_()<0?[4,this.p_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.V_())<0&&this.y_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.g_=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.p_()]:[3,3];case 1:n.sent()&&this.y_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.A_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.y_=function(t){throw this.m_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.p_=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.m_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),Tf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new wi(bi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.b_=new Xi(t)}return t.prototype.isEqual=function(t){return this.b_.isEqual(t.b_)},t}(),Sf=function(t){this._methodName=t},kf=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.Ct()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new xf(this.firestore,this.v_,this.S_.path.yt())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Cf=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),xf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ta(r))||this).firestore=e,i.D_=r,i.type="collection",i}return(0,ri.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.Ct()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.yt();return t.bt()?null:new kf(this.firestore,null,new Zi(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Cf);function Af(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ei&&(t=t._),Mu("collection","path",e),t instanceof Hu)return Vu(n=$i.xt.apply($i,(0,ri.pr)([e],r))),new xf(t,null,n);if(!(t instanceof kf||t instanceof xf))throw new wi(bi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vu(n=$i.xt.apply($i,(0,ri.pr)([t.path],r)).child($i.xt(e))),new xf(t.firestore,null,n)}function Nf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ei&&(t=t._),1===arguments.length&&(e=di.t()),Mu("doc","path",e),t instanceof Hu)return Uu(n=$i.xt.apply($i,(0,ri.pr)([e],r))),new kf(t,null,new Zi(n));if(!(t instanceof kf||t instanceof xf))throw new wi(bi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Uu(n=t.D_.child($i.xt.apply($i,(0,ri.pr)([e],r)))),new kf(t.firestore,t instanceof xf?t.v_:null,new Zi(n))}function Pf(t,e){return t instanceof Ei&&(t=t._),e instanceof Ei&&(e=e._),(t instanceof kf||t instanceof xf)&&(e instanceof kf||e instanceof xf)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Of(t,e){return t instanceof Ei&&(t=t._),e instanceof Ei&&(e=e._),t instanceof Cf&&e instanceof Cf&&t.firestore===e.firestore&&ca(t.C_,e.C_)&&t.v_===e.v_}var Rf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new wi(bi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new wi(bi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.dt=function(t){return vi(this.x_,t.x_)||vi(this.N_,t.N_)},t}(),Df=/^__.*__$/,Lf=function(){function t(t,e,n){this.data=t,this.Te=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Te?new za(t,this.data,this.Te,e,this.fieldTransforms):new qa(t,this.data,e,this.fieldTransforms)},t}(),Mf=function(){function t(t,e,n){this.data=t,this.Te=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new za(t,this.data,this.Te,e,this.fieldTransforms)},t}();function Ff(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw li()}}var jf=function(){function t(t,e,n,r,i,o){this.settings=t,this.O=e,this.fe=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Te=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.O,this.fe,this.ignoreUndefinedProperties,this.fieldTransforms,this.Te)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return ip(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Te.find((function(e){return t.vt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.vt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Ff(this.k_)&&Df.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Uf=function(){function t(t,e,n){this.O=t,this.ignoreUndefinedProperties=e,this.fe=n||ru(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new jf({k_:t,methodName:e,j_:n,path:Xi.Nt(),B_:!1,W_:r},this.O,this.fe,this.ignoreUndefinedProperties)},t}();function Vf(t){var e=t.so(),n=ru(t.zr);return new Uf(t.zr,!!e.ignoreUndefinedProperties,n)}function qf(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);tp("Data must be an object, but it was:",a,r);var s,u,c=Xf(r,a);if(o.merge)s=new ro(a.Te),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=ep(e,f[h],n);if(!a.contains(p))throw new wi(bi.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");op(l,p)||l.push(p)}s=new ro(l),u=a.fieldTransforms.filter((function(t){return s.Qt(t.field)}))}else s=null,u=a.fieldTransforms;return new Lf(new So(c),s,u)}var zf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Te.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Sf);function Bf(t,e,n){return new jf({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.O,e.fe,e.ignoreUndefinedProperties)}var Gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e.prototype.z_=function(t){return new Pa(t.path,new Ia)},e.prototype.isEqual=function(t){return t instanceof e},e}(Sf),Wf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return(0,ri.ZT)(e,t),e.prototype.z_=function(t){var e=Bf(this,t,!0),n=this.H_.map((function(t){return Yf(t,e)})),r=new Ta(n);return new Pa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Sf),Hf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return(0,ri.ZT)(e,t),e.prototype.z_=function(t){var e=Bf(this,t,!0),n=this.H_.map((function(t){return Yf(t,e)})),r=new ka(n);return new Pa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Sf),Kf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return(0,ri.ZT)(e,t),e.prototype.z_=function(t){var e=new xa(t.fe,ma(t.fe,this.J_));return new Pa(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Sf);function Jf(t,e,n,r){var i=t.G_(1,e,n);tp("Data must be an object, but it was:",i,r);var o=[],a=new ko;eo(r,(function(t,r){var s=rp(e,t,n);r instanceof Ei&&(r=r._);var u=i.U_(s);if(r instanceof zf)o.push(s);else{var c=Yf(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new ro(o);return new Mf(a.Gt(),s,i.fieldTransforms)}function Qf(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[ep(e,r,n)],u=[i];if(o.length%2!=0)throw new wi(bi.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(ep(e,o[c])),u.push(o[c+1]);for(var l=[],h=new ko,f=s.length-1;f>=0;--f)if(!op(l,s[f])){var p=s[f],d=u[f];d instanceof Ei&&(d=d._);var v=a.U_(p);if(d instanceof zf)l.push(p);else{var g=Yf(d,v);null!=g&&(l.push(p),h.set(p,g))}}var y=new ro(l);return new Mf(h.Gt(),y,a.fieldTransforms)}function $f(t,e,n,r){return void 0===r&&(r=!1),Yf(n,t.G_(r?4:3,e))}function Yf(t,e){if(t instanceof Ei&&(t=t._),Zf(t))return tp("Unsupported field value:",e,t),Xf(t,e);if(t instanceof Sf)return function(t,e){if(!Ff(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Te.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Yf(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ei&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ma(e.fe,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ki.fromDate(t);return{timestampValue:Cs(e.fe,n)}}if(t instanceof Ki)return n=new Ki(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Cs(e.fe,n)};if(t instanceof Rf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _i)return{bytesValue:xs(e.fe,t.l)};if(t instanceof kf){n=e.O;var r=t.firestore.zr;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ps(t.firestore.zr||e.O,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+qu(t))}(t,e)}function Xf(t,e){var n={};return no(t)?e.path&&e.path.length>0&&e.Te.push(e.path):eo(t,(function(t,r){var i=Yf(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Zf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ki||t instanceof Rf||t instanceof _i||t instanceof kf||t instanceof Sf)}function tp(t,e,n){if(!Zf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=qu(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function ep(t,e,n){if(e instanceof Ei&&(e=e._),e instanceof Tf)return e.b_;if("string"==typeof e)return rp(t,e);throw ip("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var np=new RegExp("[~\\*/\\[\\]]");function rp(t,e,n){if(e.search(np)>=0)throw ip("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Tf.bind.apply(Tf,(0,ri.pr)([void 0],e.split("."))))).b_}catch(r){throw ip("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ip(t,e,n,r,i){var o=r&&!r.bt(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new wi(bi.INVALID_ARGUMENT,(s+=". ")+t+u)}function op(t,e){return t.some((function(t){return t.isEqual(e)}))}var ap=function(){function t(t){this.Qh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new wi(bi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,ri.Jh)(this,(function(u){switch(u.label){case 0:return n=fi(t),r=Fs(n.fe)+"/documents",i={documents:e.map((function(t){return Rs(n.fe,t)}))},[4,n._t("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){hi(!!e.found),e.found.name,e.found.updateTime;var n=Ds(t,e.found.name),r=Ns(e.found.updateTime),i=new So({mapValue:{fields:e.found.fields}});return new Ao(n,r,i,{})}(t,e):"missing"in e?function(t,e){hi(!!e.missing),hi(!!e.readTime);var n=Ds(t,e.missing),r=Ns(e.readTime);return new No(n,r)}(t,e):li()}(n.fe,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());hi(!!e),s.push(e)})),s)]}}))}))}(this.Qh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof No||t instanceof Ao?n.sf(t):li()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Ee(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Ka(t,this.Ee(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Zi.Lt(n);e.mutations.push(new Ja(r,e.Ee(r)))})),[4,function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return n=fi(t),r=Fs(n.fe)+"/documents",i={writes:e.map((function(t){return qs(n.fe,t)}))},[4,n.at("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Qh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Ao)e=t.version;else{if(!(t instanceof No))throw li();e=Ji.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new wi(bi.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Ee=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Ra.updateTime(e):Ra.de()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Ji.min()))throw new wi(bi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ra.updateTime(e)}return Ra.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),sp=function(){function t(t,e,n,r){this.ks=t,this.Qh=e,this.updateFunction=n,this.Bs=r,this.cf=5,this.ui=new gu(this.ks,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.ui.ti((function(){return(0,ri.mG)(t,void 0,void 0,(function(){var t,e,n=this;return(0,ri.Jh)(this,(function(r){return t=new ap(this.Qh),(e=this.uf(t))&&e.then((function(e){n.ks.Ws((function(){return t.commit().then((function(){n.Bs.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Mi(e)&&e.catch&&e.then?e:(this.Bs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Bs.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.ks.Ws((function(){return e.af(),Promise.resolve()}))):this.Bs.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!zi(e)}return!1},t}(),up=function(){function t(t,e,n){var r=this;this.credentials=t,this.ks=e,this.rt=n,this.user=ki.UNAUTHENTICATED,this.clientId=di.t(),this._f=function(){},this.S=new Wi,this.credentials.V((function(t){ai("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r._f(t)),r.S.resolve()}))}return t.prototype.getConfiguration=function(){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.S.promise];case 1:return[2,(t.sent(),{ks:this.ks,rt:this.rt,clientId:this.clientId,credentials:this.credentials,h_:this.user,Bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.S.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.ks.wf)throw new wi(bi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.ks.Ef();var e=new Wi;return this.ks.Tf((function(){return(0,ri.mG)(t,void 0,void 0,(function(){var t,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.p(),e.resolve(),[3,6];case 5:return t=r.sent(),n=vu(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function cp(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return t.ks.Af(),ai("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.ff((function(n){return t.ks.ea((function(){return(0,ri.mG)(r,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){switch(t.label){case 0:return[4,hl(e.Uh,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.Xc((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function lp(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return t.ks.Af(),[4,hp(t)];case 1:return n=i.sent(),ai("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.ks.ea((function(){return function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return(n=fi(t)).ks.Af(),ai("RemoteStore","RemoteStore received new credentials"),r=rh(n),n.Gh.add(3),[4,$l(n)];case 1:return i.sent(),r&&n.Jh.set("Unknown"),[4,n.Kh.E_(e)];case 2:return i.sent(),n.Gh.delete(3),[4,Ql(n)];case 3:return i.sent(),[2]}}))}))}(e.Ml,n)}))})),t.If=e,[2]}}))}))}function hp(t){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(ai("FirestoreClient","Using default OfflineComponentProvider"),[4,cp(t,new yf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function fp(t){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(ai("FirestoreClient","Using default OnlineComponentProvider"),[4,lp(t,new wf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function pp(t){return hp(t).then((function(t){return t.persistence}))}function dp(t){return hp(t).then((function(t){return t.Uh}))}function vp(t){return fp(t).then((function(t){return t.Ml}))}function gp(t){return fp(t).then((function(t){return t.Lu}))}function yp(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return[4,fp(t)];case 1:return e=r.sent(),[2,((n=e.Ll).ol=jh.bind(null,e.Lu),n.ul=Vh.bind(null,e.Lu),n)]}}))}))}function mp(t,e,n){var r=this;void 0===n&&(n={});var i=new Wi;return t.ks.Ws((function(){return(0,ri.mG)(r,void 0,void 0,(function(){var r;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ef({next:function(o){e.Ws((function(){return Ih(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new wi(bi.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new wi(bi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Ch(ta(n.path),o,{includeMetadataChanges:!0,El:!0});return Eh(t,a)},[4,yp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.ks,e,n,i])]}}))}))})),i.promise}function bp(t,e,n){var r=this;void 0===n&&(n={});var i=new Wi;return t.ks.Ws((function(){return(0,ri.mG)(r,void 0,void 0,(function(){var r;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ef({next:function(n){e.Ws((function(){return Ih(t,a)})),n.fromCache&&"server"===r.source?i.reject(new wi(bi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Ch(n,o,{includeMetadataChanges:!0,El:!0});return Eh(t,a)},[4,yp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.ks,e,n,i])]}}))}))})),i.promise}var wp=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.ui=new gu(this,"async_queue_retry"),this.vf=function(){var e=Hl();e&&ai("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ui.si()};var e=Hl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ws=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Hl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.ea=function(t){var e=this;this.Ws((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.ui.reset(),[3,4];case 3:if(!cu(t=n.sent()))throw t;return ai("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.ui.ti((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,si("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.ni=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=du.qs(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&li()},t.prototype.Af=function(){},t.prototype.Nf=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t;return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].Ms===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.Ls-e.Ls}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ms===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),_p=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new wp,r.Wr="name"in e?e.name:"[DEFAULT]",r}return(0,ri.ZT)(e,t),e.prototype.io=function(){return this.Lf||Ip(this),this.Lf.terminate()},e}(Hu);function Ep(t){return t.Lf||Ip(t),t.Lf.df(),t.Lf}function Ip(t){var e=t.so(),n=function(t,e,n){return new Oi(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.zr,t.Wr,e);t.Lf=new up(t.Hr,t.Mf,n)}function Tp(t,e,n){var r=this,i=new Wi;return t.ks.enqueue((function(){return(0,ri.mG)(r,void 0,void 0,(function(){var r;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cp(t,n)];case 1:return o.sent(),[4,lp(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===bi.FAILED_PRECONDITION||t.code===bi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Sp(t){if(t.Yr||t.Xr)throw new wi(bi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var kp=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),ho(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ao(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(so(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw li()}},t.prototype.jf=function(t,e){var n=this,r={};return eo(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new Rf(ao(t.latitude),ao(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=co(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(lo(t));default:return null}},t.prototype.Bf=function(t){var e=oo(t);return new Ki(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=$i.xt(t);hi(nu(n));var r=new Ri(n.get(1),n.get(3)),i=new Zi(n.Pt(5));return r.isEqual(e)||si("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Cp=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new kf(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new xp(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.Yt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Ap("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),xp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Cp);function Ap(t,e){return"string"==typeof e?rp(t,e):e instanceof Ei?e._.b_:e.b_}function Np(t){if(na(t)&&0===t.ne.length)throw new wi(bi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pp=function(){};function Op(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Rp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return(0,ri.ZT)(e,t),e.prototype.Yf=function(t){var e=Vf(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.Ot()){if("array-contains"===o||"array-contains-any"===o)throw new wi(bi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Vp(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Up(r,t,h))}s={arrayValue:{values:u}}}else s=Up(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Vp(a,o),s=$f(n,"where",a,"in"===o||"not-in"===o);var f=Fo.create(i,o,s);return function(t,e){if(e.ee()){var n=ia(t);if(null!==n&&!n.isEqual(e.field))throw new wi(bi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ra(t);null!==r&&qp(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new wi(bi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new wi(bi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.C_,0,e,t.firestore.zr,this.Xf,this.Zf,this.td);return new Cf(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Xo(t.path,t.collectionGroup,t.ne.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Pp),Dp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return(0,ri.ZT)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new wi(bi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new wi(bi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Jo(e,n);return function(t,e){if(null===ra(t)){var n=ia(t);null!==n&&qp(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Cf(t.firestore,t.v_,function(t,e){var n=t.ne.concat([e]);return new Xo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Pp),Lp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return(0,ri.ZT)(e,t),e.prototype.Yf=function(t){return new Cf(t.firestore,t.v_,ua(t.C_,this.nd,this.sd))},e}(Pp),Mp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return(0,ri.ZT)(e,t),e.prototype.Yf=function(t){var e=jp(t,this.type,this.rd,this.od);return new Cf(t.firestore,t.v_,function(t,e){return new Xo(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Pp),Fp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return(0,ri.ZT)(e,t),e.prototype.Yf=function(t){var e=jp(t,this.type,this.rd,this.od);return new Cf(t.firestore,t.v_,function(t,e){return new Xo(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Pp);function jp(t,e,n,r){if(n[0]instanceof Ei&&(n[0]=n[0]._),n[0]instanceof Cp)return function(t,e,n,r,i){if(!r)throw new wi(bi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=aa(t);a<s.length;a++){var u=s[a];if(u.field.Ot())o.push(bo(e,r.key));else{var c=r.field(u.field);if(uo(c))throw new wi(bi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.Ct();throw new wi(bi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ho(o,i)}(t.C_,t.firestore.zr,e,n[0].Jf,r);var i=Vf(t.firestore);return function(t,e,n,r,i,o){var a=t.ne;if(i.length>a.length)throw new wi(bi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.Ot()){if("string"!=typeof c)throw new wi(bi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!oa(t)&&-1!==c.indexOf("/"))throw new wi(bi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child($i.xt(c));if(!Zi.qt(l))throw new wi(bi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Zi(l);s.push(bo(e,h))}else{var f=$f(n,r,c);s.push(f)}}return new Ho(s,o)}(t.C_,t.firestore.zr,i,e,n,r)}function Up(t,e,n){if(n instanceof Ei&&(n=n._),"string"==typeof n){if(""===n)throw new wi(bi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!oa(e)&&-1!==n.indexOf("/"))throw new wi(bi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child($i.xt(n));if(!Zi.qt(r))throw new wi(bi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bo(t,new Zi(r))}if(n instanceof kf)return bo(t,n.S_);throw new wi(bi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qu(n)+".")}function Vp(t,e){if(!Array.isArray(t)||0===t.length)throw new wi(bi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new wi(bi.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function qp(t,e,n){if(!n.isEqual(e))throw new wi(bi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function zp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,ri.ZT)(e,t),e.prototype.Uf=function(t){return new _i(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return new kf(this.firestore,null,e)},e}(kp);function Gp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Wp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Hp=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).zf=e,s.ad=e,s.metadata=o,s}return(0,ri.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Kp(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.Yt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Ap("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Cp),Kp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Hp),Jp=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Wp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new Kp(n.zf,n.Hf,r.key,r,new Wp(n.ud.tn.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.nn)throw new wi(bi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.Ze.bt()){var n=0;return t.ud.docChanges.map((function(e){var r=new Kp(t.zf,t.Hf,e.doc.key,e.doc,new Wp(t.ud.tn.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.Ze;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Kp(t.zf,t.Hf,e.doc.key,e.doc,new Wp(t.ud.tn.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Qp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function Qp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return li()}}function $p(t,e){return t instanceof Hp&&e instanceof Hp?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Jp&&e instanceof Jp&&t.zf===e.zf&&Of(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Yp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,ri.ZT)(e,t),e.prototype.Uf=function(t){return new _i(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return new kf(this.firestore,null,e)},e}(kp);function Xp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=zu(t,kf);var o=zu(t.firestore,_p),a=Vf(o);return e instanceof Ei&&(e=e._),td(o,[("string"==typeof e||e instanceof Tf?Qf(a,"updateDoc",t.S_,e,n,r):Jf(a,"updateDoc",t.S_,e)).F_(t.S_,Ra.exists(!0))])}function Zp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Ei&&(t=t._);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Gp(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Gp(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof kf)c=zu(t.firestore,_p),l=ta(t.S_.path),u={next:function(e){i[s]&&i[s](ed(c,t,e))},error:i[s+1],complete:i[s+2]};else{var p=zu(t,Cf);c=zu(p.firestore,_p),l=p.C_;var d=new Yp(c);u={next:function(t){i[s]&&i[s](new Jp(c,d,p,t))},error:i[s+1],complete:i[s+2]},Np(t.C_)}return function(t,e,n,r){var i=this,o=new Ef(r),a=new Ch(e,o,n);return t.ks.Ws((function(){return(0,ri.mG)(i,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return e=Eh,[4,yp(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.I_(),t.ks.Ws((function(){return(0,ri.mG)(i,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return e=Ih,[4,yp(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Ep(c),l,h,u)}function td(t,e){return function(t,e){var n=this,r=new Wi;return t.ks.Ws((function(){return(0,ri.mG)(n,void 0,void 0,(function(){var n;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return n=qh,[4,gp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Ep(t),e)}function ed(t,e,n){var r=n.docs.get(e.S_),i=new Yp(t);return new Hp(t,i,e.S_,r,new Wp(n.hasPendingWrites,n.fromCache),e.v_)}var nd=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Vf(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=rd(t,this.zf),i=zp(r.v_,e,n),o=qf(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Ra.de())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,a=rd(t,this.zf);return e instanceof Ei&&(e=e._),o="string"==typeof e||e instanceof Tf?Qf(this.wd,"WriteBatch.update",a.S_,e,n,r):Jf(this.wd,"WriteBatch.update",a.S_,e),this.fd.push(o.F_(a.S_,Ra.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=rd(t,this.zf);return this.fd=this.fd.concat(new Ka(e.S_,Ra.de())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new wi(bi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function rd(t,e){if(t instanceof Ei&&(t=t._),t.firestore!==e)throw new wi(bi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var id=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return(0,ri.ZT)(e,t),e.prototype.get=function(e){var n=this,r=rd(e,this.zf),i=new Yp(this.zf);return t.prototype.get.call(this,e).then((function(t){return new Hp(n.zf,i,r.S_,t.Jf,new Wp(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Vf(t)}return t.prototype.get=function(t){var e=this,n=rd(t,this.zf),r=new Bp(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return li();var i=t[0];if(i instanceof No)return new Cp(e.zf,r,n.S_,null,n.v_);if(i instanceof Ao)return new Cp(e.zf,r,i.key,i,n.v_);throw li()}))},t.prototype.set=function(t,e,n){var r=rd(t,this.zf),i=zp(r.v_,e,n),o=qf(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=rd(t,this.zf);return e instanceof Ei&&(e=e._),o="string"==typeof e||e instanceof Tf?Qf(this.wd,"Transaction.update",a.S_,e,n,r):Jf(this.wd,"Transaction.update",a.S_,e),this.Td.update(a.S_,o),this},t.prototype.delete=function(t){var e=rd(t,this.zf);return this.Td.delete(e.S_),this},t}()),od=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Sp(t=zu(t,_p));var n=Ep(t),r=t.so(),i=new wf;return Tp(n,i,new mf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Sp(t=zu(t,_p));var e=Ep(t),n=t.so(),r=new wf;return Tp(e,r,new bf(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.Yr&&!t.Xr)throw new wi(bi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Wi;return t.Mf.Tf((function(){return(0,ri.mG)(e,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return au.G()?(e=t+"main",[4,au.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(ol(t.zr,t.Wr))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),ad=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ri||(i.md=e),i}return(0,ri.ZT)(e,t),Object.defineProperty(e.prototype,"zr",{get:function(){return this._.zr},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.no()),t)).merge,this._.eo(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.no().host&&ui("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.ks.enqueue((function(){return(0,ri.mG)(e,void 0,void 0,(function(){var e,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return[4,pp(t)];case 1:return e=r.sent(),[4,vp(t)];case 2:return n=r.sent(),[2,(e.Zc(!0),function(t){var e=fi(t);return e.Gh.delete(0),Ql(e)}(n))]}}))}))}))}(Ep(zu(this._,_p)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.ks.enqueue((function(){return(0,ri.mG)(e,void 0,void 0,(function(){var e,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return[4,pp(t)];case 1:return e=r.sent(),[4,vp(t)];case 2:return n=r.sent(),[2,(e.Zc(!1),function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return(e=fi(t)).Gh.add(0),[4,$l(e)];case 1:return n.sent(),e.Jh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ep(zu(this._,_p)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ju("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Wi;return t.ks.Ws((function(){return(0,ri.mG)(e,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return e=Kh,[4,gp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ep(zu(this._,_p)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Ef(e);return t.ks.Ws((function(){return(0,ri.mG)(n,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){fi(t).rl.add(e),e.next()},[4,yp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.I_(),t.ks.Ws((function(){return(0,ri.mG)(n,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){fi(t).rl.delete(e)},[4,yp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Ep(t=zu(t,_p)),Gp(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new wi(bi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new bd(this,Af(this._,t))}catch(t){throw hd(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ld(this,Nf(this._,t))}catch(t){throw hd(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new gd(this,function(t,e){if(t=zu(t,Hu),Mu("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wi(bi.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Cf(t,null,function(t){return new Xo($i.Nt(),t)}(e))}(this._,t))}catch(t){throw hd(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Wi;return t.ks.Ws((function(){return(0,ri.mG)(n,void 0,void 0,(function(){var n;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(t){return fp(t).then((function(t){return t.Qh}))}(t)];case 1:return n=i.sent(),new sp(t.ks,n,e,r).run(),[2]}}))}))})),r.promise}(Ep(t),(function(n){return e(new id(t,n))}))}(this._,(function(n){return t(new ud(e,n))}))},e.prototype.batch=function(){var t=this;return Ep(this._),new cd(new nd(this._,(function(e){return td(t._,e)})))},e.prototype.loadBundle=function(t){throw new wi(bi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new wi(bi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ei),sd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,ri.ZT)(e,t),e.prototype.Uf=function(t){return new Si(new _i(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return ld.Ad(e,this.firestore,null)},e}(kp),ud=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return(0,ri.ZT)(e,t),e.prototype.get=function(t){var e=this,n=wd(t);return this._.get(n).then((function(t){return new dd(e.zf,t)}))},e.prototype.set=function(t,e,n){var r=wd(t);return n?(Fu("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=wd(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,(0,ri.pr)([a,e,n],i)),this},e.prototype.delete=function(t){var e=wd(t);return this._.delete(e),this},e}(Ei),cd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e.prototype.set=function(t,e,n){var r=wd(t);return n?(Fu("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=wd(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,(0,ri.pr)([a,e,n],i)),this},e.prototype.delete=function(t){var e=wd(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Ei),ld=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new sd(e),r}return(0,ri.ZT)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new wi(bi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.Ct()+" has "+t.length);return new e(n,new kf(n._,r,new Zi(t)))},e.Ad=function(t,n,r){return new e(n,new kf(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new bd(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new bd(this.firestore,Af(this._,t))}catch(t){throw hd(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ei&&(t=t._),t instanceof kf&&Pf(this._,t)},e.prototype.set=function(t,e){e=Fu("DocumentReference.set",e);try{return function(t,e,n){t=zu(t,kf);var r=zu(t.firestore,_p),i=zp(t.v_,e,n);return td(r,[qf(Vf(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Ra.de())])}(this._,t,e)}catch(t){throw hd(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Xp(this._,t):Xp.apply(void 0,(0,ri.pr)([this._,t,e],n))}catch(t){throw hd(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return td(zu((t=this._).firestore,_p),[new Ka(t.S_,Ra.de())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=fd(e),i=pd(e,(function(e){return new dd(t.firestore,new Hp(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return Zp(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=zu(t,kf);var e=zu(t.firestore,_p),n=Ep(e),r=new Yp(e);return function(t,e){var n=this,r=new Wi;return t.ks.Ws((function(){return(0,ri.mG)(n,void 0,void 0,(function(){var n;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=fi(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ka.Pa(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Ao?n.resolve(i):i instanceof No?n.resolve(null):n.reject(new wi(bi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=vu(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,dp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Hp(e,r,t.S_,n,new Wp(n instanceof Ao&&n.Jt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=zu(t,kf);var e=zu(t.firestore,_p);return mp(Ep(e),t.S_,{source:"server"}).then((function(n){return ed(e,t,n)}))}(this._):function(t){t=zu(t,kf);var e=zu(t.firestore,_p);return mp(Ep(e),t.S_).then((function(n){return ed(e,t,n)}))}(this._)).then((function(t){return new dd(e.firestore,new Hp(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ei);function hd(t,e,n){return t.message=t.message.replace(e,n),t}function fd(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Gp(r))return r}return{}}function pd(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Gp(t[0])?t[0]:Gp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var dd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return(0,ri.ZT)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new ld(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return $p(this._,t._)},e}(Ei),vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(dd),gd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new sd(e),r}return(0,ri.ZT)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Op(this._,function(t,e,n){var r=e,i=Ap("where",t);return new Rp(i,r,n)}(t,n,r)))}catch(t){throw hd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Op(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Ap("orderBy",t);return new Dp(r,n)}(t,n)))}catch(t){throw hd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Op(this._,function(t){return Bu("limit",t),new Lp("limit",t,"F")}(t)))}catch(t){throw hd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Op(this._,function(t){return Bu("limitToLast",t),new Lp("limitToLast",t,"L")}(t)))}catch(t){throw hd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Op(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mp("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw hd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Op(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mp("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw hd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Op(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fp("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw hd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Op(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fp("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw hd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Of(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=zu(t,Cf);var e=zu(t.firestore,_p),n=Ep(e),r=new Yp(e);return function(t,e){var n=this,r=new Wi;return t.ks.Ws((function(){return(0,ri.mG)(n,void 0,void 0,(function(){var n;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,ri.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,bl(t,e,!0)];case 1:return s=u.sent(),r=new Dh(e,s.za),i=r.bl(s.documents),o=r.yr(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=vu(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,dp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Jp(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=zu(t,Cf);var e=zu(t.firestore,_p),n=Ep(e),r=new Yp(e);return bp(n,t.C_,{source:"server"}).then((function(n){return new Jp(e,r,t,n)}))}(this._):function(t){t=zu(t,Cf);var e=zu(t.firestore,_p),n=Ep(e),r=new Yp(e);return Np(t.C_),bp(n,t.C_).then((function(n){return new Jp(e,r,t,n)}))}(this._)).then((function(t){return new md(e.firestore,new Jp(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=fd(e),i=pd(e,(function(e){return new md(t.firestore,new Jp(t.firestore._,t.Hf,t._,e.ud))}));return Zp(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ei),yd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return(0,ri.ZT)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new vd(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Ei),md=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return(0,ri.ZT)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new gd(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new vd(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new yd(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new vd(n.zf,r))}))},e.prototype.isEqual=function(t){return $p(this._,t._)},e}(Ei),bd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return(0,ri.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new ld(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ld(this.firestore,void 0===t?Nf(this._):Nf(this._,t))}catch(t){throw hd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=zu(t.firestore,_p),r=Nf(t),i=zp(t.v_,e);return td(n,[qf(Vf(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Ra.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new ld(e.firestore,t)}))},e.prototype.isEqual=function(t){return Pf(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(gd);function wd(t){return t instanceof Ei&&(t=t._),zu(t,kf)}var _d,Ed=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Tf.bind.apply(Tf,(0,ri.pr)([void 0],e))))||this}return(0,ri.ZT)(e,t),e.documentId=function(){return new e(Xi.kt().Ct())},e.prototype.isEqual=function(t){return t instanceof Ei&&(t=t._),t instanceof Tf&&this._.b_.isEqual(t.b_)},e}(Ei),Id=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ri.ZT)(e,t),e.serverTimestamp=function(){var t=new Gf("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new zf("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wf("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hf("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Kf("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Ei),Td=function(){function t(){this.Pd={},this.yd=new Wi,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.e_=function(t){this.n_(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.i_=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.n_=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)},t}(),Sd=n(909),kd={Firestore:ad,GeoPoint:Rf,Timestamp:Ki,Blob:Si,Transaction:ud,WriteBatch:cd,DocumentReference:ld,DocumentSnapshot:dd,Query:gd,QueryDocumentSnapshot:vd,QuerySnapshot:md,CollectionReference:bd,FieldPath:Ed,FieldValue:Id,setLogLevel:function(t){var e;e=t,ii.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Sd.wA("firestore",(function(t){return function(t,e){return new ad(t,new _p(t,e),new od)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},kd)))})(_d=J.Z),_d.registerVersion("@firebase/firestore","2.1.0"),function(t){t.prototype.loadBundle=function(t){return function(t,e){var n=new Td;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new If(t,e)}(function(t,e){if(t instanceof Uint8Array)return _f(t,e);if(t instanceof ArrayBuffer)return _f(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,ru(e));t.ks.Ws((function(){return(0,ri.mG)(i,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return e=gf,[4,gp(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(Ep(t._),t.zr,e,n),n}(this,t)},t.prototype.namedQuery=function(t){return function(t,e){return function(t,e){var n=this;return t.ks.enqueue((function(){return(0,ri.mG)(n,void 0,void 0,(function(){var n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=fi(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Wc.ho(t,e)}))},[4,dp(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(Ep(t._),e).then((function(e){return e?new gd(t,new Cf(t._,null,e.query)):null}))}(this,t)}}(ad);var Cd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xd=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return(0,ri.ZT)(e,t),e}(Error),Ad=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t;return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function Nd(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var Pd,Od,Rd,Dd=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return Nd(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?Nd(t,(function(t){return e.decode(t)})):t},t}(),Ld=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new Dd,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new Ad(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,p;return(0,ri.Jh)(this,(function(d){switch(d.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=d.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new xd("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Md(c,this.postJSON(r,i,o)),l,Md(c,this.cancelAllRequests)])];case 2:if(!(h=d.sent()))throw new xd("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!Cd[s])return new xd("internal","internal");r=Cd[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new xd(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new xd("internal","Response is not valid JSON object.");if(void 0===(p=h.json.data)&&(p=h.json.result),void 0===p)throw new xd("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}}))}))},t}();function Md(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}Pd=J.Z,Od=fetch.bind(self),Rd={Functions:Ld},Pd.INTERNAL.registerComponent(new Sd.wA("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new Ld(n,r,i,e,Od)}),"PUBLIC").setServiceProps(Rd).setMultipleInstances(!0)),J.Z.registerVersion("@firebase/functions","0.6.1");var Fd,jd=n(676),Ud="w:0.4.19",Vd=((Fd={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Fd["not-registered"]="Firebase Installation is not registered.",Fd["installation-not-found"]="Firebase Installation not found.",Fd["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Fd["app-offline"]="Could not process request. Application offline.",Fd["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Fd),qd=new $.LL("installations","Installations",Vd);function zd(t){return t instanceof $.ZR&&t.code.includes("request-failed")}function Bd(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Gd(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function Wd(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,qd.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Hd(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Kd(t,e){var n=e.refreshToken,r=Hd(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function Jd(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function Qd(t,e){var n=e.fid;return(0,ri.mG)(this,void 0,void 0,(function(){var e,r,i,o,a,s;return(0,ri.Jh)(this,(function(u){switch(u.label){case 0:return e=Bd(t),r=Hd(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:Ud},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Jd((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,{fid:(s=u.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Gd(s.authToken)}];case 3:return[4,Wd("Create Installation",a)];case 4:throw u.sent()}}))}))}function $d(t){return new Promise((function(e){setTimeout(e,t)}))}var Yd=/^[cdef][\w-]{21}$/;function Xd(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,(0,ri.fl)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return Yd.test(e)?e:""}catch(t){return""}}function Zd(t){return t.appName+"!"+t.appId}var tv=new Map;function ev(t,e){var n=Zd(t);nv(n,e),function(t,e){var n=iv();n&&n.postMessage({key:t,fid:e}),ov()}(n,e)}function nv(t,e){var n,r,i=tv.get(t);if(i)try{for(var o=(0,ri.XA)(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var rv=null;function iv(){return!rv&&"BroadcastChannel"in self&&((rv=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){nv(t.data.key,t.data.fid)}),rv}function ov(){0===tv.size&&rv&&(rv.close(),rv=null)}var av,sv="firebase-installations-store",uv=null;function cv(){return uv||(uv=(0,jd.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(sv)}}))),uv}function lv(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,ri.Jh)(this,(function(s){switch(s.label){case 0:return n=Zd(t),[4,cv()];case 1:return r=s.sent(),i=r.transaction(sv,"readwrite"),[4,(o=i.objectStore(sv)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||ev(t,e.fid),[2,e]}}))}))}function hv(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return e=Zd(t),[4,cv()];case 1:return n=i.sent(),[4,(r=n.transaction(sv,"readwrite")).objectStore(sv).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function fv(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,ri.Jh)(this,(function(u){switch(u.label){case 0:return n=Zd(t),[4,cv()];case 1:return r=u.sent(),i=r.transaction(sv,"readwrite"),[4,(o=i.objectStore(sv)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||ev(t,s.fid),[2,s]}}))}))}function pv(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return[4,fv(t,(function(n){var r=function(t){return gv(t||{fid:Xd(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(qd.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Qd(t,e)];case 1:return n=i.sent(),[2,lv(t,n)];case 2:return zd(r=i.sent())&&409===r.customData.serverCode?[4,hv(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,lv(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:dv(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function dv(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return[4,vv(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,$d(100)];case 3:return o.sent(),[4,vv(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,pv(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function vv(t){return fv(t,(function(t){if(!t)throw qd.create("installation-not-found");return gv(t)}))}function gv(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function yv(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return(0,ri.mG)(this,void 0,void 0,(function(){var t,i,o,a,s,u;return(0,ri.Jh)(this,(function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return Bd(t)+"/"+n+"/authTokens:generate"}(n,e),i=Kd(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:Ud}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,Jd((function(){return fetch(t,s)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return[2,Gd(c.sent())];case 3:return[4,Wd("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function mv(t,e){return void 0===e&&(e=!1),(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return[4,fv(t.appConfig,(function(r){if(!wv(r))throw qd.create("not-registered");var i,o=r.authToken;if(!e&&(2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i)))return r;if(1===o.requestStatus)return n=function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return[4,bv(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,$d(100)];case 3:return i.sent(),[4,bv(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,mv(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw qd.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return(0,ri.pi)((0,ri.pi)({},t),{authToken:e})}(r);return n=function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,yv(t,e)];case 1:return n=o.sent(),i=(0,ri.pi)((0,ri.pi)({},e),{authToken:n}),[4,lv(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!zd(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,hv(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,ri.pi)((0,ri.pi)({},e),{authToken:{requestStatus:0}}),[4,lv(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function bv(t){return fv(t,(function(t){if(!wv(t))throw qd.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?(0,ri.pi)((0,ri.pi)({},t),{authToken:{requestStatus:0}}):t}))}function wv(t){return void 0!==t&&2===t.registrationStatus}function _v(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return[4,pv(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Ev(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,ri.Jh)(this,(function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return Bd(t)+"/"+n}(t,e),r=Kd(t,e),i={method:"DELETE",headers:r},[4,Jd((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Wd("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function Iv(t){return qd.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new Sd.wA("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Iv("App Configuration");if(!t.name)throw Iv("App Name");try{for(var r=(0,ri.XA)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Iv(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return[4,pv(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):mv(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return[4,_v(t.appConfig)];case 1:return n.sent(),[4,mv(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return[4,fv(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw qd.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw qd.create("app-offline");case 3:return[4,Ev(e,n)];case 4:return r.sent(),[4,hv(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){iv();var n=Zd(t),r=tv.get(n);r||(r=new Set,tv.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=Zd(t),r=tv.get(n);r&&(r.delete(e),0===r.size&&tv.delete(n),ov())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.19")}(J.Z);var Tv,Sv=((av={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',av["only-available-in-window"]="This method is available in a Window context.",av["only-available-in-sw"]="This method is available in a service worker context.",av["permission-default"]="The notification permission was not granted and dismissed instead.",av["permission-blocked"]="The notification permission was not granted and blocked instead.",av["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",av["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",av["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",av["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",av["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",av["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",av["token-update-no-token"]="FCM returned no token when updating the user to push.",av["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",av["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",av["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",av["invalid-vapid-key"]="The public VAPID key must be a string.",av["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",av),kv=new $.LL("messaging","Messaging",Sv),Cv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function xv(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,(0,ri.fl)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Av(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Tv||(Tv={}));var Nv="fcm_token_details_db",Pv="fcm_token_object_Store";function Ov(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes(Nv))return[2,null];r.label=2;case 2:return e=null,[4,(0,jd.openDb)(Nv,5,(function(r){return(0,ri.mG)(n,void 0,void 0,(function(){var n,i,o,a;return(0,ri.Jh)(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(Pv)?[4,(n=r.transaction.objectStore(Pv)).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:xv(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:xv(o.auth),p256dh:xv(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:xv(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,(0,jd.deleteDb)(Nv)];case 4:return r.sent(),[4,(0,jd.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,(0,jd.deleteDb)("undefined")];case 6:return r.sent(),[2,Rv(e)?e:null]}}))}))}function Rv(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var Dv="firebase-messaging-store",Lv=null;function Mv(){return Lv||(Lv=(0,jd.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Dv)}}))),Lv}function Fv(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return e=Vv(t),[4,Mv()];case 1:return[4,i.sent().transaction(Dv).objectStore(Dv).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Ov(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,jv(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function jv(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return n=Vv(t),[4,Mv()];case 1:return r=o.sent(),[4,(i=r.transaction(Dv,"readwrite")).objectStore(Dv).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function Uv(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return e=Vv(t),[4,Mv()];case 1:return n=i.sent(),[4,(r=n.transaction(Dv,"readwrite")).objectStore(Dv).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Vv(t){return t.appConfig.appId}function qv(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,ri.Jh)(this,(function(u){switch(u.label){case 0:return[4,Wv(t)];case 1:n=u.sent(),r=Hv(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Gv(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),kv.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,kv.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw kv.create("token-subscribe-no-token");return[2,o.token]}}))}))}function zv(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,ri.Jh)(this,(function(u){switch(u.label){case 0:return[4,Wv(t)];case 1:n=u.sent(),r=Hv(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Gv(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),kv.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,kv.create("token-update-failed",{errorInfo:s});if(!o.token)throw kv.create("token-update-no-token");return[2,o.token]}}))}))}function Bv(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,ri.Jh)(this,(function(s){switch(s.label){case 0:return[4,Wv(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Gv(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,kv.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),kv.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Gv(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function Wv(t){var e=t.appConfig,n=t.installations;return(0,ri.mG)(this,void 0,void 0,(function(){var t;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function Hv(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==Cv&&(o.web.applicationPubKey=i),o}function Kv(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,ri.Jh)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw kv.create("permission-blocked");return[4,Yv(e,n)];case 1:return r=s.sent(),[4,Fv(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:xv(r.getKey("auth")),p256dh:xv(r.getKey("p256dh"))},i?[3,3]:[2,$v(t,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,p=c.p256dh===u.p256dh,l&&h&&f&&p)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Bv(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,$v(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Qv({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,p}))}))}function Jv(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return[4,Fv(t)];case 1:return(n=i.sent())?[4,Bv(t,n.token)]:[3,4];case 2:return i.sent(),[4,Uv(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Qv(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,ri.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,zv(e,t)];case 1:return r=a.sent(),i=(0,ri.pi)((0,ri.pi)({},t),{token:r,createTime:Date.now()}),[4,jv(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Jv(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function $v(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return[4,qv(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,jv(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Yv(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Av(e)})]}}))}))}function Xv(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function Zv(t){return new Promise((function(e){setTimeout(e,t)}))}var tg=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw kv.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return(0,ri.mG)(this,void 0,void 0,(function(){var n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Fv(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:Cv,r.label=2;case 2:return[2,Kv(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Jv(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw kv.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw kv.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw kv.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw kv.create("only-available-in-window")},t.prototype.onMessage=function(){throw kv.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw kv.create("only-available-in-window")},t.prototype.onPush=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,ig()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,rg(n,e)]:(r=!1,e.notification?[4,og(eg(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Zv(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return(0,ri.mG)(this,void 0,void 0,(function(){var r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,Jv(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Fv(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Jv(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Kv(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:Cv)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,ri.Jh)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;return i||(Xv(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,ng(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Zv(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=Tv.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},t}();function eg(t){var e,n=(0,ri.pi)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function ng(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return(0,ri.Jh)(this,(function(u){switch(u.label){case 0:return[4,ig()];case 1:e=u.sent();try{for(n=(0,ri.XA)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(t){a={error:t}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function rg(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Tv.PUSH_RECEIVED;try{for(var i=(0,ri.XA)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ig(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function og(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var ag=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===Tv.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),Xv(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw kv.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,Kv(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Cv),[2]}))}))},t.prototype.updateSwReg=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw kv.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),kv.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Jv(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t;return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?kv.create("permission-blocked"):kv.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw kv.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw kv.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw kv.create("invalid-sw-registration");if(this.swRegistration)throw kv.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw kv.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw kv.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case Tv.NOTIFICATION_CLICKED:return"notification_open";case Tv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function sg(t){return kv.create("missing-app-config-values",{valueName:t})}var ug={isSupported:cg};function cg(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}J.Z.INTERNAL.registerComponent(new Sd.wA("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw sg("App Configuration Object");if(!t.name)throw sg("App Name");var r=t.options;try{for(var i=(0,ri.XA)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw sg(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!cg())throw kv.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new tg(n):new ag(n)}),"PUBLIC").setServiceProps(ug));var lg="firebasestorage.googleapis.com",hg=function(t){function e(n,r){var i=t.call(this,vg(n),"Firebase Storage: "+r+" ("+vg(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return(0,ri.ZT)(e,t),e.prototype.codeEquals=function(t){return vg(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}($.ZR),fg="canceled",pg="invalid-argument",dg="unsupported-environment";function vg(t){return"storage/"+t}function gg(){return new hg("unknown","An unknown error occurred, please check the error payload for server response.")}function yg(){return new hg(fg,"User canceled the upload/download.")}function mg(){return new hg("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function bg(t){return new hg(pg,t)}function wg(){return new hg("app-deleted","The Firebase app was deleted.")}function _g(t){return new hg("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Eg(t,e){return new hg("invalid-format","String does not match format '"+t+"': "+e)}function Ig(t){throw new hg("internal-error","Internal error: "+t)}var Tg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Sg=function(t,e){this.data=t,this.contentType=e||null};function kg(t,e){switch(t){case Tg.RAW:return new Sg(Cg(e));case Tg.BASE64:case Tg.BASE64URL:return new Sg(xg(t,e));case Tg.DATA_URL:return new Sg((n=new Ng(e)).base64?xg(Tg.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw Eg(Tg.DATA_URL,"Malformed data URL.")}return Cg(e)}(n.rest),new Ng(e).contentType)}var n;throw gg()}function Cg(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function xg(t,e){switch(t){case Tg.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Eg(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Tg.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Eg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw Eg(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Ag,Ng=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Eg(Tg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)},Pg={STATE_CHANGED:"state_changed"},Og="running",Rg="pausing",Dg="paused",Lg="success",Mg="canceling",Fg="canceled",jg="error",Ug={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vg(t){switch(t){case Og:case Rg:case Mg:return Ug.RUNNING;case Dg:return Ug.PAUSED;case Lg:return Ug.SUCCESS;case Fg:return Ug.CANCELED;case jg:default:return Ug.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Ag||(Ag={}));var qg=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ag.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Ag.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Ag.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Ig("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Ig("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Ig("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Ig("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),zg=function(){function t(){}return t.prototype.createXhrIo=function(){return new qg},t}();function Bg(t){return"string"==typeof t||t instanceof String}function Gg(t){return Wg()&&t instanceof Blob}function Wg(){return"undefined"!=typeof Blob}function Hg(t,e,n,r){if(r<e)throw new hg(pg,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new hg(pg,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function Kg(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Jg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Kg();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Wg())return new Blob(t);throw new hg(dg,"This browser doesn't seem to support creating Blobs")}var Qg=function(){function t(t,e){var n=0,r="";Gg(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Gg(this.data_)){var r=(i=this.data_,o=e,a=n,i.webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Wg()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Jg.apply(null,r))}var i=e.map((function(t){return Bg(t)?kg(Tg.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),$g=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new hg("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=lg.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){var h=l[c.indices.bucket],f=l[c.indices.path];f||(f=""),n=new t(h,f),c.postModify(n);break}}if(null==n)throw function(t){return new hg("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function Yg(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function Xg(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Zg(t){return"https://"+lg+"/v0"+t}function ty(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function ey(t,e){return e}var ny=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||ey},ry=null;function iy(){if(ry)return ry;var t=[];t.push(new ny("bucket")),t.push(new ny("generation")),t.push(new ny("metageneration")),t.push(new ny("name","fullPath",!0));var e=new ny("name");e.xform=function(t,e){return function(t){return!Bg(t)||t.length<2?t:Xg(t)}(e)},t.push(e);var n=new ny("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new ny("timeCreated")),t.push(new ny("updated")),t.push(new ny("md5Hash",null,!0)),t.push(new ny("cacheControl",null,!0)),t.push(new ny("contentDisposition",null,!0)),t.push(new ny("contentEncoding",null,!0)),t.push(new ny("contentLanguage",null,!0)),t.push(new ny("contentType",null,!0)),t.push(new ny("metadata","customMetadata",!0)),ry=t}function oy(t,e,n){var r=Yg(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new $g(n,r);return e.makeStorageReference(i)}})}(r,t),r}(t,r,n)}function ay(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var sy=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function uy(t){if(!t)throw gg()}function cy(t,e){return function(n,r){var i=oy(t,r,e);return uy(null!==i),i}}function ly(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new hg("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new hg("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new hg("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function hy(t){var e=ly(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new hg("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function fy(t,e,n){var r=Zg(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new sy(r,"GET",cy(t,n),i);return o.errorHandler=hy(e),o}function py(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Zg(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,u=new sy(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Yg(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new $g(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=t.makeStorageReference(new $g(e,l.name)),r.items.push(s)}return r}(t,e,r)}(t,e,r);return uy(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=ly(e),u}function dy(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var vy=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function gy(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){uy(!1)}return uy(!!n&&-1!==(e||["active"]).indexOf(n)),n}var yy=262144;var my=function(t,e,n){if(function(t){return"function"==typeof t}(t)||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}},by=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function wy(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var _y=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=iy(),this._resumable=this._shouldDoResumable(this._blob),this._state=Og,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(fg)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(jg))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(fg)?r.completeTransitions_():(r._error=t,r._transition(jg))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===Og&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case Og:t(n);break;case Mg:e._transition(Fg);break;case Rg:e._transition(Dg)}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=dy(e,r,i),s={name:a.fullPath},u=Zg(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=ay(a,n),h=t.maxUploadRetryTime,f=new sy(u,"POST",(function(t){var e;gy(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){uy(!1)}return uy(Bg(e)),e}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=ly(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new sy(n,"POST",(function(t){var e=gy(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){uy(!1)}n||uy(!1);var i=Number(n);return uy(!isNaN(i)),new vy(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=ly(e),o}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=yy*this._chunkMultiplier,n=new vy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(t,e,n,r,i,o,a,s){var u=new vy(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new hg("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw mg();var v=e.maxUploadRetryTime,g=new sy(n,"POST",(function(t,n){var i,a=gy(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?cy(e,o)(t,n):null,new vy(s,c,"final"===a,i)}),v);return g.headers=p,g.body=d.uploadData(),g.progressCallback=s||null,g.errorHandler=ly(t),g}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition(jg)}var a=t._ref.storage.makeRequest(o,i);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(Lg)):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){yy*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=fy(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(Lg)}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=dy(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ay(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Qg.getBlob(c,r,l);if(null===h)throw mg();var f={name:u.fullPath},p=Zg(o),d=t.maxUploadRetryTime,v=new sy(p,"POST",cy(t,n),d);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=ly(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(Lg)}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case Mg:case Rg:this._state=t,void 0!==this._request&&this._request.cancel();break;case Og:var e=this._state===Dg;this._state=t,e&&(this._notifyObservers(),this._start());break;case Dg:this._state=t,this._notifyObservers();break;case Fg:this._error=yg(),this._state=t,this._notifyObservers();break;case jg:case Lg:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case Rg:this._transition(Dg);break;case Mg:this._transition(Fg);break;case Og:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Vg(this._state);return new by(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new my(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Vg(this._state)){case Ug.SUCCESS:wy(this._resolve.bind(null,this.snapshot))();break;case Ug.CANCELED:case Ug.ERROR:wy(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Vg(this._state)){case Ug.RUNNING:case Ug.PAUSED:t.next&&wy(t.next.bind(t,this.snapshot))();break;case Ug.SUCCESS:t.complete&&wy(t.complete.bind(t))();break;case Ug.CANCELED:case Ug.ERROR:t.error&&wy(t.error.bind(t,this._error))();break;default:t.error&&wy(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===Dg||this._state===Rg;return t&&this._transition(Og),t},t.prototype.pause=function(){var t=this._state===Og;return t&&this._transition(Rg),t},t.prototype.cancel=function(){var t=this._state===Og||this._state===Rg;return t&&this._transition(Mg),t},t}(),Ey=function(){function t(t,e){this._service=t,this._location=e instanceof $g?e:$g.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new $g(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Xg(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new $g(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw _g(t)},t}();function Iy(t){var e={prefixes:[],items:[]};return Ty(t,e).then((function(){return e}))}function Ty(t,e,n){return(0,ri.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,ri.Jh)(this,(function(a){switch(a.label){case 0:return[4,Sy(t,{pageToken:n})];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Ty(t,e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Sy(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Hg("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),r=e||{},i=py(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function ky(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Zg(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new sy(r,"GET",function(t,e){return function(n,r){var i=oy(t,r,e);return uy(null!==i),function(t,e){var n=Yg(e);if(null===n)return null;if(!Bg(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return Zg("/b/"+i(n)+"/o/"+i(r))+ty({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=hy(e),o}(t.storage,t._location,iy()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new hg("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function Cy(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new $g(t._location.bucket,n);return new Ey(t.storage,r)}var xy=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Ay=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new xy(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new xy(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new xy(t,i,i._ref))}:{next:e.next?function(t){return e.next(new xy(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Ny=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Py(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Py(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Py=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(Cy(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Ay(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new _y(t,new Qg(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=Tg.RAW),this._throwIfRoot("putString"),new Ay(function(t,e,n,r){void 0===n&&(n=Tg.RAW),t._throwIfRoot("putString");var i=kg(n,e),o=(0,ri.pi)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new _y(t,new Qg(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return Iy(this._delegate).then((function(e){return new Ny(e,t.storage)}))},t.prototype.list=function(t){var e=this;return Sy(this._delegate,t).then((function(t){return new Ny(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=fy(t.storage,t._location,iy()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=Zg(e.fullServerUrl()),o=ay(n,r),a=t.maxOperationRetryTime,s=new sy(i,"PATCH",cy(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=hy(e),s}(t.storage,t._location,e,iy()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return ky(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Zg(e.fullServerUrl()),r=t.maxOperationRetryTime,i=new sy(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=hy(e),i}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw _g(t)},t}(),Oy=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Ry=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());!function(t){return void 0!==t}(s)?i():i(s)}catch(t){o(t)}else null!==a?((r=gg()).serverResponse=a.getResponseText(),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?wg():yg()):o(r=new hg("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Dy(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new Dy(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Ag.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new Dy(a,n))}else{var s=n.getErrorCode()===Ag.ABORT;e(!1,new Dy(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,(0,ri.pr)([null,t],e));else{var r;u()||a?l.call.apply(l,(0,ri.pr)([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var p=!1;function d(t){p||(p=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout((function(){a=!0,d(!0)}),r),d}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Dy=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function Ly(t){return/^[A-Za-z]+:\/\//.test(t)}function My(t,e){if(t instanceof jy){var n=t;if(null==n._bucket)throw new hg("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Ey(n,n._bucket);return null!=e?My(r,e):r}if(void 0!==e){if(e.includes(".."))throw bg('`path` param cannot contain ".."');return Cy(t,e)}return t}function Fy(t,e){if(e&&Ly(e)){if(t instanceof jy)return new Ey(t,e);throw bg("To use ref(service, url), the first argument must be a Storage instance.")}return My(t,e)}var jy=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?$g.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:$g.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Hg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Hg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new Ey(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new Oy(wg());var r=function(t,e,n,r){var i=ty(t.urlParams),o=t.url+i,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){var e=void 0!==J.Z?J.Z.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(a),new Ry(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),Uy=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Ly(t))throw bg("ref() expected a child path but got a URL, use refFromURL instead.");return new Py(Fy(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Ly(t))throw bg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$g.makeFromUrl(t)}catch(t){throw bg("refFromUrl() expected a valid full URL but got an invalid one.")}return new Py(Fy(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function Vy(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Uy(n,new jy(n,r,new zg,e))}!function(t){var e={TaskState:Ug,TaskEvent:Pg,StringFormat:Tg,Storage:jy,Reference:Py};t.INTERNAL.registerComponent(new Sd.wA("storage",Vy,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.2")}(J.Z);var qy,zy,By,Gy="0.4.5",Wy=Gy,Hy="FB-PERF-TRACE-MEASURE",Ky="_wt_",Jy="_fcp",Qy="_fid",$y="@firebase/performance/config",Yy="@firebase/performance/configexpire",Xy="Performance",Zy=((qy={})["trace started"]="Trace {$traceName} was started before.",qy["trace stopped"]="Trace {$traceName} is not running.",qy["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",qy["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",qy["no window"]="Window is not available.",qy["no app id"]="App id is not available.",qy["no project id"]="Project id is not available.",qy["no api key"]="Api key is not available.",qy["invalid cc log"]="Attempted to queue invalid cc event",qy["FB not default"]="Performance can only start when Firebase app instance is the default one.",qy["RC response not ok"]="RC response is not ok",qy["invalid attribute name"]="Attribute name {$attributeName} is invalid.",qy["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",qy["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",qy["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",qy),tm=new $.LL("performance",Xy,Zy),em=new Q.Yd(Xy);em.logLevel=Q.in.INFO;var nm,rm=function(){function t(t){if(this.window=t,!t)throw tm.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,$.hl)()||(em.info("IndexedDB is not supported by current browswer"),!1):(em.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===zy&&(zy=new t(By)),zy},t}();function im(t,e){var n=t.length-e.length;if(n<0||n>1)throw tm.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var om,am,sm=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=im("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=im("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw tm.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw tm.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw tm.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===nm&&(nm=new t),nm},t}();function um(){return om}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(am||(am={}));var cm=["firebase_","google_","ga_"],lm=new RegExp("^[a-zA-Z]\\w*$");function hm(){var t=rm.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function fm(){switch(rm.getInstance().document.visibilityState){case"visible":return am.VISIBLE;case"hidden":return am.HIDDEN;default:return am.UNKNOWN}}function pm(){var t=rm.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var dm="Could not fetch config, will use default configs";function vm(t){if(!t)return t;var e=sm.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=true,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=gm(e.tracesSamplingRate),e.logNetworkAfterSampling=gm(e.networkRequestsSamplingRate),t}function gm(t){return Math.random()<=t}var ym,mm=1;function bm(){return mm=2,ym=ym||function(){var t=rm.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=sm.getInstance().installationsService.getId()).then((function(t){om=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=rm.getInstance().localStorage;if(t){var e=t.getItem(Yy);if(e&&Number(e)>Date.now()){var n=t.getItem($y);if(n)try{return JSON.parse(n)}catch(t){return}}}}();return e?(vm(e),Promise.resolve()):function(t){return(e=sm.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+sm.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+sm.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:sm.getInstance().getAppId(),app_version:Wy,sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw tm.create("RC response not ok")}))})).catch((function(){em.info(dm)}));var e}(t).then(vm).then((function(t){return function(t){var e=rm.getInstance().localStorage;t&&e&&(e.setItem($y,JSON.stringify(t)),e.setItem(Yy,String(Date.now()+60*sm.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return wm()}),(function(){return wm()}))}function wm(){mm=3}var _m,Em=1e4,Im=3,Tm=[],Sm=!1;function km(t){setTimeout((function(){var t,e;if(0!==Im)return Tm.length?(e=(t=Tm.splice(0,1e3)).map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(t,e){return function(t){var e=sm.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||em.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=Em;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Tm=(0,ri.pr)(e,Tm),em.info("Retry transport request later.")),Im=3,km(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:sm.getInstance().logSource,log_event:e},t).catch((function(){Tm=(0,ri.pr)(t,Tm),Im--,em.info("Tries left: "+Im+"."),km(Em)}))):km(Em)}),t)}function Cm(t){if(!t.eventTime||!t.message)throw tm.create("invalid cc log");Tm=(0,ri.pr)(Tm,[t])}function xm(t,e){_m||(_m=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Cm({message:t.apply(void 0,e),eventTime:Date.now()})}}(Pm)),_m(t,e)}function Am(t){var e=sm.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&rm.getInstance().requiredApisAvailable()&&(t.isAuto&&fm()!==am.VISIBLE||(3===mm?Nm(t):bm().then((function(){return Nm(t)}),(function(){return Nm(t)}))))}function Nm(t){if(um()){var e=sm.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return xm(t,1)}),0)}}function Pm(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:Om(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:Om(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function Om(){return{google_app_id:sm.getInstance().getAppId(),app_instance_id:um(),web_app_info:{sdk_version:Wy,page_url:rm.getInstance().getUrl(),service_worker_status:hm(),visibility_state:fm(),effective_connection_type:pm()},application_process_state:0}}var Rm=["_fp",Jy,Qy],Dm=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=rm.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw tm.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw tm.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Am(this)},t.prototype.record=function(t,e,n){if(t<=0)throw tm.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw tm.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=(0,ri.pi)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Am(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith(Ky)&&Rm.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw tm.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(n=e,(r=Math.floor(n))<n&&em.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||cm.some((function(e){return t.startsWith(e)}))||!t.match(lm))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw tm.create("invalid attribute name",{attributeName:t});if(!r)throw tm.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return(0,ri.pi)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=rm.getInstance().getUrl();if(i){var o=new t(Ky+i,!0),a=Math.floor(1e3*rm.getInstance().getTimeOrigin());if(o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var s=n.find((function(t){return"first-paint"===t.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric(Jy,Math.floor(1e3*u.startTime)),r&&o.putMetric(Qy,Math.floor(1e3*r))}Am(o)}},t.createUserTimingTrace=function(e){Am(new t(e,!1,e))},t}();function Lm(t){var e=t;if(e&&void 0!==e.responseStart){var n=rm.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=sm.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return xm(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function Mm(){um()&&(setTimeout((function(){return function(){var t=rm.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){Dm.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),Dm.createOobTrace(e,n,t))}))}else Dm.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=rm.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)Lm(n[e]);t.setupObserver("resource",Lm)}()}),0),setTimeout((function(){return function(){for(var t=rm.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)Fm(n[e]);t.setupObserver("measure",Fm)}()}),0))}function Fm(t){var e=t.name;e.substring(0,Hy.length)!==Hy&&Dm.createUserTimingTrace(e)}var jm=function(){function t(t){this.app=t,rm.getInstance().requiredApisAvailable()&&(0,$.eu)().then((function(t){t&&(Sm||(km(5500),Sm=!0),bm().then(Mm,Mm))})).catch((function(t){em.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new Dm(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return sm.getInstance().instrumentationEnabled},set:function(t){sm.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return sm.getInstance().dataCollectionEnabled},set:function(t){sm.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new Sd.wA("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw tm.create("FB not default");if("undefined"==typeof window)throw tm.create("no window");return function(t){By=t}(window),sm.getInstance().firebaseAppInstance=t,sm.getInstance().installationsService=e,new jm(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance",Gy)}(J.Z);var Um,Vm,qm="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Um||(Um={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(Vm||(Vm={}));var zm,Bm=new Q.Yd("@firebase/analytics");function Gm(t,e,n,r,i,o){return(0,ri.mG)(this,void 0,void 0,(function(){var a,s,u,c;return(0,ri.Jh)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),Bm.error(c),[3,8];case 8:return t(Um.CONFIG,i,o),[2]}}))}))}function Wm(t,e,n,r,i){return(0,ri.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return(0,ri.Jh)(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=p.sent(),u=function(t){var n=s.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);p.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return p.sent(),t(Um.EVENT,r,i||{}),[3,5];case 4:return f=p.sent(),Bm.error(f),[3,5];case 5:return[2]}}))}))}var Hm=((zm={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",zm["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",zm["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",zm["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",zm["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",zm["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",zm["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",zm["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',zm["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',zm),Km=new $.LL("analytics","Analytics",Hm),Jm=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function Qm(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function $m(t){var e;return(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,ri.Jh)(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Qm(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw Km.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function Ym(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=Jm),(0,ri.mG)(this,void 0,void 0,(function(){var e,a,s,u,c,l,h;return(0,ri.Jh)(this,(function(f){switch(f.label){case 0:e=t.appId,a=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Xm(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return Bm.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,$m(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof $.ZR&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),a)return Bm.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,$.$s)(o,r.intervalMillis,30):(0,$.$s)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),Bm.debug("Calling attemptFetch again in "+l+" millis"),[2,Ym(t,h,n,r)];case 7:return[2]}}))}))}function Xm(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Km.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Zm=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();var tb,eb,nb={},rb=[],ib={},ob="dataLayer",ab="gtag",sb=!1;function ub(t){if(sb)throw Km.create("already-initialized");t.dataLayerName&&(ob=t.dataLayerName),t.gtagName&&(ab=t.gtagName)}function cb(t,e){!function(){var t=[];if((0,$.ru)()&&t.push("This is a browser extension environment."),(0,$.zI)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Km.create("invalid-analytics-context",{errorInfo:e});Bm.warn(n.message)}}();var n=t.options.appId;if(!n)throw Km.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Km.create("no-api-key");Bm.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=nb[n])throw Km.create("already-exists",{id:n});if(!sb){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(qm))return r}return null})()||function(t){var e=document.createElement("script");e.src=qm+"?l="+t,e.async=!0,document.head.appendChild(e)}(ob),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ob);var r=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return(0,ri.mG)(this,void 0,void 0,(function(){var s;return(0,ri.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Um.EVENT?[3,2]:[4,Wm(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==Um.CONFIG?[3,4]:[4,Gm(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(Um.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Bm.error(s),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(nb,rb,ib,ob,ab),i=r.wrappedGtag,o=r.gtagCore;eb=i,tb=o,sb=!0}return nb[n]=function(t,e,n,r,i){return(0,ri.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return(0,ri.Jh)(this,(function(f){switch(f.label){case 0:return(o=function(t,e,n){return void 0===e&&(e=Jm),(0,ri.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return(0,ri.Jh)(this,(function(c){if(n=t.options,r=n.appId,i=n.apiKey,o=n.measurementId,!r)throw Km.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw Km.create("no-api-key")}return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Zm,setTimeout((function(){return(0,ri.mG)(u,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){return s.abort(),[2]}))}))}),6e4),[2,Ym({appId:r,apiKey:i,measurementId:o},a,s,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Bm.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Bm.error(t)})),e.push(o),a=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t;return(0,ri.Jh)(this,(function(e){switch(e.label){case 0:return(0,$.hl)()?[3,1]:(Bm.warn(Km.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,$.eu)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Bm.warn(Km.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,a])];case 1:return s=f.sent(),u=s[0],c=s[1],i("js",new Date),(h={}).origin="firebase",h.update=!0,l=h,null!=c&&(l.firebase_id=c),i(Um.CONFIG,u.measurementId,l),[2,u.measurementId]}}))}))}(t,rb,ib,e,tb),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return(0,ri.mG)(this,void 0,void 0,(function(){var o,a;return(0,ri.Jh)(this,(function(s){switch(s.label){case 0:return i&&i.global?(t(Um.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=(0,ri.pi)((0,ri.pi)({},r),{send_to:o}),t(Um.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(eb,nb[n],t,e,r).catch((function(t){return Bm.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return(0,ri.mG)(this,void 0,void 0,(function(){var i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Um.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Um.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(eb,nb[n],t,e).catch((function(t){return Bm.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return(0,ri.mG)(this,void 0,void 0,(function(){var i;return(0,ri.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Um.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Um.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(eb,nb[n],t,e).catch((function(t){return Bm.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return(0,ri.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,ri.Jh)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(Um.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(Um.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(eb,nb[n],t,e).catch((function(t){return Bm.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(nb[n],t).catch((function(t){return Bm.error(t)}))},INTERNAL:{delete:function(){return delete nb[n],Promise.resolve()}}}}var lb="analytics";function hb(){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){switch(t.label){case 0:if((0,$.ru)())return[2,!1];if(!(0,$.zI)())return[2,!1];if(!(0,$.hl)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,$.eu)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new Sd.wA(lb,(function(t){return cb(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:ub,EventName:Vm,isSupported:hb})),t.INTERNAL.registerComponent(new Sd.wA("analytics-internal",(function(t){try{return{logEvent:t.getProvider(lb).getImmediate().logEvent}}catch(t){throw Km.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(J.Z);var fb,pb=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r,i,o;return(0,ri.Jh)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},t}(),db=((fb={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",fb["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",fb["registration-api-key"]="Undefined API key. Check Firebase app initialization.",fb["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",fb["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",fb["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",fb["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",fb["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",fb["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",fb["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',fb["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',fb["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",fb["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",fb),vb=new $.LL("remoteconfig","Remote Config",db),gb=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l,h,f,p,d,v,g,y,m,b;return(0,ri.Jh)(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=w.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return h=w.sent(),[3,6];case 5:throw f=w.sent(),p="fetch-client-network","AbortError"===f.name&&(p="fetch-timeout"),vb.create(p,{originalErrorMessage:f.message});case 6:if(d=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];m=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return m=w.sent(),[3,10];case 9:throw b=w.sent(),vb.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=m.entries,y=m.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===y?d=500:"NO_CHANGE"===y?d=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(g={}),304!==d&&200!==d)throw vb.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:v,config:g}]}var _}))}))},t}(),yb=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),mb=["1","true","t","yes","y","on"],bb=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&mb.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),wb=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Q.in.DEBUG;break;case"silent":this._logger.logLevel=Q.in.SILENT;break;default:this._logger.logLevel=Q.in.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e,n;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e,n,r=this;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:t=new yb,setTimeout((function(){return(0,ri.mG)(r,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof $.ZR&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return(0,ri.mG)(this,void 0,void 0,(function(){return(0,ri.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys((0,ri.pi)((0,ri.pi)({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new bb("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new bb("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new bb("static"))},t}();function _b(t,e){var n=t.target.error||void 0;return vb.create(e,{originalErrorMessage:n&&n.message})}var Eb="app_namespace_store",Ib=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(_b(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(Eb,{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([Eb],"readonly").objectStore(Eb),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(_b(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){i(vb.create("storage-get",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.set=function(t,e){return(0,ri.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,ri.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([Eb],"readwrite").objectStore(Eb),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(_b(t,"storage-set"))},u.onsuccess=function(){i()}}catch(t){o(vb.create("storage-set",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.delete=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,ri.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([Eb],"readwrite").objectStore(Eb),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(_b(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(t){i(vb.create("storage-delete",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Tb=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,ri.mG)(this,void 0,void 0,(function(){var t,e,n,r,i,o;return(0,ri.Jh)(this,(function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function Sb(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(vb.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var kb,Cb=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return(0,ri.mG)(this,void 0,void 0,(function(){var e;return(0,ri.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return(0,ri.mG)(this,void 0,void 0,(function(){var e,i,o;return(0,ri.Jh)(this,(function(a){switch(a.label){case 0:return[4,Sb(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof $.ZR&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,$.$s)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),xb="@firebase/remote-config";(kb=J.Z).INTERNAL.registerComponent(new Sd.wA("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw vb.create("registration-window");var i=n.options,o=i.projectId,a=i.apiKey,s=i.appId;if(!o)throw vb.create("registration-project-id");if(!a)throw vb.create("registration-api-key");if(!s)throw vb.create("registration-app-id");e=e||"firebase";var u=new Ib(s,n.name,e),c=new Tb(u),l=new Q.Yd(xb);l.logLevel=Q.in.ERROR;var h=new gb(r,kb.SDK_VERSION,e,o,a,s),f=new Cb(h,u),p=new pb(f,u,c,l),d=new wb(n,p,c,u,l);return d.ensureInitialized(),d}),"PUBLIC").setMultipleInstances(!0)),kb.registerVersion(xb,"0.1.30"),J.Z.registerVersion("firebase","8.2.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),J.Z.registerVersion("firebase","8.2.0");var Ab=function(){return(Ab=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Nb=function(){function t(t){this.firebaseConfig=t,this.googleAuthProvider=new J.Z.auth.GoogleAuthProvider,J.Z.initializeApp(this.firebaseConfig),this.db=J.Z.firestore()}return t.prototype.onAuthStateChanged=function(){var t=this;return new Promise((function(e,n){J.Z.auth().onAuthStateChanged((function(r){r?(t.userDocumentRef=t.db.collection("users").doc(r.uid),t.todosCollectionRef=t.userDocumentRef.collection("todos"),e(r)):n()}))}))},t.prototype.getUser=function(){return J.Z.auth().currentUser},t.prototype.login=function(){J.Z.auth().signInWithRedirect(this.googleAuthProvider)},t.prototype.getRedirectResult=function(t,e){J.Z.auth().getRedirectResult().then((function(e){t(e)})).catch((function(t){e(t)}))},t.prototype.logout=function(){return new Promise((function(t,e){J.Z.auth().signOut().then((function(e){t(e)})).catch((function(t){e(t)}))}))},t.prototype.requestTodosData=function(){var t=this,e=[];return new Promise((function(n,r){t.todosCollectionRef.get().then((function(t){t.forEach((function(t){e.push(Ab({id:t.id},t.data()))})),n(e)})).catch((function(t){r(t)}))}))},t.prototype.addTodo=function(t){var e=this;return new Promise((function(n,r){delete t.id,e.todosCollectionRef.add(t).then((function(t){n(t)}))}))},t.prototype.deleteTodo=function(t){var e=this;return new Promise((function(n,r){e.todosCollectionRef.doc(t).delete().then((function(){n("success")})).catch((function(t){r()}))}))},t.prototype.updateTodo=function(t){var e=this,n=t.id;return delete t.id,new Promise((function(r,i){e.todosCollectionRef.doc(n).set(Ab({},t)).then((function(t){r(t)}))}))},t}(),Pb=function(){return(Pb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ob=new Nb({apiKey:"AIzaSyDaZ5sHf04QcRjOG_-0K3gso23T_npEbq8",authDomain:"weyc-25e76.firebaseapp.com",projectId:"weyc-25e76",storageBucket:"weyc-25e76.appspot.com",messagingSenderId:"98811905058",appId:"1:98811905058:web:d1b0c3821913810d8ff67b",measurementId:"G-15KP31M489"}),Rb={user:null,isLoading:!0};var Db=[j,L()];const Lb=function t(e,n,r){var i;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(t)(e,n)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,a=n,s=[],u=s,c=!1;function l(){u===s&&(u=s.slice())}function h(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function f(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return l(),u.push(t),function(){if(e){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,l();var n=u.indexOf(t);u.splice(n,1),s=null}}}function p(t){if(!m(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,a=o(a,t)}finally{c=!1}for(var e=s=u,n=0;n<e.length;n++)(0,e[n])();return t}function d(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");o=t,p({type:y.REPLACE})}function g(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(h())}return n(),{unsubscribe:e(n)}}})[v.Z]=function(){return this},t}return p({type:y.INIT}),(i={dispatch:p,subscribe:f,getState:h,replaceReducer:d})[v.Z]=g,i}(function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];"function"==typeof t[i]&&(n[i]=t[i])}var o,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:y.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:y.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+y.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(t){o=t}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=t[u],h=c(l,e);if(void 0===h){var f=b(u,e);throw new Error(f)}i[u]=h,r=r||h!==l}return(r=r||a.length!==Object.keys(t).length)?i:t}}({todo:function(t,e){switch(void 0===t&&(t=K),e.type){case U:return Object.assign({},t,{isLoaded:!0});case V:return H(H({},t),{todos:e.todos});case q:return console.log(e.queryData),H(H({},t),{queryData:e.queryData});case z:var n=Object.assign({},H(H({},t.queryData),{sortKey:e.sortKey}));return H(H({},t),{queryData:n});case B:return H(H({},t),{maxDisplayNum:e.num});default:return t}},user:function(t,e){switch(void 0===t&&(t=Rb),e.type){case G:return Pb(Pb({},t),{user:e.userInfo});case W:return Pb(Pb({},t),{isLoading:e.isLoading});default:return t}}}),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return E({},n,{dispatch:r=I.apply(void 0,o)(n.dispatch)})}}}.apply(void 0,Db));function Mb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Fb(t){return"/"===t.charAt(0)}function jb(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}const Ub=function(t,e){if(!t)throw new Error("Invariant failed")};function Vb(t){return"/"===t.charAt(0)?t:"/"+t}function qb(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function zb(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function Bb(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Gb(t,e,n,r){var i;"string"==typeof t?(i=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(i=T({},t)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],i=e&&e.split("/")||[],o=t&&Fb(t),a=e&&Fb(e),s=o||a;if(t&&Fb(t)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var h=i[l];"."===h?jb(i,l):".."===h?(jb(i,l),c++):c&&(jb(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&Fb(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Wb(){var t=null,e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"==typeof t?t(e,n):t;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var Hb=!("undefined"==typeof window||!window.document||!window.document.createElement);function Kb(t,e){e(window.confirm(t))}var Jb="popstate",Qb="hashchange";function $b(){try{return window.history.state||{}}catch(t){return{}}}function Yb(t){void 0===t&&(t={}),Hb||Ub(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=t,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,u=void 0===s?Kb:s,c=i.keyLength,l=void 0===c?6:c,h=t.basename?zb(Vb(t.basename)):"";function f(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return h&&(o=qb(o,h)),Gb(o,r,n)}function p(){return Math.random().toString(36).substr(2,l)}var d=Wb();function v(t){T(x,t),x.length=e.length,d.notifyListeners(x.location,x.action)}function g(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||b(f(t.state))}function y(){b(f($b()))}var m=!1;function b(t){m?(m=!1,v()):d.confirmTransitionTo(t,"POP",u,(function(e){e?v({action:"POP",location:t}):function(t){var e=x.location,n=_.indexOf(e.key);-1===n&&(n=0);var r=_.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(m=!0,I(i))}(t)}))}var w=f($b()),_=[w.key];function E(t){return h+Bb(t)}function I(t){e.go(t)}var S=0;function k(t){1===(S+=t)&&1===t?(window.addEventListener(Jb,g),r&&window.addEventListener(Qb,y)):0===S&&(window.removeEventListener(Jb,g),r&&window.removeEventListener(Qb,y))}var C=!1,x={length:e.length,action:"POP",location:w,createHref:E,push:function(t,r){var i="PUSH",o=Gb(t,r,p(),x.location);d.confirmTransitionTo(o,i,u,(function(t){if(t){var r=E(o),s=o.key,u=o.state;if(n)if(e.pushState({key:s,state:u},null,r),a)window.location.href=r;else{var c=_.indexOf(x.location.key),l=_.slice(0,c+1);l.push(o.key),_=l,v({action:i,location:o})}else window.location.href=r}}))},replace:function(t,r){var i="REPLACE",o=Gb(t,r,p(),x.location);d.confirmTransitionTo(o,i,u,(function(t){if(t){var r=E(o),s=o.key,u=o.state;if(n)if(e.replaceState({key:s,state:u},null,r),a)window.location.replace(r);else{var c=_.indexOf(x.location.key);-1!==c&&(_[c]=o.key),v({action:i,location:o})}else window.location.replace(r)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(t){void 0===t&&(t=!1);var e=d.setPrompt(t);return C||(k(1),C=!0),function(){return C&&(C=!1,k(-1)),e()}},listen:function(t){var e=d.appendListener(t);return k(1),function(){k(-1),e()}}};return x}var Xb=1073741823,Zb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function tw(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}const ew=t.createContext||function(e,n){var r,o,a,s="__create-react-context-"+((Zb[a="__global_unique_id__"]=(Zb[a]||0)+1)+"__"),u=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).emitter=tw(e.props.value),e}Mb(e,t);var r=e.prototype;return r.getChildContext=function(){var t;return(t={})[s]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var e,r=this.props.value,i=t.value;!function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}(r,i)?(e="function"==typeof n?n(r,i):Xb,0!=(e|=0)&&this.emitter.set(t.value,e)):e=0}},r.render=function(){return this.props.children},e}(t.Component);u.childContextTypes=((r={})[s]=i().object.isRequired,r);var c=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Mb(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?Xb:e},r.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?Xb:t},r.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},r.getValue=function(){return this.context[s]?this.context[s].get():e},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(t.Component);return c.contextTypes=((o={})[s]=i().object,o),{Provider:u,Consumer:c}};var nw=n(658),rw=n.n(nw);function iw(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var ow=function(t){var e=ew();return e.displayName="Router-History",e}(),aw=function(t){var e=ew();return e.displayName="Router",e}(),sw=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Mb(n,e),n.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(aw.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(ow.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component,t.Component;var uw={},cw=0;function lw(t,e){void 0===e&&(e={}),("string"==typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=uw[n]||(uw[n]={});if(r[t])return r[t];var i=[],o={regexp:rw()(t,i,e),keys:i};return cw<1e4&&(r[t]=o,cw++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],h=u.slice(1),f=t===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(t,e,n){return t[e.name]=h[n],t}),{})}}),null)}var hw=function(e){function n(){return e.apply(this,arguments)||this}return Mb(n,e),n.prototype.render=function(){var e=this;return t.createElement(aw.Consumer,null,(function(n){n||Ub(!1);var r=e.props.location||n.location,i=T({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?lw(r.pathname,e.props):n.match}),o=e.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&0===a.length&&(a=null),t.createElement(aw.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?t.createElement(s,i):u?u(i):null:"function"==typeof a?a(i):null)}))},n}(t.Component);t.Component;var fw=function(e){function n(){return e.apply(this,arguments)||this}return Mb(n,e),n.prototype.render=function(){var e=this;return t.createElement(aw.Consumer,null,(function(n){n||Ub(!1);var r,i,o=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var a=e.props.path||e.props.from;i=a?lw(o.pathname,T({},e.props,{path:a})):n.match}})),i?t.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(t.Component),pw=t.useContext,dw=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Yb(t.props),t}return Mb(n,e),n.prototype.render=function(){return t.createElement(sw,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var vw=function(t,e){return"function"==typeof t?t(e):t},gw=function(t,e){return"string"==typeof t?Gb(t,null,null,e):t},yw=function(t){return t},mw=t.forwardRef;void 0===mw&&(mw=yw);var bw=mw((function(e,n){var r=e.innerRef,i=e.navigate,o=e.onClick,a=iw(e,["innerRef","navigate","onClick"]),s=a.target,u=T({},a,{onClick:function(t){try{o&&o(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),i())}});return u.ref=yw!==mw&&n||r,t.createElement("a",u)})),ww=mw((function(e,n){var r=e.component,i=void 0===r?bw:r,o=e.replace,a=e.to,s=e.innerRef,u=iw(e,["component","replace","to","innerRef"]);return t.createElement(aw.Consumer,null,(function(e){e||Ub(!1);var r=e.history,c=gw(vw(a,e.location),e.location),l=c?r.createHref(c):"",h=T({},u,{href:l,navigate:function(){var t=vw(a,e.location);(o?r.replace:r.push)(t)}});return yw!==mw?h.ref=n||s:h.innerRef=s,t.createElement(i,h)}))})),_w=function(t){return t},Ew=t.forwardRef;void 0===Ew&&(Ew=_w),Ew((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,o=e.activeClassName,a=void 0===o?"active":o,s=e.activeStyle,u=e.className,c=e.exact,l=e.isActive,h=e.location,f=e.sensitive,p=e.strict,d=e.style,v=e.to,g=e.innerRef,y=iw(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(aw.Consumer,null,(function(e){e||Ub(!1);var r=h||e.location,o=gw(vw(v,r),r),m=o.pathname,b=m&&m.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?lw(r.pathname,{path:b,exact:c,sensitive:f,strict:p}):null,_=!!(l?l(w,r):w),E=_?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(u,a):u,I=_?T({},d,{},s):d,S=T({"aria-current":_&&i||null,className:E,style:I,to:o},y);return _w!==Ew?S.ref=n||g:S.innerRef=g,t.createElement(ww,S)}))}));var Iw=[{label:"10",value:10},{label:"25",value:25},{label:"50",value:50},{label:"100",value:100}],Tw=function(){function t(){}return t.formatDate=function(t){return t.getFullYear()+"-"+("00"+(t.getMonth()+1)).slice(-2)+"-"+("00"+t.getDate()).slice(-2)},t}(),Sw=n(774),kw=n.n(Sw);const Cw=function(t){function e(t,r,u,c,f){for(var p,d,v,g,w,E=0,I=0,T=0,S=0,k=0,O=0,D=v=p=0,M=0,F=0,j=0,U=0,V=u.length,q=V-1,z="",B="",G="",W="";M<V;){if(d=u.charCodeAt(M),M===q&&0!==I+S+T+E&&(0!==I&&(d=47===I?10:47),S=T=E=0,V++,q++),0===I+S+T+E){if(M===q&&(0<F&&(z=z.replace(h,"")),0<z.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(M)}d=59}switch(d){case 123:for(p=(z=z.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(d=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(d=u.charCodeAt(M+1)){case 42:case 47:t:{for(D=M+1;D<q;++D)switch(u.charCodeAt(D)){case 47:if(42===d&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break t}break;case 10:if(47===d){M=D+1;break t}}M=D}}break;case 91:d++;case 40:d++;case 34:case 39:for(;M++<q&&u.charCodeAt(M)!==d;);}if(0===v)break;M++}switch(v=u.substring(U,M),0===p&&(p=(z=z.replace(l,"").trim()).charCodeAt(0)),p){case 64:switch(0<F&&(z=z.replace(h,"")),d=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=P}if(U=(v=e(r,F,v,d,f+1)).length,0<R&&(w=s(3,v,F=n(P,z,j),r,x,C,U,d,f,c),z=F.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(d=0,v="")),0<U)switch(d){case 115:z=z.replace(_,a);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(B+=v,v="")}else v="";break;default:v=e(r,n(r,z,j),v,c,f+1)}G+=v,v=j=F=D=p=0,z="",d=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(z=(0<F?z.replace(h,""):z).trim()).length))switch(0===D&&(p=z.charCodeAt(0),45===p||96<p&&123>p)&&(U=(z=z.replace(" ",":")).length),0<R&&void 0!==(w=s(1,z,r,t,x,C,B.length,c,f,c))&&0===(U=(z=w.trim()).length)&&(z="\0\0"),p=z.charCodeAt(0),d=z.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){W+=z+u.charAt(M);break}default:58!==z.charCodeAt(U-1)&&(B+=i(z,p,d,z.charCodeAt(2)))}j=F=D=p=0,z="",d=u.charCodeAt(++M)}}switch(d){case 13:case 10:47===I?I=0:0===1+p&&107!==c&&0<z.length&&(F=1,z+="\0"),0<R*L&&s(0,z,r,t,x,C,B.length,c,f,c),C=1,x++;break;case 59:case 125:if(0===I+S+T+E){C++;break}default:switch(C++,g=u.charAt(M),d){case 9:case 32:if(0===S+E+I)switch(k){case 44:case 58:case 9:case 32:g="";break;default:32!==d&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===S+I+E&&(F=j=1,g="\f"+g);break;case 108:if(0===S+I+E+A&&0<D)switch(M-D){case 2:112===k&&58===u.charCodeAt(M-3)&&(A=k);case 8:111===O&&(A=O)}break;case 58:0===S+I+E&&(D=M);break;case 44:0===I+T+S+E&&(F=1,g+="\r");break;case 34:case 39:0===I&&(S=S===d?0:0===S?d:S);break;case 91:0===S+I+T&&E++;break;case 93:0===S+I+T&&E--;break;case 41:0===S+I+E&&T--;break;case 40:if(0===S+I+E){if(0===p)switch(2*k+3*O){case 533:break;default:p=1}T++}break;case 64:0===I+T+S+E+D+v&&(v=1);break;case 42:case 47:if(!(0<S+E+T))switch(I){case 0:switch(2*d+3*u.charCodeAt(M+1)){case 235:I=47;break;case 220:U=M,I=42}break;case 42:47===d&&42===k&&U+2!==M&&(33===u.charCodeAt(U+2)&&(B+=u.substring(U,M+1)),g="",I=0)}}0===I&&(z+=g)}O=k,k=d,M++}if(0<(U=B.length)){if(F=r,0<R&&void 0!==(w=s(2,B,F,t,x,C,U,c,f,c))&&0===(B=w).length)return W+B+G;if(B=F.join(",")+"{"+B+"}",0!=N*A){switch(2!==N||o(B,2)||(A=0),A){case 111:B=B.replace(b,":-moz-$1")+B;break;case 112:B=B.replace(m,"::-webkit-input-$1")+B.replace(m,"::-moz-$1")+B.replace(m,":-ms-input-$1")+B}A=0}}return W+B+G}function n(t,e,n){var i=e.trim().split(v);e=i;var o=i.length,a=t.length;switch(a){case 0:case 1:var s=0;for(t=0===a?"":t[0]+" ";s<o;++s)e[s]=r(t,e[s],n).trim();break;default:var u=s=0;for(e=[];s<o;++s)for(var c=0;c<a;++c)e[u++]=r(t[c]+" ",i[s],n).trim()}return e}function r(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(g,"$1"+t.trim());case 58:return t.trim()+e.replace(g,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(g,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function i(t,e,n,r){var a=t+";",s=2*e+3*n+4*r;if(944===s){t=a.indexOf(":",9)+1;var u=a.substring(t,a.length-1).trim();return u=a.substring(0,t).trim()+u+";",1===N||2===N&&o(u,1)?"-webkit-"+u+u:u}if(0===N||2===N&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(k,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return p.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(e=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(e)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,s=(u=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(I,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(I,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(t))return 115===(u=t.substring(t.indexOf(":")+1)).charCodeAt(0)?i(t.replace("stretch","fill-available"),e,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+a}return a}function o(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),D(2!==e?r:r.replace(T,"$1"),n,e)}function a(t,e){var n=i(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(E," or ($1)").substring(4):"("+e+")"}function s(t,e,n,r,i,o,a,s,u,l){for(var h,f=0,p=e;f<R;++f)switch(h=O[f].call(c,t,p,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==e)return p}function u(t){return void 0!==(t=t.prefix)&&(D=null,t?"function"!=typeof t?N=1:(N=2,D=t):N=0),u}function c(t,n){var r=t;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,x,C,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=e(P,r,n,0,0);return 0<R&&void 0!==(i=s(-2,o,r,r,x,C,o.length,0,0,0))&&(o=i),A=0,C=x=1,o}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,I=/-self|flex-/g,T=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,C=1,x=1,A=0,N=1,P=[],O=[],R=0,D=null,L=0;return c.use=function t(e){switch(e){case void 0:case null:R=O.length=0;break;default:if("function"==typeof e)O[R++]=e;else if("object"==typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else L=0|!!e}return t},c.set=u,void 0!==t&&u(t),c},xw={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Aw=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const Nw=(Pw={},function(t){return void 0===Pw[t]&&(Pw[t]=(e=t,Aw.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91)),Pw[t];var e});var Pw;function Ow(){return(Ow=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Rw=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},Dw=function(t){return null!==t&&"object"==typeof t&&"[object Object]"===(t.toString?t.toString():Object.prototype.toString.call(t))&&!(0,p.typeOf)(t)},Lw=Object.freeze([]),Mw=Object.freeze({});function Fw(t){return"function"==typeof t}function jw(t){return t.displayName||t.name||"Component"}function Uw(t){return t&&"string"==typeof t.styledComponentId}var Vw="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",qw="undefined"!=typeof window&&"HTMLElement"in window,zw=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY),Bw={};function Gw(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Ww=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=t.prototype;return e.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},e.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;t>=i;)(i<<=1)<0&&Gw(16,""+t);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),s=0,u=e.length;s<u;s++)this.tag.insertRule(a,e[s])&&(this.groupSizes[t]++,a++)},e.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),r=n+e;this.groupSizes[t]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n,o=r;o<i;o++)e+=this.tag.getRule(o)+"/*!sc*/\n";return e},t}(),Hw=new Map,Kw=new Map,Jw=1,Qw=function(t){if(Hw.has(t))return Hw.get(t);for(;Kw.has(Jw);)Jw++;var e=Jw++;return Hw.set(t,e),Kw.set(e,t),e},$w=function(t){return Kw.get(t)},Yw=function(t,e){Hw.set(t,e),Kw.set(e,t)},Xw="style["+Vw+'][data-styled-version="5.2.1"]',Zw=new RegExp("^"+Vw+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),t_=function(t,e,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&t.registerName(e,r)},e_=function(t,e){for(var n=e.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(Zw);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(Yw(c,u),t_(t,c,s[3]),t.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},n_=function(){return n.nc},r_=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(t){for(var e=t.childNodes,n=e.length;n>=0;n--){var r=e[n];if(r&&1===r.nodeType&&r.hasAttribute(Vw))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(Vw,"active"),r.setAttribute("data-styled-version","5.2.1");var a=n_();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},i_=function(){function t(t){var e=this.element=r_(t);e.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,n=0,r=e.length;n<r;n++){var i=e[n];if(i.ownerNode===t)return i}Gw(17)}(e),this.length=0}var e=t.prototype;return e.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var e=this.sheet.cssRules[t];return void 0!==e&&"string"==typeof e.cssText?e.cssText:""},t}(),o_=function(){function t(t){var e=this.element=r_(t);this.nodes=e.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e),r=this.nodes[t];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),a_=function(){function t(t){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),s_=qw,u_={isServer:!qw,useCSSOMInjection:!zw},c_=function(){function t(t,e,n){void 0===t&&(t=Mw),void 0===e&&(e={}),this.options=Ow({},u_,{},t),this.gs=e,this.names=new Map(n),!this.options.isServer&&qw&&s_&&(s_=!1,function(t){for(var e=document.querySelectorAll(Xw),n=0,r=e.length;n<r;n++){var i=e[n];i&&"active"!==i.getAttribute(Vw)&&(e_(t,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}t.registerId=function(t){return Qw(t)};var e=t.prototype;return e.reconstructWithOptions=function(e,n){return void 0===n&&(n=!0),new t(Ow({},this.options,{},e),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(n=(e=this.options).isServer,r=e.useCSSOMInjection,i=e.target,t=n?new a_(i):r?new i_(i):new o_(i),new Ww(t)));var t,e,n,r,i},e.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},e.registerName=function(t,e){if(Qw(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},e.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(Qw(t),n)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(Qw(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var e=t.getTag(),n=e.length,r="",i=0;i<n;i++){var o=$w(i);if(void 0!==o){var a=t.names.get(o),s=e.getGroup(i);if(void 0!==a&&0!==s.length){var u=Vw+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(t){t.length>0&&(c+=t+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},t}(),l_=/(a)(d)/gi,h_=function(t){return String.fromCharCode(t+(t>25?39:97))};function f_(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=h_(e%52)+n;return(h_(e%52)+n).replace(l_,"$1-$2")}var p_=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},d_=function(t){return p_(5381,t)};function v_(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Fw(n)&&!Uw(n))return!1}return!0}var g_=d_("5.2.1"),y_=function(){function t(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&v_(t),this.componentId=e,this.baseHash=p_(g_,e),this.baseStyle=n,c_.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,e,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=L_(this.rules,t,e,n).join(""),a=f_(p_(this.baseHash,o.length)>>>0);if(!e.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);e.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=p_(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var p=L_(f,t,e,n),d=Array.isArray(p)?p.join(""):p;c=p_(c,d+h),l+=d}}if(l){var v=f_(c>>>0);if(!e.hasNameForId(r,v)){var g=n(l,"."+v,void 0,r);e.insertRules(r,v,g)}i.push(v)}}return i.join(" ")},t}(),m_=/^\s*\/\/.*$/gm,b_=[":","[",".","#"];function w_(t){var e,n,r,i,o=void 0===t?Mw:t,a=o.options,s=void 0===a?Mw:a,u=o.plugins,c=void 0===u?Lw:u,l=new Cw(s),h=[],f=function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return t(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return t(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(e)}}}((function(t){h.push(t)})),p=function(t,r,o){return 0===r&&b_.includes(o[n.length])||o.match(i)?t:"."+e};function d(t,o,a,s){void 0===s&&(s="&");var u=t.replace(m_,""),c=o&&a?a+" "+o+" { "+u+" }":u;return e=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(a||!o?"":o,c)}return l.use([].concat(c,[function(t,e,i){2===t&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},f,function(t){if(-2===t){var e=h;return h=[],e}}])),d.hash=c.length?c.reduce((function(t,e){return e.name||Gw(15),p_(t,e.name)}),5381).toString():"",d}var __=t.createContext(),E_=(__.Consumer,t.createContext()),I_=(E_.Consumer,new c_),T_=w_();function S_(){return(0,t.useContext)(__)||I_}function k_(){return(0,t.useContext)(E_)||T_}function C_(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],o=S_(),a=(0,t.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,t.useMemo)((function(){return w_({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){kw()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(__.Provider,{value:a},t.createElement(E_.Provider,{value:s},e.children))}var x_=function(){function t(t,e){var n=this;this.inject=function(t,e){void 0===e&&(e=T_);var r=n.name+e.hash;t.hasNameForId(n.id,r)||t.insertRules(n.id,r,e(n.rules,r,"@keyframes"))},this.toString=function(){return Gw(12,String(n.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=e}return t.prototype.getName=function(t){return void 0===t&&(t=T_),this.name+t.hash},t}(),A_=/([A-Z])/,N_=/([A-Z])/g,P_=/^ms-/,O_=function(t){return"-"+t.toLowerCase()};function R_(t){return A_.test(t)?t.replace(N_,O_).replace(P_,"-ms-"):t}var D_=function(t){return null==t||!1===t||""===t};function L_(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],a=0,s=t.length;a<s;a+=1)""!==(i=L_(t[a],e,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return D_(t)?"":Uw(t)?"."+t.styledComponentId:Fw(t)?"function"!=typeof(u=t)||u.prototype&&u.prototype.isReactComponent||!e?t:L_(t(e),e,n,r):t instanceof x_?n?(t.inject(n,r),t.getName(r)):t:Dw(t)?function t(e,n){var r,i,o=[];for(var a in e)e.hasOwnProperty(a)&&!D_(e[a])&&(Dw(e[a])?o.push.apply(o,t(e[a],a)):Fw(e[a])?o.push(R_(a)+":",e[a],";"):o.push(R_(a)+": "+(r=a,(null==(i=e[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in xw?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(t):t.toString();var u}function M_(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Fw(t)||Dw(t)?L_(Rw(Lw,[t].concat(n))):0===n.length&&1===t.length&&"string"==typeof t[0]?t:L_(Rw(t,n))}new Set;var F_=function(t,e,n){return void 0===n&&(n=Mw),t.theme!==n.theme&&t.theme||e||n.theme},j_=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,U_=/(^-|-$)/g;function V_(t){return t.replace(j_,"-").replace(U_,"")}var q_=function(t){return f_(d_(t)>>>0)};function z_(t){return"string"==typeof t&&!0}var B_=function(t){return"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},G_=function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t};function W_(t,e,n){var r=t[n];B_(e)&&B_(r)?H_(r,e):t[n]=e}function H_(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(B_(a))for(var s in a)G_(s)&&W_(t,a[s],s)}return t}var K_=t.createContext();K_.Consumer;var J_={};function Q_(e,n,r){var i=Uw(e),o=!z_(e),a=n.attrs,s=void 0===a?Lw:a,u=n.componentId,c=void 0===u?function(t,e){var n="string"!=typeof t?"sc":V_(t);J_[n]=(J_[n]||0)+1;var r=n+"-"+q_("5.2.1"+n+J_[n]);return e?e+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,h=void 0===l?function(t){return z_(t)?"styled."+t:"Styled("+jw(t)+")"}(e):l,p=n.displayName&&n.componentId?V_(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,v=n.shouldForwardProp;i&&e.shouldForwardProp&&(v=n.shouldForwardProp?function(t,r){return e.shouldForwardProp(t,r)&&n.shouldForwardProp(t,r)}:e.shouldForwardProp);var g,y=new y_(r,p,i?e.componentStyle:void 0),m=y.isStatic&&0===s.length,b=function(e,n){return function(e,n,r,i){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,h=e.target,f=function(t,e,n){void 0===t&&(t=Mw);var r=Ow({},e,{theme:t}),i={};return n.forEach((function(t){var e,n,o,a=t;for(e in Fw(a)&&(a=a(r)),a)r[e]=i[e]="className"===e?(n=i[e],o=a[e],n&&o?n+" "+o:n||o):a[e]})),[r,i]}(F_(n,(0,t.useContext)(K_),s)||Mw,n,o),p=f[0],d=f[1],v=function(t,e,n,r){var i=S_(),o=k_();return e?t.generateAndInjectStyles(Mw,i,o):t.generateAndInjectStyles(n,i,o)}(a,i,p),g=r,y=d.$as||n.$as||d.as||n.as||h,m=z_(y),b=d!==n?Ow({},n,{},d):n,w={};for(var _ in b)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?w.as=b[_]:(c?c(_,Nw):!m||Nw(_))&&(w[_]=b[_]));return n.style&&d.style!==n.style&&(w.style=Ow({},n.style,{},d.style)),w.className=Array.prototype.concat(u,l,v!==l?v:null,n.className,d.className).filter(Boolean).join(" "),w.ref=g,(0,t.createElement)(y,w)}(g,e,n,m)};return b.displayName=h,(g=t.forwardRef(b)).attrs=d,g.componentStyle=y,g.displayName=h,g.shouldForwardProp=v,g.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Lw,g.styledComponentId=p,g.target=i?e.target:e,g.withComponent=function(t){var e=n.componentId,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(n,["componentId"]),o=e&&e+"-"+(z_(t)?t:V_(jw(t)));return Q_(t,Ow({},i,{attrs:d,componentId:o}),r)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?H_({},e.defaultProps,t):t}}),g.toString=function(){return"."+g.styledComponentId},o&&f()(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var $_=function(t){return function t(e,n,r){if(void 0===r&&(r=Mw),!(0,p.isValidElementType)(n))return Gw(1,String(n));var i=function(){return e(n,r,M_.apply(void 0,arguments))};return i.withConfig=function(i){return t(e,n,Ow({},r,{},i))},i.attrs=function(i){return t(e,n,Ow({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Q_,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){$_[t]=$_(t)}));var Y_=function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=v_(t),c_.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(t,e,n,r){var i=r(L_(this.rules,e,n,r).join(""),""),o=this.componentId+t;n.insertRules(o,o,i)},e.removeStyles=function(t,e){e.clearRules(this.componentId+t)},e.renderStyles=function(t,e,n,r){t>2&&c_.registerId(this.componentId+t),this.removeStyles(t,n),this.createStyles(t,e,n,r)},t}();!function(){var e=function(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=n_();return"<style "+[n&&'nonce="'+n+'"',Vw+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Gw(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return Gw(2);var r=((n={})[Vw]="",n["data-styled-version"]="5.2.1",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=n_();return i&&(r.nonce=i),[t.createElement("style",Ow({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new c_({isServer:!0}),this.sealed=!1}.prototype;e.collectStyles=function(e){return this.sealed?Gw(2):t.createElement(C_,{sheet:this.instance},e)},e.interleaveWithNodeStream=function(t){return Gw(3)}}();const X_=$_;var Z_,tE,eE,nE=function(){return function(t){Ob.onAuthStateChanged().then((function(e){t(iE({displayName:e.displayName,uid:e.uid}))})).catch((function(){t(rE(!1))}))}},rE=function(t){return{type:W,isLoading:t}},iE=function(t){return{type:G,userInfo:t}},oE=function(){return function(t,e){Ob.requestTodosData().then((function(e){t(sE(e)),t(aE())})).catch((function(t){}))}},aE=function(){return{type:U}},sE=function(t){return{type:V,todos:t}},uE=function(t){return{type:q,queryData:t}},cE=X_.div(Z_||(tE=["\n  display: flex;\n  padding: 10px;\n  background: #333;\n  border-radius: 3px;\n  color: #fff;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n"],eE=["\n  display: flex;\n  padding: 10px;\n  background: #333;\n  border-radius: 3px;\n  color: #fff;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n"],Object.defineProperty?Object.defineProperty(tE,"raw",{value:eE}):tE.raw=eE,Z_=tE)),lE=cE.withComponent("button");const hE=function(e){var n=e.onClick,r=e.children;return t.createElement(lE,{onClick:n},r)};var fE=X_.div(dE||(dE=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}(["\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 100;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(255, 255, 255, .8);\n"],["\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 100;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(255, 255, 255, .8);\n"])));const pE=function(){return t.createElement(fE,null,"Loading...")};var dE,vE=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},gE=X_.div(bE||(bE=vE(["\n  display: block;\n"],["\n  display: block;\n"]))),yE=X_.div(wE||(wE=vE(["\n  width: 80%;\n  margin: 40px auto 0;\n"],["\n  width: 80%;\n  margin: 40px auto 0;\n"])));const mE=function(){var e=(0,t.useRef)(!0),n=A(),r=pw(ow),i=R((function(t){return t.user.user})),o=R((function(t){return t.user.isLoading}));return(0,t.useEffect)((function(){null!==i?r.push("/"):e.current?(e.current=!1,n(nE())):n(rE(!1))})),t.createElement(gE,null,function(){if(o)return t.createElement(pE,null)}(),t.createElement(yE,null,t.createElement(hE,{onClick:function(){n((function(){Ob.login()}))}},"Google ")))};var bE,wE,_E=n(486),EE=n.n(_E),IE=X_.div(SE||(SE=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}(["\n  display: block;\n  font-size: 1rem;\n"],["\n  display: block;\n  font-size: 1rem;\n"])));const TE=function(e){var n=e.date;return t.createElement(IE,null,n)};var SE,kE=X_.p(xE||(xE=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}(["\n  display: block;\n"],["\n  display: block;\n"])));const CE=function(e){var n=e.todoName;return t.createElement(kE,null,n)};var xE,AE=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},NE=X_.div(RE||(RE=AE(["\n  display: block;\n"],["\n  display: block;\n"]))),PE=X_.input(DE||(DE=AE(["\n  display: block;\n"],["\n  display: block;\n"])));const OE=function(e){var n=e.isChecked,r=e.id,i=e.changeEvent;return t.createElement(NE,null,t.createElement(PE,{type:"checkbox",checked:n,onChange:function(){i&&i()},id:r}))};var RE,DE,LE=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ME=X_.label(VE||(VE=LE(["\n  display: flex;\n  align-items: center;\n  align-content: center;\n  input{\n    display: none;\n  }\n"],["\n  display: flex;\n  align-items: center;\n  align-content: center;\n  input{\n    display: none;\n  }\n"]))),FE=X_.span(qE||(qE=LE(["\n  position: relative;\n  display: block;\n  width: 20px;\n  height: 20px;\n  border: 2px solid #333;\n  border-radius: 50%;\n  &:before{\n    display: ",";\n    content: '';\n    position: absolute;\n    top: 40%;\n    left: 50%;\n    transform: translate(-50%, -50%) rotate(45deg);\n    width: 50%;\n    height: 80%;\n    border-right: 3px solid #333;\n    border-bottom: 3px solid #333;\n  }\n"],["\n  position: relative;\n  display: block;\n  width: 20px;\n  height: 20px;\n  border: 2px solid #333;\n  border-radius: 50%;\n  &:before{\n    display: ",";\n    content: '';\n    position: absolute;\n    top: 40%;\n    left: 50%;\n    transform: translate(-50%, -50%) rotate(45deg);\n    width: 50%;\n    height: 80%;\n    border-right: 3px solid #333;\n    border-bottom: 3px solid #333;\n  }\n"])),(function(t){return t.isChecked?"block":"none"})),jE=X_.span(zE||(zE=LE(["\n  display: inline-block;\n  margin-left: .5em;\n"],["\n  display: inline-block;\n  margin-left: .5em;\n"])));const UE=function(e){var n=e.forText,r=e.isChecked,i=e.children,o=e.text;return t.createElement(ME,{htmlFor:n},t.createElement(FE,{isChecked:r}),i,function(){if(o)return t.createElement(jE,null,o)}())};var VE,qE,zE,BE=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},GE=X_.button(KE||(KE=BE(["\n  display: block;\n  width: 25px;\n  height: 25px;\n  background: #333;\n  border-radius: 50%;\n  overflow: hidden;\n"],["\n  display: block;\n  width: 25px;\n  height: 25px;\n  background: #333;\n  border-radius: 50%;\n  overflow: hidden;\n"]))),WE=X_.span(JE||(JE=BE(["\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 100%;\n  &:before,\n  &:after{\n    content: '';\n    position: absolute;\n    display: block;\n    width: 50%;\n    height: 1px;\n    background: #fff;\n    top: 50%;\n    left: 50%;\n  }\n  &:before{\n    transform: translate(-50%, -50%) rotate(-45deg);\n  }\n  &:after{\n    transform: translate(-50%, -50%) rotate(45deg);\n  }\n"],["\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 100%;\n  &:before,\n  &:after{\n    content: '';\n    position: absolute;\n    display: block;\n    width: 50%;\n    height: 1px;\n    background: #fff;\n    top: 50%;\n    left: 50%;\n  }\n  &:before{\n    transform: translate(-50%, -50%) rotate(-45deg);\n  }\n  &:after{\n    transform: translate(-50%, -50%) rotate(45deg);\n  }\n"])));const HE=function(e){var n=e.clickFunc;return t.createElement(GE,{onClick:n},t.createElement(WE,null))};var KE,JE,QE=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},$E=X_.div(tI||(tI=QE(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 100;\n  width: 100vw;\n  height: 100vh;\n"],["\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 100;\n  width: 100vw;\n  height: 100vh;\n"]))),YE=X_.div(eI||(eI=QE(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 99;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, .8);\n"],["\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 99;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, .8);\n"]))),XE=X_.div(nI||(nI=QE(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 100;\n  transform: translate(-50%, -50%);\n  background: #fff;\n  width: 80%;\n  padding: 20px;\n  border-radius: 5px;\n"],["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 100;\n  transform: translate(-50%, -50%);\n  background: #fff;\n  width: 80%;\n  padding: 20px;\n  border-radius: 5px;\n"])));const ZE=function(e){var n=e.funcToClose,r=e.children;return t.createElement($E,null,t.createElement(YE,{onClick:n}),t.createElement(XE,null,r))};var tI,eI,nI,rI,iI,oI=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},aI=X_.div(rI||(rI=oI(["\n  display: block;\n  height: calc(2.4em + 4px);\n  border-radius: calc(1.2em + 2px);\n  border: 2px solid #333;\n  overflow: hidden;\n  background: #fff;\n"],["\n  display: block;\n  height: calc(2.4em + 4px);\n  border-radius: calc(1.2em + 2px);\n  border: 2px solid #333;\n  overflow: hidden;\n  background: #fff;\n"]))),sI=X_.input(iI||(iI=oI(["\n  display: block;\n  width: 100%;\n  height: 100%;\n  line-height: 2.4em;\n  padding: 0 1em;\n"],["\n  display: block;\n  width: 100%;\n  height: 100%;\n  line-height: 2.4em;\n  padding: 0 1em;\n"]))),uI=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},cI=X_(aI)(fI||(fI=uI([""],[""]))),lI=X_(sI)(pI||(pI=uI(["\n  font-size: 1.6rem;\n  height: 100%;\n"],["\n  font-size: 1.6rem;\n  height: 100%;\n"])));const hI=function(e){var n=e.text,r=e.onChange,i=e.placeholder;return t.createElement(cI,null,t.createElement(lI,{type:"text",value:n,placeholder:i,onChange:function(t){r(t.target.value)}}))};var fI,pI,dI=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},vI=X_(aI)(yI||(yI=dI([""],[""])));X_(sI)(mI||(mI=dI(["\n  font-size: 1.6rem;\n  height: 100%;\n  width: 100%;\n  display: block;\n"],["\n  font-size: 1.6rem;\n  height: 100%;\n  width: 100%;\n  display: block;\n"])));const gI=function(e){var n=e.date,r=e.onChange,i=e.min,o=e.max;return t.createElement(vI,null,t.createElement(sI,{type:"date",value:n,onChange:function(t){r(t.target.value)},min:i,max:o}))};var yI,mI,bI=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},wI=X_.div(kI||(kI=bI(["\n  display: block;\n"],["\n  display: block;\n"]))),_I=X_.div(CI||(CI=bI(["\n  margin-bottom: 8px;\n  span{\n    display: block;\n    margin-bottom: 3px;\n  }\n"],["\n  margin-bottom: 8px;\n  span{\n    display: block;\n    margin-bottom: 3px;\n  }\n"]))),EI=X_.span(xI||(xI=bI(["\n  padding-left: 5px;\n"],["\n  padding-left: 5px;\n"]))),II=X_.div(AI||(AI=bI(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n  margin-top: 15px;\n"],["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n  margin-top: 15px;\n"]))),TI=X_.div(NI||(NI=bI(["\n  margin-top: 20px;\n"],["\n  margin-top: 20px;\n"])));const SI=function(e){var n=e.id,r=e.limit,i=e.name,o=e.isDone,a=e.onUpdateFunc,s=A(),u=(0,t.useState)(i),c=u[0],l=u[1],h=(0,t.useState)(r),f=h[0],p=h[1],d=(0,t.useState)(o),v=d[0],g=d[1];return t.createElement(wI,null,t.createElement(_I,null,t.createElement(EI,null,"Title:"),t.createElement(hI,{text:c,onChange:function(t){l(t)}})),t.createElement(_I,null,t.createElement(EI,null,"Limit:"),t.createElement(gI,{date:f,onChange:function(t){p(t)}})),t.createElement(II,null,t.createElement(UE,{forText:n+"_edit",isChecked:v,text:v?"DONE":"UNDONE"},t.createElement(OE,{isChecked:v,id:n+"_edit",changeEvent:function(){g(!v)}}))),t.createElement(TI,null,t.createElement(hE,{onClick:function(){var t;s((t={id:n,limit:f,name:c,isDone:v},function(e){Ob.updateTodo(t).then((function(){e(oE())}))})),a()}},"UPDATE")))};var kI,CI,xI,AI,NI,PI=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},OI=X_.div(qI||(qI=PI(["\n  display: block;\n  width: 100%;\n  position: relative;\n  background: #fff;\n"],["\n  display: block;\n  width: 100%;\n  position: relative;\n  background: #fff;\n"]))),RI=X_.div(zI||(zI=PI(["\n  opacity: ",";\n"],["\n  opacity: ",";\n"])),(function(t){return t.isDisabled?.5:1})),DI=X_.div(BI||(BI=PI(["\n  display: flex;\n  flex-wrap: wrap;\n  /* border: 1px solid #ddd; */\n  padding: 10px;\n  border-radius: 3px;\n  box-shadow: 0px 0px 14px -3px rgba(0,0,0,0.34);\n"],["\n  display: flex;\n  flex-wrap: wrap;\n  /* border: 1px solid #ddd; */\n  padding: 10px;\n  border-radius: 3px;\n  box-shadow: 0px 0px 14px -3px rgba(0,0,0,0.34);\n"]))),LI=X_.div(GI||(GI=PI(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  transform: translate(20%, -20%);\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  transform: translate(20%, -20%);\n"]))),MI=X_.div(WI||(WI=PI(["\n  display: block;\n  width: 100%;\n  margin-bottom: 5px;\n"],["\n  display: block;\n  width: 100%;\n  margin-bottom: 5px;\n"]))),FI=X_.div(HI||(HI=PI(["\n  display: flex;\n  width: 100%;\n"],["\n  display: flex;\n  width: 100%;\n"]))),jI=X_.div(KI||(KI=PI(["\n  display: flex;\n  width: 30px;\n  justify-content: flex-start;\n  align-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  width: 30px;\n  justify-content: flex-start;\n  align-content: center;\n  align-items: center;\n"]))),UI=X_.div(JI||(JI=PI(["\n  width: calc(100% - 30px);\n"],["\n  width: calc(100% - 30px);\n"])));const VI=function(e){var n=e.id,r=e.limit,i=e.name,o=e.isDone,a=A(),s=(0,t.useState)(""),u=s[0],c=s[1],l=function(){c(""===u?n:"")};return t.createElement(OI,null,function(){if(""!==u)return t.createElement(ZE,{funcToClose:l},t.createElement(SI,{id:n,name:i,limit:r,isDone:o,onUpdateFunc:l}))}(),t.createElement(RI,{isDisabled:o},t.createElement(DI,{onClick:l},t.createElement(FI,null,t.createElement(jI,null,t.createElement(UE,{forText:n,isChecked:o},t.createElement(OE,{isChecked:o}))),t.createElement(UI,null,t.createElement(MI,null,t.createElement(TE,{date:r})),t.createElement(CE,{todoName:i}))))),t.createElement(LI,null,t.createElement(HE,{clickFunc:function(){window.confirm("Do you really want to delete this TODO?")&&a(function(t){return function(e){Ob.deleteTodo(t).then((function(){e(oE())}))}}(n))}})))};var qI,zI,BI,GI,WI,HI,KI,JI,QI=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},$I=function(){return($I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},YI=X_.div(nT||(nT=QI(["\n  display: block;\n"],["\n  display: block;\n"]))),XI=X_.ul(rT||(rT=QI(["\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  display: flex;\n  flex-wrap: wrap;\n"]))),ZI=X_.li(iT||(iT=QI(["\n  width: 100%;\n  margin-top: 10px;\n  &:first-child{\n    margin-top: 0;\n  }\n"],["\n  width: 100%;\n  margin-top: 10px;\n  &:first-child{\n    margin-top: 0;\n  }\n"]))),tT=X_.p(oT||(oT=QI(["\n  display: block;\n  width: 100%;\n  text-align: center;\n"],["\n  display: block;\n  width: 100%;\n  text-align: center;\n"])));const eT=function(e){var n=(0,t.useRef)(!0),r=A();(0,t.useEffect)((function(){n.current&&(n.current=!1,r(oE()))}));var i=R((function(t){return t.todo.todos})),o=R((function(t){return t.todo.queryData})),a=R((function(t){return t.todo.maxDisplayNum}));return t.createElement(YI,null,t.createElement(XI,null,function(){for(var e=EE().orderBy(i,"limit",o.sortKey),n=0,r=[],s=0;s<e.length&&!(n>=a);s++){var u=e[s];!o.isShowDoneTodo&&u.isDone||(""===o.keyword||EE().includes(u.name,o.keyword))&&(""!==o.start&&new Date(u.limit).getTime()<new Date(o.start).getTime()||""!==o.end&&new Date(o.end).getTime()<new Date(u.limit).getTime()||(n++,r.push(t.createElement(ZI,{key:n},t.createElement(VI,$I({},u))))))}return r.length>0?r:t.createElement(tT,null,"No displayable todo exist.")}()))};var nT,rT,iT,oT,aT=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},sT=X_.div(lT||(lT=aT(["\n  /* border: ","; */\n"],["\n  /* border: ","; */\n"])),(function(t){return t.isError?"1px solid #f00":"none"})),uT=X_.p(hT||(hT=aT(["\n  display: block;\n  color: #f00;\n"],["\n  display: block;\n  color: #f00;\n"])));const cT=function(e){var n=e.isError,r=e.msg,i=e.children;return t.createElement(sT,{isError:n},i,function(){var e=r||"";if(n)return t.createElement(uT,null,e)}())};var lT,hT,fT=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},pT=function(){return(pT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},dT=X_.div(wT||(wT=fT(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n  align-content: stretch;\n"],["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n  align-content: stretch;\n"]))),vT=X_.div(_T||(_T=fT(["\n  width: calc(100% - 90px);\n"],["\n  width: calc(100% - 90px);\n"]))),gT=X_.div(ET||(ET=fT(["\n  width: 80px;\n"],["\n  width: 80px;\n"]))),yT=X_(lE)(IT||(IT=fT(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n"],["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n"]))),mT=X_.div(TT||(TT=fT(["\n  margin-top: 5px;\n"],["\n  margin-top: 5px;\n"])));const bT=function(e){var n=(0,t.useState)(""),r=n[0],i=n[1],o=(0,t.useState)(Tw.formatDate(new Date)),a=o[0],s=o[1],u=(0,t.useState)({name:!1,limit:!1}),c=u[0],l=u[1],h=A();return t.createElement(dT,null,t.createElement(vT,null,t.createElement(cT,{isError:c.name,msg:""},t.createElement(hI,{text:r,onChange:function(t){i(t),l(pT(pT({},c),{name:""==t}))},placeholder:"todo"})),t.createElement(mT,null,t.createElement(cT,{isError:c.limit,msg:""},t.createElement(gI,{date:a,onChange:function(t){s(t),l(pT(pT({},c),{limit:""==t}))}})))),t.createElement(gT,null,t.createElement(yT,{onClick:function(){var t;""!=r&&""!=a?(h((t={id:"",name:r,isDone:!1,limit:a},function(e){Ob.addTodo(t).then((function(){e(oE())}))})),i(""),s("")):l({name:""==r,limit:""==a})}},"Create")))};var wT,_T,ET,IT,TT,ST,kT=X_.div(ST||(ST=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}(["\n  padding: 10px;\n  display: inline-block;\n"],["\n  padding: 10px;\n  display: inline-block;\n"]))).withComponent("button");const CT=function(e){var n=e.onClick,r=e.children;return t.createElement(kT,{onClick:n},r)};var xT=X_(cE.withComponent("label"))(NT||(NT=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}(["\n  opacity: ",";\n  input{\n    display: none;\n  }\n"],["\n  opacity: ",";\n  input{\n    display: none;\n  }\n"])),(function(t){return t.checked?.5:1}));const AT=function(e){var n=e.forText,r=e.checked,i=e.children;return t.createElement(xT,{checked:r,htmlFor:n},i)};var NT,PT=X_.input(RT||(RT=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}(["\n  \n"],["\n  \n"])));const OT=function(e){var n=e.id,r=e.checked,i=e.onChange;return t.createElement(PT,{type:"checkbox",id:n,onChange:i,checked:r})};var RT,DT=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},LT=X_.div(jT||(jT=DT(["\n  position: relative;\n  &:after{\n    content: '';\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n    display: block;\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 4px 0 4px;\n    border-color: #ffffff transparent transparent transparent;\n  }\n"],["\n  position: relative;\n  &:after{\n    content: '';\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n    display: block;\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 4px 0 4px;\n    border-color: #ffffff transparent transparent transparent;\n  }\n"]))),MT=X_(cE.withComponent("select"))(UT||(UT=DT(["\n  padding-right: 30px;\n  border: none;\n  outline: none;\n  font-size: 1.6rem;\n  line-height: 1em;\n"],["\n  padding-right: 30px;\n  border: none;\n  outline: none;\n  font-size: 1.6rem;\n  line-height: 1em;\n"])));const FT=function(e){var n=e.options,r=e.onChange,i=e.value;return t.createElement(LT,null,t.createElement(MT,{value:i,onChange:r},n.map((function(e,n){return t.createElement("option",{key:n,value:e.value},e.label)}))))};var jT,UT,VT=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},qT=function(){return(qT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},zT=X_.div(YT||(YT=VT(["\n  margin-bottom: 20px;\n  padding-bottom: 20px;\n  border-bottom: 1px dotted #000;\n"],["\n  margin-bottom: 20px;\n  padding-bottom: 20px;\n  border-bottom: 1px dotted #000;\n"]))),BT=X_.div(XT||(XT=VT(["\n  display: flex;\n  justify-content: space-between;\n  align-content: center;\n  align-items: center;\n  margin-top: 5px;\n  &:first-child{\n    margin-top: 0;\n  }\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-content: center;\n  align-items: center;\n  margin-top: 5px;\n  &:first-child{\n    margin-top: 0;\n  }\n"]))),GT=X_.div(ZT||(ZT=VT(["\n  width: 47%;\n"],["\n  width: 47%;\n"]))),WT=X_.div(tS||(tS=VT(["\n  width: 100%;\n"],["\n  width: 100%;\n"]))),HT=X_.div(eS||(eS=VT(["\n  text-align: center;\n  padding-top: 10px;\n  margin-bottom: -10px;\n"],["\n  text-align: center;\n  padding-top: 10px;\n  margin-bottom: -10px;\n"]))),KT=X_.div(nS||(nS=VT(["\n  width: calc(50% - 23px);\n"],["\n  width: calc(50% - 23px);\n"]))),JT=X_.div(rS||(rS=VT(["\n  width: calc(50% - 23px);\n"],["\n  width: calc(50% - 23px);\n"]))),QT=X_.div(iS||(iS=VT(["\n  width: 36px;\n"],["\n  width: 36px;\n"])));const $T=function(){var e,n=A(),r=R((function(t){return t.todo.queryData})),i=R((function(t){return t.todo.queryData.sortKey})),o=R((function(t){return t.todo.queryData.keyword})),a=R((function(t){return t.todo.queryData.isShowDoneTodo})),s=R((function(t){return t.todo.maxDisplayNum})),u=(0,t.useState)({start:"",end:""}),c=u[0],l=u[1],h=function(){n(uE(qT(qT({},r),{keyword:"",start:"",end:""}))),l({start:"",end:""})};return t.createElement(zT,null,t.createElement(BT,null,t.createElement(GT,null,t.createElement(gI,{date:c.start,onChange:function(t){l(qT(qT({},c),{start:t})),n(uE(qT(qT({},r),{start:t})))},max:c.end})),"",t.createElement(GT,null,t.createElement(gI,{date:c.end,onChange:function(t){l(qT(qT({},c),{end:t})),n(uE(qT(qT({},r),{end:t})))},min:c.start}))),t.createElement(BT,null,t.createElement(WT,null,t.createElement(hI,{text:o,onChange:function(t){n(uE(qT(qT({},r),{keyword:t})))},placeholder:"keyword"}))),t.createElement(BT,null,t.createElement(KT,null,t.createElement(AT,{forText:"isShowDoneTodo",checked:!a},t.createElement(OT,{id:"isShowDoneTodo",checked:a,onChange:function(){n(uE(qT(qT({},r),{isShowDoneTodo:!a})))}}),"DONE ")),t.createElement(JT,null,t.createElement(FT,{options:Iw,onChange:function(t){var e;n((e=Number(t.target.value),{type:B,num:e}))},value:s})),t.createElement(QT,null,(e="asc"===i?"":"",t.createElement(hE,{onClick:function(){n(function(t){return{type:z,sortKey:t}}("asc"===i?"desc":"asc"))}},e)))),function(){if(""!==r.keyword||""!==r.start||""!==r.end)return t.createElement(HT,null,t.createElement(CT,{onClick:h},"Clear"))}())};var YT,XT,ZT,tS,eS,nS,rS,iS,oS=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},aS=X_.div(lS||(lS=oS(["\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  z-index: 99;\n  background: rgba(255, 255, 255, .9);\n  padding: 10px;\n  border-top: 1px solid #aaa;\n"],["\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  z-index: 99;\n  background: rgba(255, 255, 255, .9);\n  padding: 10px;\n  border-top: 1px solid #aaa;\n"]))),sS=X_.div(hS||(hS=oS(["\n  padding: 20px 20px 120px;\n"],["\n  padding: 20px 20px 120px;\n"]))),uS=X_.div(fS||(fS=oS(["\n  display: block;\n  text-align: center;\n"],["\n  display: block;\n  text-align: center;\n"])));const cS=function(){var e=R((function(t){return t.todo.isLoaded})),n=A();return(0,t.useEffect)((function(){n(oE())})),t.createElement(sS,null,t.createElement(aS,null,t.createElement(bT,null)),t.createElement($T,null),e?t.createElement(eT,null):t.createElement(uS,null,"Loading..."))};var lS,hS,fS;const pS=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=M_.apply(void 0,[e].concat(r)),a="sc-global-"+q_(JSON.stringify(o)),s=new Y_(o,a);function u(e){var n=S_(),r=k_(),i=(0,t.useContext)(K_),o=(0,t.useRef)(n.allocateGSInstance(a)).current;return(0,t.useLayoutEffect)((function(){return c(o,e,n,i,r),function(){return s.removeStyles(o,n)}}),[o,e,n,i,r]),null}function c(t,e,n,r,i){if(s.isStatic)s.renderStyles(t,Bw,n,i);else{var o=Ow({},e,{theme:F_(e,r,u.defaultProps)});s.renderStyles(t,o,n,i)}}return t.memo(u)}(dS||(dS=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}(['\n  /*! destyle.css v2.0.2 | MIT License | https://github.com/nicolas-cusan/destyle.css */\n\n  *,\n  ::before,\n  ::after {\n    box-sizing: border-box;\n    border-style: solid;\n    border-width: 0;\n  }\n  html {\n    line-height: 1.15; /* 1 */\n    -webkit-text-size-adjust: 100%; /* 2 */\n    -webkit-tap-highlight-color: transparent; /* 3*/\n  }\n  body {\n    margin: 0;\n  }\n  main {\n    display: block;\n  }\n  p,\n  table,\n  blockquote,\n  address,\n  pre,\n  iframe,\n  form,\n  figure,\n  dl {\n    margin: 0;\n  }\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-size: inherit;\n    line-height: inherit;\n    font-weight: inherit;\n    margin: 0;\n  }\n  ul,\n  ol {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n  }\n  dt {\n    font-weight: bold;\n  }\n  dd {\n    margin-left: 0;\n  }\n  hr {\n    box-sizing: content-box; /* 1 */\n    height: 0; /* 1 */\n    overflow: visible; /* 2 */\n    border-top-width: 1px;\n    margin: 0;\n    clear: both;\n    color: inherit;\n  }\n  pre {\n    font-family: monospace, monospace; /* 1 */\n    font-size: inherit; /* 2 */\n  }\n  address {\n    font-style: inherit;\n  }\n  a {\n    background-color: transparent;\n    text-decoration: none;\n    color: inherit;\n  }\n  abbr[title] {\n    text-decoration: underline; /* 2 */\n    text-decoration: underline dotted; /* 2 */\n  }\n  b,\n  strong {\n    font-weight: bolder;\n  }\n  code,\n  kbd,\n  samp {\n    font-family: monospace, monospace; /* 1 */\n    font-size: inherit; /* 2 */\n  }\n  small {\n    font-size: 80%;\n  }\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n  img,\n  embed,\n  object,\n  iframe {\n    vertical-align: bottom;\n  }\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    -webkit-appearance: none;\n    appearance: none;\n    vertical-align: middle;\n    color: inherit;\n    font: inherit;\n    background: transparent;\n    padding: 0;\n    margin: 0;\n    outline: 0;\n    border-radius: 0;\n    text-align: inherit;\n  }\n  [type="checkbox"] {\n    -webkit-appearance: checkbox;\n    appearance: checkbox;\n  }\n\n  [type="radio"] {\n    -webkit-appearance: radio;\n    appearance: radio;\n  }\n  button,\n  input {\n    /* 1 */\n    overflow: visible;\n  }\n  button,\n  select {\n    /* 1 */\n    text-transform: none;\n  }\n  button,\n  [type="button"],\n  [type="reset"],\n  [type="submit"] {\n    cursor: pointer;\n    -webkit-appearance: none;\n    appearance: none;\n  }\n  button[disabled],\n  [type="button"][disabled],\n  [type="reset"][disabled],\n  [type="submit"][disabled] {\n    cursor: default;\n  }\n  button::-moz-focus-inner,\n  [type="button"]::-moz-focus-inner,\n  [type="reset"]::-moz-focus-inner,\n  [type="submit"]::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n  button:-moz-focusring,\n  [type="button"]:-moz-focusring,\n  [type="reset"]:-moz-focusring,\n  [type="submit"]:-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n  select::-ms-expand {\n    display: none;\n  }\n  option {\n    padding: 0;\n  }\n  fieldset {\n    margin: 0;\n    padding: 0;\n    min-width: 0;\n  }\n  legend {\n    color: inherit; /* 2 */\n    display: table; /* 1 */\n    max-width: 100%; /* 1 */\n    padding: 0; /* 3 */\n    white-space: normal; /* 1 */\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  textarea {\n    overflow: auto;\n  }\n  [type="number"]::-webkit-inner-spin-button,\n  [type="number"]::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [type="search"] {\n    outline-offset: -2px; /* 1 */\n  }\n  [type="search"]::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button; /* 1 */\n    font: inherit; /* 2 */\n  }\n  label[for] {\n    cursor: pointer;\n  }\n  details {\n    display: block;\n  }\n  summary {\n    display: list-item;\n  }\n  [contenteditable] {\n    outline: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  caption {\n    text-align: left;\n  }\n  td,\n  th {\n    vertical-align: top;\n    padding: 0;\n  }\n  th {\n    text-align: left;\n    font-weight: bold;\n  }\n  template {\n    display: none;\n  }\n  [hidden] {\n    display: none;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  html,\n  body{\n    font-family: \'Roboto\', sans-serif;\n  }\n\n  html{\n    font-size: 62.5%\n  }\n\n  body{\n    font-family:\n      "Helvetica Neue",\n      Arial,\n      "Hiragino Kaku Gothic ProN",\n      "Hiragino Sans",\n      Meiryo,\n      sans-serif;\n    font-size: 1.4rem;\n    background: #efefef;\n  }\n'],['\n  /*! destyle.css v2.0.2 | MIT License | https://github.com/nicolas-cusan/destyle.css */\n\n  *,\n  ::before,\n  ::after {\n    box-sizing: border-box;\n    border-style: solid;\n    border-width: 0;\n  }\n  html {\n    line-height: 1.15; /* 1 */\n    -webkit-text-size-adjust: 100%; /* 2 */\n    -webkit-tap-highlight-color: transparent; /* 3*/\n  }\n  body {\n    margin: 0;\n  }\n  main {\n    display: block;\n  }\n  p,\n  table,\n  blockquote,\n  address,\n  pre,\n  iframe,\n  form,\n  figure,\n  dl {\n    margin: 0;\n  }\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-size: inherit;\n    line-height: inherit;\n    font-weight: inherit;\n    margin: 0;\n  }\n  ul,\n  ol {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n  }\n  dt {\n    font-weight: bold;\n  }\n  dd {\n    margin-left: 0;\n  }\n  hr {\n    box-sizing: content-box; /* 1 */\n    height: 0; /* 1 */\n    overflow: visible; /* 2 */\n    border-top-width: 1px;\n    margin: 0;\n    clear: both;\n    color: inherit;\n  }\n  pre {\n    font-family: monospace, monospace; /* 1 */\n    font-size: inherit; /* 2 */\n  }\n  address {\n    font-style: inherit;\n  }\n  a {\n    background-color: transparent;\n    text-decoration: none;\n    color: inherit;\n  }\n  abbr[title] {\n    text-decoration: underline; /* 2 */\n    text-decoration: underline dotted; /* 2 */\n  }\n  b,\n  strong {\n    font-weight: bolder;\n  }\n  code,\n  kbd,\n  samp {\n    font-family: monospace, monospace; /* 1 */\n    font-size: inherit; /* 2 */\n  }\n  small {\n    font-size: 80%;\n  }\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n  img,\n  embed,\n  object,\n  iframe {\n    vertical-align: bottom;\n  }\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    -webkit-appearance: none;\n    appearance: none;\n    vertical-align: middle;\n    color: inherit;\n    font: inherit;\n    background: transparent;\n    padding: 0;\n    margin: 0;\n    outline: 0;\n    border-radius: 0;\n    text-align: inherit;\n  }\n  [type="checkbox"] {\n    -webkit-appearance: checkbox;\n    appearance: checkbox;\n  }\n\n  [type="radio"] {\n    -webkit-appearance: radio;\n    appearance: radio;\n  }\n  button,\n  input {\n    /* 1 */\n    overflow: visible;\n  }\n  button,\n  select {\n    /* 1 */\n    text-transform: none;\n  }\n  button,\n  [type="button"],\n  [type="reset"],\n  [type="submit"] {\n    cursor: pointer;\n    -webkit-appearance: none;\n    appearance: none;\n  }\n  button[disabled],\n  [type="button"][disabled],\n  [type="reset"][disabled],\n  [type="submit"][disabled] {\n    cursor: default;\n  }\n  button::-moz-focus-inner,\n  [type="button"]::-moz-focus-inner,\n  [type="reset"]::-moz-focus-inner,\n  [type="submit"]::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n  button:-moz-focusring,\n  [type="button"]:-moz-focusring,\n  [type="reset"]:-moz-focusring,\n  [type="submit"]:-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n  select::-ms-expand {\n    display: none;\n  }\n  option {\n    padding: 0;\n  }\n  fieldset {\n    margin: 0;\n    padding: 0;\n    min-width: 0;\n  }\n  legend {\n    color: inherit; /* 2 */\n    display: table; /* 1 */\n    max-width: 100%; /* 1 */\n    padding: 0; /* 3 */\n    white-space: normal; /* 1 */\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  textarea {\n    overflow: auto;\n  }\n  [type="number"]::-webkit-inner-spin-button,\n  [type="number"]::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [type="search"] {\n    outline-offset: -2px; /* 1 */\n  }\n  [type="search"]::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button; /* 1 */\n    font: inherit; /* 2 */\n  }\n  label[for] {\n    cursor: pointer;\n  }\n  details {\n    display: block;\n  }\n  summary {\n    display: list-item;\n  }\n  [contenteditable] {\n    outline: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  caption {\n    text-align: left;\n  }\n  td,\n  th {\n    vertical-align: top;\n    padding: 0;\n  }\n  th {\n    text-align: left;\n    font-weight: bold;\n  }\n  template {\n    display: none;\n  }\n  [hidden] {\n    display: none;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  html,\n  body{\n    font-family: \'Roboto\', sans-serif;\n  }\n\n  html{\n    font-size: 62.5%\n  }\n\n  body{\n    font-family:\n      "Helvetica Neue",\n      Arial,\n      "Hiragino Kaku Gothic ProN",\n      "Hiragino Sans",\n      Meiryo,\n      sans-serif;\n    font-size: 1.4rem;\n    background: #efefef;\n  }\n'])));var dS;const vS=function(e){var n=function(n){var r=n.wrappedComponentRef,i=iw(n,["wrappedComponentRef"]);return t.createElement(aw.Consumer,null,(function(n){return n||Ub(!1),t.createElement(e,T({},i,n,{ref:r}))}))};return n.displayName="withRouter("+(e.displayName||e.name)+")",n.WrappedComponent=e,f()(n,e)}((function(e){var n=e.children,r=e.history,i=A(),o=R((function(t){return t.user.user}));return(0,t.useEffect)((function(){null===o&&(i(nE()),r.push("/login"))})),t.createElement(t.Fragment,null,n)}));var gS=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},yS=X_.div(ES||(ES=gS(["\n  display: block;\n  position: absolute;\n  left: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 1.4rem;\n  font-weight: 700;\n"],["\n  display: block;\n  position: absolute;\n  left: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 1.4rem;\n  font-weight: 700;\n"]))),mS=X_(lE)(IS||(IS=gS(["\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n    background: none;\n    padding: 0;\n    width: 80px;\n    text-align: center;\n"],["\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n    background: none;\n    padding: 0;\n    width: 80px;\n    text-align: center;\n"]))),bS=X_.nav(TS||(TS=gS(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  width: 100%;\n  height: 40px;\n  background: #555;\n  color: #fff;\n"],["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  width: 100%;\n  height: 40px;\n  background: #555;\n  color: #fff;\n"]))),wS=X_.div(SS||(SS=gS(["\n  width: 100%;\n  padding-top: 40px;\n"],["\n  width: 100%;\n  padding-top: 40px;\n"])));const _S=function(){R((function(t){var e;return null===(e=t.user.user)||void 0===e?void 0:e.displayName}));var e=A();return t.createElement(t.Fragment,null,t.createElement(bS,null,t.createElement(yS,null,"Weyc"),t.createElement(mS,{onClick:function(){e((function(t){Ob.logout().then((function(){t(iE(null))})).catch((function(t){}))}))}},"LOGOUT")),t.createElement(wS,null))};var ES,IS,TS,SS;const kS=function(){return t.createElement(dw,null,t.createElement(_S,null),t.createElement(fw,null,t.createElement(hw,{path:"/login",component:mE}),t.createElement(vS,null,t.createElement(fw,null,t.createElement(hw,{exact:!0,path:"/",component:cS})))),t.createElement(pS,null))};document.addEventListener("DOMContentLoaded",(function(){e.render(t.createElement(l,{store:Lb},t.createElement(kS,null)),document.getElementById("app"))}))})()})();